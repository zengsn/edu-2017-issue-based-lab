{
  "committer" : {
    "login" : "ChenHauyu",
    "id" : 17856142,
    "avatar_url" : "https://avatars.githubusercontent.com/u/17856142?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/ChenHauyu",
    "html_url" : "https://github.com/ChenHauyu",
    "followers_url" : "https://api.github.com/users/ChenHauyu/followers",
    "following_url" : "https://api.github.com/users/ChenHauyu/following{/other_user}",
    "gists_url" : "https://api.github.com/users/ChenHauyu/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/ChenHauyu/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/ChenHauyu/subscriptions",
    "organizations_url" : "https://api.github.com/users/ChenHauyu/orgs",
    "repos_url" : "https://api.github.com/users/ChenHauyu/repos",
    "events_url" : "https://api.github.com/users/ChenHauyu/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/ChenHauyu/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "stats" : {
    "total" : 517,
    "additions" : 0,
    "deletions" : 517
  },
  "author" : {
    "login" : "ChenHauyu",
    "id" : 17856142,
    "avatar_url" : "https://avatars.githubusercontent.com/u/17856142?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/ChenHauyu",
    "html_url" : "https://github.com/ChenHauyu",
    "followers_url" : "https://api.github.com/users/ChenHauyu/followers",
    "following_url" : "https://api.github.com/users/ChenHauyu/following{/other_user}",
    "gists_url" : "https://api.github.com/users/ChenHauyu/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/ChenHauyu/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/ChenHauyu/subscriptions",
    "organizations_url" : "https://api.github.com/users/ChenHauyu/orgs",
    "repos_url" : "https://api.github.com/users/ChenHauyu/repos",
    "events_url" : "https://api.github.com/users/ChenHauyu/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/ChenHauyu/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "html_url" : "https://github.com/hzuapps/android-labs/commit/1be69168be7a9233fe8c3378508d056316dee2cd",
  "commit" : {
    "author" : {
      "name" : "ChenHauyu",
      "email" : "893769393@qq.com",
      "date" : "2016-05-19T02:23:30Z"
    },
    "committer" : {
      "name" : "ChenHauyu",
      "email" : "893769393@qq.com",
      "date" : "2016-05-19T02:23:30Z"
    },
    "message" : "Delete",
    "tree" : {
      "sha" : "bc46ec57ab7e4e747b58b52905789298d0eda1a4",
      "url" : "https://api.github.com/repos/hzuapps/android-labs/git/trees/bc46ec57ab7e4e747b58b52905789298d0eda1a4"
    },
    "url" : "https://api.github.com/repos/hzuapps/android-labs/git/commits/1be69168be7a9233fe8c3378508d056316dee2cd",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/android-labs/commits/1be69168be7a9233fe8c3378508d056316dee2cd/comments",
  "files" : [ {
    "sha" : "0baa27f533bfaf67a4fe4ba91e290ce9e6be4775",
    "filename" : "app/src/main/AndroidManifest.xml",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 27,
    "changes" : 27,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/912c11fc2af58f4320027516428a734909300e33/app/src/main/AndroidManifest.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/912c11fc2af58f4320027516428a734909300e33/app/src/main/AndroidManifest.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/AndroidManifest.xml?ref=912c11fc2af58f4320027516428a734909300e33",
    "patch" : "@@ -1,27 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>\n-<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n-    package=\"edu.hzuapps.andriodworks.homeworks.net1314080903204.tcp_tester\">\n-\n-    <uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" />\n-    <uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\" />\n-    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\n-    <uses-permission android:name=\"android.permission.INTERNET\" />\n-\n-    <application\n-        android:allowBackup=\"true\"\n-        android:icon=\"@drawable/icon2\"\n-        android:label=\"@string/app_name\"\n-        android:supportsRtl=\"true\"\n-        android:theme=\"@style/AppTheme\">\n-        <activity android:name=\".WelcomeActivity\" android:theme=\"@android:style/Theme.NoTitleBar.Fullscreen\">\n-            <intent-filter>\n-                <action android:name=\"android.intent.action.MAIN\" />\n-                <category android:name=\"android.intent.category.LAUNCHER\" />\n-            </intent-filter>\n-        </activity>\n-        <activity android:name=\".SelectActivity\" android:theme=\"@android:style/Theme.NoTitleBar.Fullscreen\"></activity>\n-        <activity android:name=\".ServerActivity\" android:theme=\"@android:style/Theme.NoTitleBar.Fullscreen\"></activity>\n-        <activity android:name=\".ClientActivity\" android:theme=\"@android:style/Theme.NoTitleBar.Fullscreen\"></activity>\n-    </application>\n-\n-</manifest>\n\\ No newline at end of file"
  }, {
    "sha" : "0baa27f533bfaf67a4fe4ba91e290ce9e6be4775",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/AndroidManifest.xml",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 27,
    "changes" : 27,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/912c11fc2af58f4320027516428a734909300e33/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/AndroidManifest.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/912c11fc2af58f4320027516428a734909300e33/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/AndroidManifest.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/AndroidManifest.xml?ref=912c11fc2af58f4320027516428a734909300e33",
    "patch" : "@@ -1,27 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>\n-<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n-    package=\"edu.hzuapps.andriodworks.homeworks.net1314080903204.tcp_tester\">\n-\n-    <uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" />\n-    <uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\" />\n-    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\n-    <uses-permission android:name=\"android.permission.INTERNET\" />\n-\n-    <application\n-        android:allowBackup=\"true\"\n-        android:icon=\"@drawable/icon2\"\n-        android:label=\"@string/app_name\"\n-        android:supportsRtl=\"true\"\n-        android:theme=\"@style/AppTheme\">\n-        <activity android:name=\".WelcomeActivity\" android:theme=\"@android:style/Theme.NoTitleBar.Fullscreen\">\n-            <intent-filter>\n-                <action android:name=\"android.intent.action.MAIN\" />\n-                <category android:name=\"android.intent.category.LAUNCHER\" />\n-            </intent-filter>\n-        </activity>\n-        <activity android:name=\".SelectActivity\" android:theme=\"@android:style/Theme.NoTitleBar.Fullscreen\"></activity>\n-        <activity android:name=\".ServerActivity\" android:theme=\"@android:style/Theme.NoTitleBar.Fullscreen\"></activity>\n-        <activity android:name=\".ClientActivity\" android:theme=\"@android:style/Theme.NoTitleBar.Fullscreen\"></activity>\n-    </application>\n-\n-</manifest>\n\\ No newline at end of file"
  }, {
    "sha" : "1fdd68be84679b4a6e0873fcb66c28be4eb5ce9e",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/ClientActivity.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 175,
    "changes" : 175,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/912c11fc2af58f4320027516428a734909300e33/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/ClientActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/912c11fc2af58f4320027516428a734909300e33/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/ClientActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/ClientActivity.java?ref=912c11fc2af58f4320027516428a734909300e33",
    "patch" : "@@ -1,175 +0,0 @@\n-package edu.hzuapps.andriodworks.homeworks.net1314080903204.tcp_tester;\n-\n-import android.annotation.SuppressLint;\n-import android.app.Activity;\n-import android.os.Bundle;\n-import android.os.Handler;\n-import android.os.Message;\n-import android.util.Log;\n-import android.view.View;\n-import android.widget.Button;\n-import android.widget.EditText;\n-import android.widget.Toast;\n-\n-import java.io.BufferedReader;\n-import java.io.BufferedWriter;\n-import java.io.IOException;\n-import java.io.InputStream;\n-import java.io.InputStreamReader;\n-import java.io.OutputStream;\n-import java.io.OutputStreamWriter;\n-import java.net.Socket;\n-import java.net.UnknownHostException;\n-\n-/**\n- * Create By ChenHauyu\n- * Email：mrchenhy@gmail.com\n- */\n-\n-/* 客户端界面代码 */\n-public class ClientActivity extends Activity {\n-    private final String TAG=\"ClientActivity\";\n-    private EditText edit_ip;\n-    private EditText edit_port;\n-    private EditText edit_send;\n-    private EditText edit_recv;\n-    private Button btn_connect;\n-    private Button btn_send;\n-    private boolean isConnected = false;\n-    Socket socket = null;\n-    BufferedWriter writer = null;\n-    BufferedReader reader = null;\n-    private String line;\n-\n-    @Override\n-    protected void onCreate(Bundle savedInstanceState){\n-        super.onCreate(savedInstanceState);\n-        setContentView(R.layout.activity_client);\n-        /* 初始化 */\n-        edit_ip = (EditText) findViewById(R.id.edit_ip);\n-        edit_port = (EditText) findViewById(R.id.edit_port);\n-        edit_send = (EditText) findViewById((R.id.edit_msgsend));\n-        edit_recv = (EditText) findViewById(R.id.edit_recv);\n-        btn_connect = (Button)findViewById(R.id.btn_connect);\n-        btn_send = (Button)findViewById(R.id.btn_send);\n-        /* 连接按钮 */\n-        btn_connect.setOnClickListener(new View.OnClickListener(){\n-            @Override\n-            public void onClick(View v) {\n-                /* 连接按钮处理函数 */\n-                connect();\n-            }\n-        });\n-        /* 发送按钮 */\n-        btn_send.setOnClickListener(new View.OnClickListener() {\n-            @Override\n-            public void onClick(View v) {\n-                /* 发送按钮处理函数 */\n-                send();\n-            }\n-        });\n-    }\n-\n-    /* 定义Handler对象 */\n-    private Handler handler = new Handler() {\n-        @Override\n-        /* 当有消息发送出来的时候就执行Handler的这个方法 */\n-        public void handleMessage(Message msg) {\n-            super.handleMessage(msg);\n-            /* 更新UI */\n-            edit_recv.append(line);\n-            /* 调试输出 */\n-            Log.i(\"PDA\", \"----->\" + line);\n-        }\n-    };\n-\n-    /* 连接按钮处理函数：建立Socket连接 */\n-    @SuppressLint(\"HandlerLeak\")\n-    public void connect() {\n-        if(false == isConnected){\n-            new Thread() {\n-                public void run(){\n-                    String IPAdr = edit_ip.getText().toString();\n-                    int PORT = Integer.parseInt(edit_port.getText().toString());\n-                    try {\n-                        /* 建立socket */\n-                        socket = new Socket(IPAdr, PORT);\n-                        /* 输出流 */\n-                        writer = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n-                        /* 输入流 */\n-                        reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n-                        /* 调试输出 */\n-                        Log.i(TAG, \"输入输出流获取成功\");\n-                        Log.i(TAG, \"检测数据\");\n-                        /* 读数据并更新UI */\n-                        char[] buf = new char[2048];\n-                        int i;\n-                        while((i= reader.read(buf,0,100))!=-1)\n-                        {\n-                            line = new String(buf,0,i);\n-                            Message msg = handler.obtainMessage();\n-                            msg.obj = line;\n-                            handler.sendMessage(msg);\n-                            Log.i(TAG, \"send to handler\");\n-                        }\n-                    } catch (UnknownHostException e){\n-                        Toast.makeText(ClientActivity.this,\"无法建立连接：）\",Toast.LENGTH_SHORT).show();\n-                        e.printStackTrace();\n-                        isConnected = false;\n-                    }\n-                    catch (IOException e) {\n-                        Toast.makeText(ClientActivity.this,\"无法建立连接：）\",Toast.LENGTH_SHORT).show();\n-                        e.printStackTrace();\n-                        isConnected = false;\n-                    }\n-                }\n-            }.start();\n-            isConnected = true;\n-            /* 更新UI */\n-            btn_connect.setText(\"断开\");\n-            Toast.makeText(ClientActivity.this,\"连接成功：）\",Toast.LENGTH_SHORT).show();\n-        }else{\n-            isConnected = false;\n-            /* 更新UI */\n-            btn_connect.setText(\"连接\");\n-            edit_send.setText(\"\");\n-            edit_recv.setText(\"\");\n-            /* 关闭socket */\n-            onDestroy();\n-            Toast.makeText(ClientActivity.this,\"连接已断开：）\",Toast.LENGTH_SHORT).show();\n-        }\n-    }\n-\n-    /* 发送按钮处理函数：向输出流写数据 */\n-    public void send() {\n-        try {\n-            /* 向输出流写数据 */\n-            writer.write(edit_send.getText().toString()+\"\\n\");\n-            writer.flush();\n-            /* 更新UI */\n-            edit_send.setText(\"\");\n-        } catch (IOException e) {\n-            e.printStackTrace();\n-        }\n-    }\n-\n-    @Override\n-    protected void onDestroy() {\n-        try {\n-            /* 关闭socket */\n-            if(null != socket){\n-                socket.shutdownInput();\n-                socket.shutdownOutput();\n-                socket.getInputStream().close();\n-                socket.getOutputStream().close();\n-                socket.close();\n-            }\n-        } catch (IOException e) {\n-            Log.d(TAG,e.getMessage());\n-        }\n-        /* 更新UI */\n-        btn_connect.setText(\"连接\");\n-        edit_recv.setText(\"\");\n-        super.onDestroy();\n-    }\n-}"
  }, {
    "sha" : "37a148ed1489cc5a415e0c2e19bc9b2c545077c0",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/SelectActivity.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 37,
    "changes" : 37,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/912c11fc2af58f4320027516428a734909300e33/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/SelectActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/912c11fc2af58f4320027516428a734909300e33/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/SelectActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/SelectActivity.java?ref=912c11fc2af58f4320027516428a734909300e33",
    "patch" : "@@ -1,37 +0,0 @@\n-package edu.hzuapps.andriodworks.homeworks.net1314080903204.tcp_tester;\n-\n-import android.app.Activity;\n-import android.content.Intent;\n-import android.os.Bundle;\n-import android.view.View;\n-\n-/**\n- * Create By ChenHauyu\n- * Email：mrchenhy@gmail.com\n- */\n-\n-/*功能选择界面代码*/\n-public class SelectActivity extends Activity {\n-    @Override\n-    protected void onCreate(Bundle savedInstanceState) {\n-        super.onCreate(savedInstanceState);\n-        setContentView(R.layout.activity_select);\n-        /*“模拟服务端”按钮事件*/\n-        findViewById(R.id.btn_toServer).setOnClickListener(new View.OnClickListener(){\n-            @Override\n-            public void onClick(View v) {\n-                Intent intent = new Intent(SelectActivity.this,ServerActivity.class);   //页面跳转至服务端界面\n-                startActivity(intent);\n-            }\n-        });\n-        /*“模拟客户端”按钮事件*/\n-        findViewById(R.id.btn_toClient).setOnClickListener(new View.OnClickListener(){\n-            @Override\n-            public void onClick(View v) {\n-                Intent intent = new Intent(SelectActivity.this,ClientActivity.class);   //页面跳转至客户端界面\n-                startActivity(intent);\n-            }\n-        });\n-    }\n-}\n-"
  }, {
    "sha" : "668b69a0009ad650130e034a76e665995430ebeb",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/ServerActivity.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 219,
    "changes" : 219,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/912c11fc2af58f4320027516428a734909300e33/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/ServerActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/912c11fc2af58f4320027516428a734909300e33/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/ServerActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/ServerActivity.java?ref=912c11fc2af58f4320027516428a734909300e33",
    "patch" : "@@ -1,219 +0,0 @@\n-package edu.hzuapps.andriodworks.homeworks.net1314080903204.tcp_tester;\n-\n-import java.io.BufferedWriter;\n-import java.io.IOException;\n-import java.io.InputStream;\n-import java.io.OutputStreamWriter;\n-import java.net.ServerSocket;\n-import java.net.Socket;\n-\n-import android.app.Activity;\n-import android.os.Bundle;\n-import android.text.method.ScrollingMovementMethod;\n-import android.util.Log;\n-import android.view.View;\n-import android.widget.Button;\n-import android.widget.EditText;\n-import android.widget.Toast;\n-\n-/**\n- * Create By ChenHauyu\n- * Email：mrchenhy@gmail.com\n- */\n-\n-/* 服务端界面代码 */\n-public class ServerActivity extends Activity {\n-    private final String TAG=\"ServerActivity\";\n-    private boolean isConnected = false;\n-    private ServerSocket serverSocket=null;\n-    private static Socket[] client = null;\n-    private final int  MAXSIZE = 3; //设置最大连接数\n-    private Integer client_index = 0;\n-    private InputStream inputStream=null;\n-    private boolean thread_flag=true;\n-    private boolean thread_read_flag=true;\n-    StringBuilder rec_str = null;\n-    BufferedWriter writer = null;\n-\n-    private EditText edit_listenport = null;\n-    private Button btn_connect = null;\n-    private EditText edit_recv = null;\n-    private EditText edit_send = null;\n-    private Button btn_send = null;\n-\n-    @Override\n-    public void onCreate(Bundle savedInstanceState) {\n-        super.onCreate(savedInstanceState);\n-        setContentView(R.layout.activity_server);\n-        /* 初始化 */\n-        initControls();\n-        /*发送按钮*/\n-        btn_send.setOnClickListener(new View.OnClickListener() {\n-            @Override\n-            public void onClick(View v) {\n-                /* 发送按钮处理函数 */\n-                send();\n-            }\n-        });\n-        //监听按钮\n-        btn_connect.setOnClickListener(new View.OnClickListener(){\n-            @Override\n-            public void onClick(View v) {\n-                /* 监听按钮处理函数 */\n-                listen();\n-            }\n-        });\n-    }\n-/*------------------------------------------------------------------------------------*/\n-    /* 初始化 */\n-    private void initControls(){\n-        edit_listenport = (EditText)findViewById(R.id.edit_listenport);\n-        btn_connect = (Button)findViewById(R.id.btn_listen);\n-        btn_send = (Button)findViewById(R.id.btn_send);\n-        edit_send = (EditText)findViewById(R.id.edit_msgsend);\n-        edit_recv = (EditText)findViewById(R.id.edit_recv);\n-\n-        edit_recv.setMovementMethod(ScrollingMovementMethod.getInstance());\n-        client = new Socket[MAXSIZE];\n-        client_index = new Integer(0);\n-    }\n-\n-    /* 线程ReadThread：从客户端读取数据 */\n-    public class ReadThread implements Runnable {\n-        int index;\n-        public ReadThread(int index){\n-            this.index = index;\n-        }\n-        public void run() {\n-            byte[] data = new byte[1024];\n-            try {\n-                while (true) {\n-                    /* 输入流 */\n-                    inputStream = client[index].getInputStream();\n-                    int readBytes = inputStream.read(data);\n-                    /* 调试输出 */\n-                    Log.d(TAG, \"index:\"+index+\" readBytes:\" + readBytes + \" data:\"+ new String(data, 0, readBytes));\n-                    Log.d(TAG,\"from: \"+client[index].getRemoteSocketAddress().toString());\n-                    if (readBytes == 0)\n-                        continue;\n-                    rec_str.append(new String(data, 0, readBytes));\n-                    runOnUiThread(new Runnable() {\n-                        public void run() {\n-                            /* 更新UI */\n-                            edit_recv.setText(rec_str.toString());\n-                        }\n-                    });\n-                }\n-            } catch (Exception e) {\n-                Log.d(TAG, \"ReadThread:while (thread_flag)\" + e.getMessage());\n-                thread_read_flag = false;\n-\n-            } finally {\n-                try {\n-                    inputStream.close();\n-                } catch (IOException e) {\n-                    Log.d(TAG, \"ReadThread: \" + e.getMessage());\n-                }\n-            }\n-        }\n-    }\n-\n-   /* 线程SocketServerThread：监听端口 */\n-    public class SocketServerThread implements Runnable {\n-        public void run() {\n-            Log.d(TAG, \"SocketServerThread\");\n-            try {\n-                while (thread_flag) {\n-                    client_index = client_index % MAXSIZE;\n-                    Log.d(TAG, \"Server opened! on\" + edit_listenport.getText().toString());\n-                    /* accept（）阻塞，一直监听端口，判断是否与连接 */\n-                    client[client_index] = serverSocket.accept();\n-                    /* 输出流 */\n-                    writer = new BufferedWriter(new OutputStreamWriter(client[client_index].getOutputStream()));\n-                    thread_read_flag = true;\n-                    /* 开启线程，接收数据 */\n-                    new Thread(new ReadThread(client_index)).start();\n-                    client_index ++ ;\n-                }\n-            }catch (Exception e) {\n-                Log.d(TAG, e.getMessage());\n-                thread_flag = false;\n-                thread_read_flag = false;\n-            }\n-        }\n-    }\n-\n-   /* 监听按钮处理函数：开始监听端口 */\n-    public void listen() {\n-        if(false == isConnected){\n-            try {\n-                rec_str = new StringBuilder();\n-                /* 监听端口 */\n-                serverSocket = new ServerSocket(Integer.valueOf(edit_listenport.getText().toString()));\n-                Toast.makeText(ServerActivity.this,\"监听成功：）\",Toast.LENGTH_SHORT).show();\n-                /* 开启线程，等待连接 */\n-                new Thread(new SocketServerThread()).start();\n-                /* 更新UI */\n-                btn_connect.setText(\"停止监听\");\n-                isConnected = true;\n-                thread_flag = true;\n-                thread_read_flag = true;\n-            } catch (NumberFormatException e) {\n-                // TODO Auto-generated catch block\n-                Log.d(TAG,e.getMessage());\n-                isConnected = false;\n-                thread_flag = false;\n-            } catch (IOException e) {\n-                // TODO Auto-generated catch block\n-                Log.d(TAG,e.getMessage());\n-                isConnected = false;\n-                thread_flag = false;\n-            }\n-        }else{\n-            onDestroy();\n-        }\n-    }\n-\n-    /* 发送按钮处理函数：向输出流写数据 */\n-    public void send() {\n-        try {\n-            /*  向输出流写数据 */\n-            writer.write(edit_send.getText().toString()+\"\\n\");\n-            writer.flush();\n-            /* 更新UI */\n-            edit_send.setText(\"\");\n-        } catch (IOException e) {\n-            // TODO Auto-generated catch block\n-            e.printStackTrace();\n-        }\n-    }\n-\n-    @Override\n-    protected void onDestroy() {\n-        // TODO Auto-generated method stub\n-        isConnected = false;\n-        thread_flag = false;\n-        try {\n-            /* 关闭socket */\n-            for(int i=0;i<MAXSIZE;i++){\n-                if(client[client_index].isConnected()) {\n-                    client[client_index].shutdownInput();\n-                    client[client_index].shutdownOutput();\n-                    client[client_index].getInputStream().close();\n-                    client[client_index].getOutputStream().close();\n-                    client[client_index].close();\n-                }\n-            }\n-            /* 关闭serversocket*/\n-            serverSocket.close();\n-        } catch (IOException e) {\n-            // TODO Auto-generated catch block\n-            Log.d(TAG,e.getMessage());\n-        }\n-        /* 更新UI*/\n-        btn_connect.setText(\"开始监听\");\n-        edit_recv.setText(\"\");\n-        super.onDestroy();\n-    }\n-}\n-"
  }, {
    "sha" : "f30d67817d18eef72afa508be31957ec3d3d7aa9",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/WelcomeActivity.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 32,
    "changes" : 32,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/912c11fc2af58f4320027516428a734909300e33/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/WelcomeActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/912c11fc2af58f4320027516428a734909300e33/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/WelcomeActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903204/tcp_tester/WelcomeActivity.java?ref=912c11fc2af58f4320027516428a734909300e33",
    "patch" : "@@ -1,32 +0,0 @@\n-package edu.hzuapps.andriodworks.homeworks.net1314080903204.tcp_tester;\n-\n-import android.app.Activity;\n-import android.content.Intent;\n-import android.os.Handler;\n-import android.os.Bundle;\n-\n-/**\n- * Create By ChenHauyu\n- * Email：mrchenhy@gmail.com\n- */\n-\n-/* 欢迎界面代码*/\n-public class WelcomeActivity extends Activity {\n-\n-    @Override\n-    protected void onCreate(Bundle savedInstanceState) {\n-        super.onCreate(savedInstanceState);\n-        setContentView(R.layout.activity_welcome);\n-\n-        new Handler().postDelayed(new Runnable() {\n-            @Override\n-            public void run() {\n-                Intent toselect = new Intent(WelcomeActivity.this,SelectActivity.class);    //跳转至功能选择界面\n-                startActivity(toselect);\n-                WelcomeActivity.this.finish();\n-                finish();\n-            }\n-        },3000);    //延时跳转：3秒\n-    }\n-}\n-"
  } ],
  "sha" : "1be69168be7a9233fe8c3378508d056316dee2cd",
  "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/1be69168be7a9233fe8c3378508d056316dee2cd",
  "parents" : [ {
    "sha" : "912c11fc2af58f4320027516428a734909300e33",
    "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/912c11fc2af58f4320027516428a734909300e33",
    "html_url" : "https://github.com/hzuapps/android-labs/commit/912c11fc2af58f4320027516428a734909300e33"
  } ]
}