{
  "committer" : {
    "login" : "YLiuLiu",
    "id" : 14875394,
    "avatar_url" : "https://avatars.githubusercontent.com/u/14875394?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/YLiuLiu",
    "html_url" : "https://github.com/YLiuLiu",
    "followers_url" : "https://api.github.com/users/YLiuLiu/followers",
    "following_url" : "https://api.github.com/users/YLiuLiu/following{/other_user}",
    "gists_url" : "https://api.github.com/users/YLiuLiu/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/YLiuLiu/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/YLiuLiu/subscriptions",
    "organizations_url" : "https://api.github.com/users/YLiuLiu/orgs",
    "repos_url" : "https://api.github.com/users/YLiuLiu/repos",
    "events_url" : "https://api.github.com/users/YLiuLiu/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/YLiuLiu/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "stats" : {
    "total" : 285,
    "additions" : 30,
    "deletions" : 255
  },
  "author" : {
    "login" : "YLiuLiu",
    "id" : 14875394,
    "avatar_url" : "https://avatars.githubusercontent.com/u/14875394?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/YLiuLiu",
    "html_url" : "https://github.com/YLiuLiu",
    "followers_url" : "https://api.github.com/users/YLiuLiu/followers",
    "following_url" : "https://api.github.com/users/YLiuLiu/following{/other_user}",
    "gists_url" : "https://api.github.com/users/YLiuLiu/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/YLiuLiu/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/YLiuLiu/subscriptions",
    "organizations_url" : "https://api.github.com/users/YLiuLiu/orgs",
    "repos_url" : "https://api.github.com/users/YLiuLiu/repos",
    "events_url" : "https://api.github.com/users/YLiuLiu/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/YLiuLiu/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "html_url" : "https://github.com/hzuapps/android-labs/commit/47cd8076bc0cb68b26430a201ee32df5c7d05645",
  "commit" : {
    "author" : {
      "name" : "YLiuLiu",
      "email" : "851942035@qq.com",
      "date" : "2016-06-16T06:51:05Z"
    },
    "committer" : {
      "name" : "YLiuLiu",
      "email" : "851942035@qq.com",
      "date" : "2016-06-16T06:51:05Z"
    },
    "message" : "Revert \"#93 #94 #95 #76 实验已完成\"\n\nThis reverts commit 6f31555cf8235b6eb68f6806995db8bebe6e606d.",
    "tree" : {
      "sha" : "fa3baafdd8605e07dfc4ffaac7b91ba8c4eb4778",
      "url" : "https://api.github.com/repos/hzuapps/android-labs/git/trees/fa3baafdd8605e07dfc4ffaac7b91ba8c4eb4778"
    },
    "url" : "https://api.github.com/repos/hzuapps/android-labs/git/commits/47cd8076bc0cb68b26430a201ee32df5c7d05645",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/android-labs/commits/47cd8076bc0cb68b26430a201ee32df5c7d05645/comments",
  "files" : [ {
    "sha" : "2780b839d27bf8359d5897c895bd372ce814c58f",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901239/Com1314080901239Activity.java",
    "status" : "modified",
    "additions" : 30,
    "deletions" : 111,
    "changes" : 141,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/47cd8076bc0cb68b26430a201ee32df5c7d05645/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901239/Com1314080901239Activity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/47cd8076bc0cb68b26430a201ee32df5c7d05645/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901239/Com1314080901239Activity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901239/Com1314080901239Activity.java?ref=47cd8076bc0cb68b26430a201ee32df5c7d05645",
    "patch" : "@@ -3,127 +3,46 @@\n import java.io.File;\n \n import android.app.Activity;\n-import android.content.ContentResolver;\n import android.content.Intent;\n-import android.database.Cursor;\n-import android.graphics.Bitmap;\n-import android.graphics.drawable.BitmapDrawable;\n-import android.graphics.drawable.Drawable;\n import android.net.Uri;\n import android.os.Bundle;\n import android.provider.MediaStore;\n import android.view.View;\n-import android.widget.ImageView;\n import android.widget.Toast;\n \n-public class Com1314080901239Activity extends Activity {\n \n-\tprivate final String IMAGE_TYPE = \"image/*\";\n-\tprivate final int PICK_PHOTO = 1; // ѡ����Ƭ\n-\tprivate final int TAKE_PHOTO = 0; // ����\n-\tprivate final int CUT_PHOTO = 2;// �ü�ͼƬ\n+public class Com1314080901239Activity extends Activity {\n \tprivate Uri fileUri;\n-\tprivate ImageView iv;\n-\tprivate String path;\n-\n-\t@Override\n-\tprotected void onCreate(Bundle savedInstanceState) {\n-\t\tsuper.onCreate(savedInstanceState);\n-\t\tsetContentView(R.layout.activity_com1314080901239);\n-\t\tiv = (ImageView) findViewById(R.id.iv);\n-\t}\n-\n-\t// ����\n-\tpublic void takePhoto(View v) {\n-\n-\t\t// ��һ����ͼ��������ǵ���google�������ṩ�ģ��ֻ��Դ������Ӧ��\n-\t\tIntent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n-\t\t// ���ô洢·��\n-\t\tintent.putExtra(MediaStore.EXTRA_OUTPUT,\n-\t\t// ����ͼƬ�洢·��������\n-\t\t\t\tUri.fromFile(new File(\"sdcard/nuna.jpg\")));\n-\n-\t\tstartActivityForResult(intent, TAKE_PHOTO);\n-\n-\t}\n-\n-\tpublic void pickPhoto(View v) {\n-\t\t// ����ϵͳ�ṩ����Ṧ��\n-\t\tIntent intent = new Intent(Intent.ACTION_GET_CONTENT);\n-\t\tintent.setType(IMAGE_TYPE);\n-\t\tstartActivityForResult(intent, PICK_PHOTO);\n-\n-\t}\n-\n-\tpublic void cutPhoto(View v) {\n-\t\t Cutphoto();\n-\t}\n \t\n-\tpublic void getJson(View v){\n-\t\tIntent intent=new Intent(Com1314080901239Activity.this,Com1314080901239GetJson.class);\n-\t\tstartActivity(intent);\n-\t}\n+    @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        setContentView(R.layout.activity_com1314080901239);\n+    }\n+    // ����¼�\n+ \tpublic void takePhoto(View v) {\n+ \t\t// create Intent to take a picture and return control to the calling\n+ \t\t// application\n+ \t\t// ��һ����ͼ��������ǵ���google�������ṩ�ģ��ֻ��Դ������Ӧ��\n+ \t\tIntent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n+ \t\t// ���ô洢·��\n+ \t\tintent.putExtra(MediaStore.EXTRA_OUTPUT,\n+ \t\t\t\tUri.fromFile(new File(\"sdcard/nuna.jpg\"))); // set the image\n+ \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// file name\n+\n+ \t\t// start the image capture Intent\n+ \t\tstartActivityForResult(intent, 0);\n+\n+ \t}\n+\n+ \t@Override\n+ \tprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n+ \t\t// TODO Auto-generated method stub\n+ \t\tsuper.onActivityResult(requestCode, resultCode, data);\n+ \t\tif (requestCode == 0) {\n+ \t\t\tToast.makeText(getApplicationContext(), \"���ճɹ�\", 0).show();\n+ \t\t}\n+ \t}\n \n-\t@Override\n-\tprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n-\t\t// TODO Auto-generated method stub\n-\t\tsuper.onActivityResult(requestCode, resultCode, data);\n-\t\tBitmap bm = null;\n-\t\tContentResolver resolver = getContentResolver();\n-\t\tif (requestCode == TAKE_PHOTO) {\n-\t\t\tToast.makeText(getApplicationContext(), \"���ճɹ�\", 0).show();\n-\t\t} else if (requestCode == PICK_PHOTO) {\n-\t\t\tUri originalUri = data.getData();\n-\t\t\ttry {\n-\t\t\t\tbm = MediaStore.Images.Media.getBitmap(resolver, originalUri);\n-\t\t\t\tiv.setImageBitmap(bm);\n-\t\t\t\tString[] proj = { MediaStore.Images.Media.DATA };\n-\t\t\t\tCursor cursor = managedQuery(originalUri, proj, null, null,\n-\t\t\t\t\t\tnull);\n-\t\t\t\tint column_index = cursor\n-\t\t\t\t\t\t.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\n-\n-\t\t\t\tcursor.moveToFirst();\n-\t\t\t\t// ���������ֵ��ȡͼƬ·��\n-\t\t\t\tpath = cursor.getString(column_index);\n-\n-\n-\t\t\t} catch (Exception e) {\n-\t\t\t\t// TODO Auto-generated catch block\n-\t\t\t\te.printStackTrace();\n-\t\t\t}\n-\n-\t\t} else if (requestCode == CUT_PHOTO) {\n-\t\t\tif (resultCode == RESULT_OK) {\n-\t\t\t\tsavePhoto(data);\n-\t\t\t}\n-\t\t}\n-\t}\n-\n-\t// �ü�ͼƬ�ķ���\n-\tpublic void Cutphoto() {\n-\t\tIntent intent = new Intent(\"com.android.camera.action.CROP\");\n-\t\t//intent.setDataAndType(uri, IMAGE_TYPE);\n-\t\tintent.putExtra(\"crop\", \"true\");\n-\t\tintent.putExtra(\"aspectX\", 1);\n-\t\tintent.putExtra(\"aspectY\", 1);\n-\t\tintent.putExtra(\"outoutX\", 150);\n-\t\tintent.putExtra(\"outputY\", 150);\n-\t\tintent.putExtra(\"return-data\", true);\n-\t\tstartActivityForResult(intent, CUT_PHOTO);\n-\n-\t}\n-\n-\t// ����ü���ͼƬ\n-\tpublic void savePhoto(Intent intent) {\n-\t\tBundle extras = intent.getExtras();\n-\t\tif (extras != null) {\n-\t\t\tBitmap photo = extras.getParcelable(\"data\");\n-\t\t\tDrawable drawable = new BitmapDrawable(photo);\n-\t\t\tiv.setBackgroundDrawable(drawable);\n-\t\t}\n-\t}\n-\t\n-\t\n \n }"
  }, {
    "sha" : "6f08ec46ef256d82e3ae7cd4592cb5b25bea2154",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901239/Com1314080901239GetJson.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 144,
    "changes" : 144,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/6f31555cf8235b6eb68f6806995db8bebe6e606d/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901239/Com1314080901239GetJson.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/6f31555cf8235b6eb68f6806995db8bebe6e606d/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901239/Com1314080901239GetJson.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901239/Com1314080901239GetJson.java?ref=6f31555cf8235b6eb68f6806995db8bebe6e606d",
    "patch" : "@@ -1,144 +0,0 @@\n-package com.example.test;\n-\n-import java.io.ByteArrayOutputStream;\n-import java.io.InputStream;\n-import java.net.HttpURLConnection;\n-import java.net.URL;\n-\n-import org.json.JSONObject;\n-\n-\n-import android.os.Bundle;\n-import android.os.Handler;\n-import android.os.Message;\n-import android.app.Activity;\n-import android.view.Menu;\n-import android.view.View;\n-import android.widget.TextView;\n-import android.widget.Toast;\n-\n-public class Com1314080901239GetJson extends Activity {\n-\n-\tprivate final int SUCCESS = 1;\n-\tprivate final int FAILURE = 0;\n-\tprivate final int ERRORCODE = 2;\n-\tprivate TextView tv;\n-\t\n-\tprivate Handler handler=new Handler(){\n-\t\tpublic void handleMessage(Message msg){\n-\t\t\tswitch (msg.what) {\n-\t\t\tcase SUCCESS:\n-\t\t\t\tString result=getJson(msg.obj.toString());\n-\t\t\t\t//���̸߳���UI\n-\t\t\t\ttv.setText(result);\n-\t\t\t\tToast.makeText(Com1314080901239GetJson.this, \"��ȡ��ݳɹ�\", Toast.LENGTH_SHORT)\n-\t\t\t\t.show();\n-\t\t\t\tbreak;\n-\t\t\tcase FAILURE:\n-\t\t\t\tToast.makeText(Com1314080901239GetJson.this, \"��ȡ���ʧ��\", Toast.LENGTH_SHORT)\n-\t\t\t\t.show();\n-\t\t\tcase ERRORCODE:\n-\t\t\t\tToast.makeText(Com1314080901239GetJson.this, \"��ȡ��CODE�벻Ϊ200��\",\n-\t\t\t\t\t\tToast.LENGTH_SHORT).show();\n-\t\t\tdefault:\n-\t\t\t\tbreak;\n-\t\t\t}\n-\t\t}\n-\t};\n-\tprotected void onCreate(Bundle savedInstanceState) {\n-\t\tsuper.onCreate(savedInstanceState);\n-\t\tsetContentView(R.layout.activity_com1314080901239_get_json);\n-\t\ttv=(TextView) findViewById(R.id.tv);\n-\t}\n-\t\n-\tpublic String getJson(String string){\n-\t\tJSONObject jObject= null;\n-\t\ttry {\n-\t\t\tjObject =new JSONObject(string);\n-\t\t} catch (Exception e) {\n-\t\t\t// TODO Auto-generated catch block\n-\t\t\te.printStackTrace();\n-\t\t\tSystem.out.println(\"����JsonObjectʧ��\");\n-\t\t}\n-\t\t//����JSON���\n-\t\tString city=jObject.optString(\"city\");\n-\t\tString city_en=jObject.optString(\"city_en\");\n-\t\tString date_y=jObject.optString(\"date_y\");\n-\t\tString week=jObject.optString(\"week\");\n-\t\tint cityid=jObject.optInt(\"cityid\");\n-\t\tString temp1=jObject.optString(\"temp1\");\n-\t\tSystem.out.println(temp1+\"\"+date_y+\"\"+city_en+\"\"+cityid+\"\"+week+\"\"+city);\n-\t\tString weatherResult=\"���У�\"+city+\"\\n����Ӣ����\"+city_en+\"\\n���ڣ�\"+date_y+\"\\n���ڣ�\"+week+\"\\n���б�ţ�\"+cityid+\"\\n�¶ȣ�\"+temp1;\n-\t\treturn weatherResult;\n-\t}\n-\t\n-\tpublic void click(View v){\n-\t\t//�����̻߳�ȡ��������\n-\t\tnew Thread(){\n-\t\t\tint code=0;\n-\t\t\tpublic void run() {\n-\t\t\t\t// TODO Auto-generated method stub\n-\t\t\t\ttry {\n-\t\t\t\t\t\n-\t\t\t\t\tString path=\"https://raw.githubusercontent.com/hzuapps/android-labs/master/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901239/city.json\";\n-\t\t\t\t\tURL url=new URL(path);\n-\t\t\t\t\tHttpURLConnection conn=(HttpURLConnection) url.openConnection();\n-\t\t\t\t\t//����GET����\n-\t\t\t\t\tconn.setRequestMethod(\"GET\");\n-\t\t\t\t\t//��������ʱʱ��\n-\t\t\t\t\tconn.setConnectTimeout(5000);\n-\t\t\t\t\tcode=conn.getResponseCode();\n-\t\t\t\t\tSystem.out.println(code);\n-\t\t\t\t\t//200��ʾ��ȡ����ɹ�\n-\t\t\t\t\tif(code==200){\n-\t\t\t\t\t\tSystem.out.println(\"��ȡ��ݳɹ�\");\n-\t\t\t\t\t\tInputStream is=conn.getInputStream();\n-\t\t\t\t\t\tString result = readMyInputStream(is);\n-\t\t\t\t\t\t\n-\t\t\t\t\t\t//handle Message\n-\t\t\t\t\t\tMessage msg=new Message();\n-\t\t\t\t\t\tmsg.obj= result;\n-\t\t\t\t\t\tmsg.what=SUCCESS;\n-\t\t\t\t\t\thandler.sendMessage(msg);\n-\t\t\t\t\t} else {\n-\t\t\t\t\t\tMessage msg = new Message();\n-\t\t\t\t\t\tmsg.what = ERRORCODE;\n-\t\t\t\t\t\thandler.sendMessage(msg);\n-\t\t\t\t\t}\n-\t\t\t\t} catch (Exception e) {\n-\t\t\t\t\t// TODO Auto-generated catch block\n-\t\t\t\t\tSystem.out.println(\"��ȡ���ʧ��\");\n-\t\t\t\t\te.printStackTrace();\n-\t\t\t\t\tMessage msg = new Message();\n-\t\t\t\t\tmsg.what = FAILURE;\n-\t\t\t\t\thandler.sendMessage(msg);\n-\t\t\t\t}\n-\t\t\t\t\n-\t\t\t\t\t\n-\t\t\t\tsuper.run();\n-\t\t\t}\n-\t\t}.start();\n-\t}\n-\t\n-\t//�������ʽ��ȡ���\n-\tpublic String readMyInputStream(InputStream is){\n-\t\tbyte[] result;\n-\t\ttry {\n-\t\t\tByteArrayOutputStream baos=new ByteArrayOutputStream();\n-\t\t\tbyte[] buffer=new byte[1024];\n-\t\t\tint len;\n-\t\t\twhile((len = is.read(buffer))!= -1){\n-\t\t\t\tbaos.write(buffer,0,len);\n-\t\t\t}\n-\t\t\tis.close();\n-\t\t\tbaos.close();\n-\t\t\tresult =baos.toByteArray();\n-\t\t} catch (Exception e) {\n-\t\t\t// TODO Auto-generated catch block\n-\t\t\te.printStackTrace();\n-\t\t\tString errorString=\"��ȡ���ʧ��\";\n-\t\t\treturn errorString;\n-\t\t}\n-\t\treturn new String(result);\n-\t}\n-}"
  } ],
  "sha" : "47cd8076bc0cb68b26430a201ee32df5c7d05645",
  "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/47cd8076bc0cb68b26430a201ee32df5c7d05645",
  "parents" : [ {
    "sha" : "6f31555cf8235b6eb68f6806995db8bebe6e606d",
    "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/6f31555cf8235b6eb68f6806995db8bebe6e606d",
    "html_url" : "https://github.com/hzuapps/android-labs/commit/6f31555cf8235b6eb68f6806995db8bebe6e606d"
  } ]
}