{
  "committer" : {
    "login" : "isshe",
    "id" : 13636347,
    "avatar_url" : "https://avatars.githubusercontent.com/u/13636347?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/isshe",
    "html_url" : "https://github.com/isshe",
    "followers_url" : "https://api.github.com/users/isshe/followers",
    "following_url" : "https://api.github.com/users/isshe/following{/other_user}",
    "gists_url" : "https://api.github.com/users/isshe/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/isshe/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/isshe/subscriptions",
    "organizations_url" : "https://api.github.com/users/isshe/orgs",
    "repos_url" : "https://api.github.com/users/isshe/repos",
    "events_url" : "https://api.github.com/users/isshe/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/isshe/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "stats" : {
    "total" : 509,
    "additions" : 0,
    "deletions" : 509
  },
  "author" : {
    "login" : "isshe",
    "id" : 13636347,
    "avatar_url" : "https://avatars.githubusercontent.com/u/13636347?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/isshe",
    "html_url" : "https://github.com/isshe",
    "followers_url" : "https://api.github.com/users/isshe/followers",
    "following_url" : "https://api.github.com/users/isshe/following{/other_user}",
    "gists_url" : "https://api.github.com/users/isshe/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/isshe/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/isshe/subscriptions",
    "organizations_url" : "https://api.github.com/users/isshe/orgs",
    "repos_url" : "https://api.github.com/users/isshe/repos",
    "events_url" : "https://api.github.com/users/isshe/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/isshe/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "html_url" : "https://github.com/hzuapps/android-labs/commit/550555717b790e782a18834e26df174b821513be",
  "commit" : {
    "author" : {
      "name" : "isshe",
      "email" : "i.sshe@foxmail.com",
      "date" : "2016-05-11T01:26:43Z"
    },
    "committer" : {
      "name" : "isshe",
      "email" : "i.sshe@foxmail.com",
      "date" : "2016-05-11T01:26:43Z"
    },
    "message" : "wenjianjiadaxiaoxie",
    "tree" : {
      "sha" : "222687f1de40d73f6f2201cc9909bb24e86fd9c5",
      "url" : "https://api.github.com/repos/hzuapps/android-labs/git/trees/222687f1de40d73f6f2201cc9909bb24e86fd9c5"
    },
    "url" : "https://api.github.com/repos/hzuapps/android-labs/git/commits/550555717b790e782a18834e26df174b821513be",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/android-labs/commits/550555717b790e782a18834e26df174b821513be/comments",
  "files" : [ {
    "sha" : "46e3afe43914cc76e952b5cf10f636c70356b877",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/AndroidManifest.xml",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 28,
    "changes" : 28,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/AndroidManifest.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/AndroidManifest.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/AndroidManifest.xml?ref=fe23b3e23abe3427e109d95074b311cb851eece3",
    "patch" : "@@ -1,28 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"utf-8\"?>\n-<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n-    package=\"edu.hzuapps.androidworks.homeworks.net1314080903212\">\n-\n-    <application\n-        android:allowBackup=\"true\"\n-        android:icon=\"@mipmap/ic_launcher\"\n-        android:label=\"@string/app_name\"\n-        android:supportsRtl=\"true\"\n-        android:theme=\"@style/AppTheme\">\n-\n-        <activity\n-            android:name=\".Net1314080903212MultiChat\"\n-            android:label=\"@string/app_name\"\n-            android:theme=\"@style/AppTheme.NoActionBar\">\n-            <intent-filter>\n-                <action android:name=\"android.intent.action.MAIN\" />\n-\n-                <category android:name=\"android.intent.category.LAUNCHER\" />\n-            </intent-filter>\n-        </activity>\n-\n-    </application>\n-    <uses-permission android:name=\"android.permission.INTERNET\"/>\n-    <uses-permission android:name=\"android.permission.MOUNT_UNMOUNT_FILESYSTEMS\"/>\n-    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/>\n-    <uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"/>\n-</manifest>"
  }, {
    "sha" : "f9a71e25d32f9162ea9d61a509b3825ffb7e4a32",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212Activity.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 48,
    "changes" : 48,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212Activity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212Activity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212Activity.java?ref=fe23b3e23abe3427e109d95074b311cb851eece3",
    "patch" : "@@ -1,48 +0,0 @@\n-package edu.hzuapps.androidworks.homeworks;\n-\n-import android.os.Bundle;\n-import android.util.Log;\n-import android.view.Menu;\n-import android.view.MenuItem;\n-import android.view.ViewGroup;\n-import android.widget.LinearLayout;\n-import android.widget.TextView;\n-\n-import edu.hzuapps.androidworks.R;\n-//import edu.hzuapps.androidworks.homeworks.Net1314080903212;\n-\n-/**\n- * Created by dell on 2016/3/21.\n- */\n-public class Net1314080903212 extends BackActivity {\n-\n-    private LinearLayout mTextContainer;\n-\n-    protected void onCreate(Bundle savedInstanceState) {\n-        super.onCreate(savedInstanceState);\n-\n-//      TextView textView = new TextView(this);\n-//      textView.setText(\"isshe\");\n-\n-        createViewInJava();\n-        setContentView(mTextContainer);\n-\n-//      默认使用XML创建的View\n-//      setContentView(R.layout.net1314080903212);\n-\n-}\n-\n-    private void createViewInJava() {\n-        mTextContainer = new LinearLayout(this);\n-        ViewGroup.LayoutParams layoutParams = new ViewGroup.LayoutParams( //\n-                ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n-        mTextContainer.setLayoutParams(layoutParams);\n-        mTextContainer.setOrientation(LinearLayout.HORIZONTAL);\n-\n-        TextView textView = new TextView(this);\n-        textView.setText(\"isshe: Net13140809032122\");\n-\n-        mTextContainer.addView(textView);\n-    }\n-\n-}"
  }, {
    "sha" : "5c74ade7c4482b896f573a0579a1ba19272584a5",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212ClientThread.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 107,
    "changes" : 107,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212ClientThread.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212ClientThread.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212ClientThread.java?ref=fe23b3e23abe3427e109d95074b311cb851eece3",
    "patch" : "@@ -1,107 +0,0 @@\n-package edu.hzuapps.androidworks.homeworks.net1314080903212;\n-\n-import android.os.Looper;\n-import android.os.Message;\n-\n-import java.io.BufferedReader;\n-import java.io.IOException;\n-import java.io.InputStreamReader;\n-import java.io.OutputStream;\n-import java.net.Socket;\n-import java.net.SocketTimeoutException;\n-import android.os.Handler;                  ////!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n-//import java.util.logging.Handler;\n-\n-\n-/**\n- * Created by dell on 2016/4/12.\n- */\n-public class Net1314080903212ClientThread implements Runnable {\n-    private Socket      s;\n-    private Handler     handler;        //定义向UI发送消息的Handler对象\n-    public Handler     revHandler;     //定义接收UI线程消息的Handler对象\n-    BufferedReader       br =null;        //输入流\n-    OutputStream         os = null;       //输出流\n-\n-    public Net1314080903212ClientThread(Handler handler)\n-    {\n-        this.handler = handler;\n-    }\n-\n-\n-    public void run()\n-    {\n-        try {\n-            System.out.println(\"Socket before!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n-            s = new Socket(\"192.168.240.22\", 9402);\n-            System.out.println(\"Socket behind!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n-            br = new BufferedReader((new InputStreamReader(s.getInputStream())));\n-            os = s.getOutputStream();       //为什么br不是类似这样？\n-\n-            //启动一条子线程来读取服务器响应的数据\n-            new Thread()\n-            {\n-                @Override\n-                public void run()\n-                {\n-                    String content = null;\n-                    Net1314080903212WH write_history = new Net1314080903212WH();\n-                    //不断读取Socket输入流中的内容\n-                    try\n-                    {\n-                        while((content = br.readLine()) != null)\n-                        {\n-                            //读到来自服务器的数据后， 发送消息通知程序\n-                            //界面显示该数据\n-                            System.out.println(\"content =\" + content + \"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n-                            Message msg = new Message();\n-                            msg.what = 0x123;                               //?????\n-                            msg.obj = content; //s.getLocalAddress() + \":\" + content;                              //????            ////!!!\n-                            handler.sendMessage(msg);                      //???\n-                            //把数据写入文件\n-                            write_history.write_file(content);\n-\n-                        }\n-                    }\n-                    catch (IOException e)\n-                    {\n-                        e.printStackTrace();\n-                    }\n-                }\n-            }.start();                                                     //????\n-\n-            //当前线程初始化\n-            Looper.prepare();                                             //????\n-            revHandler = new Handler()\n-            {\n-                @Override\n-                public void handleMessage(Message msg)\n-                {\n-                    //接收到UI线程中用户输入的数据\n-                    if (msg.what == 0x345)\n-                    {\n-                        //将用户在文本框输入的内容写入网络\n-                        try\n-                        {\n-                            os.write((s.getLocalAddress() + \": \" + msg.obj.toString() + \"\\r\\n\").getBytes(\"utf-8\"));\n-                        }\n-                        catch (Exception e)\n-                        {\n-                            e.printStackTrace();\n-                        }\n-                    }\n-                }\n-            };\n-            //启动Looper\n-            Looper.loop();                  //????\n-        }\n-        catch (SocketTimeoutException e1)\n-        {\n-            System.out.println(\"网络连接超时!!!\");\n-        }\n-        catch (Exception e)\n-        {\n-            e.printStackTrace();\n-        }\n-    }\n-}"
  }, {
    "sha" : "0e2eb82afe25c81c4c0b665a07e7bf81072ba6ec",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212GetRemoteFile.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 84,
    "changes" : 84,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212GetRemoteFile.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212GetRemoteFile.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212GetRemoteFile.java?ref=fe23b3e23abe3427e109d95074b311cb851eece3",
    "patch" : "@@ -1,84 +0,0 @@\n-package package edu.hzuapps.androidworks.homeworks.net1314080903212;\n-\n-import android.os.Environment;\n-import android.os.Handler;\n-import android.os.Looper;\n-import android.os.Message;\n-import android.renderscript.ScriptGroup;\n-import android.widget.TextView;\n-\n-import java.io.BufferedInputStream;\n-import java.io.File;\n-import java.io.IOException;\n-import java.io.InputStream;\n-import java.io.RandomAccessFile;\n-import java.net.MalformedURLException;\n-import java.net.URL;\n-import java.net.URLConnection;\n-\n-/**\n- * Created by dell on 2016/4/28.\n- */\n-public class Net1314080903212GetRemoteFile implements Runnable{\n-    public TextView GRFshow;\n-    public Handler sendHandler;\n-\n-    public void Net1314080903212GetRemoteFile(Handler handler)\n-    {\n-        sendHandler = handler;\n-    }\n-\n-    public void run()\n-    {\n-        try {\n-            System.out.println(\"before new URL!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n-            URL git_url = new URL(\"https://raw.githubusercontent.com/OurScream/PerIntBank/master/README.md\");\n-\n-            System.out.println(\"before new URLConnection!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n-            //打开url链接\n-            URLConnection git_con = git_url.openConnection();\n-\n-            //获取数据\n- //           InputStream is = git_con.getInputStream();                         //方法1\n- //           BufferedInputStream bis = new BufferedInputStream(is);\n-            InputStream bis = git_url.openStream();                              //方法2\n-\n-            int read_len = 0;\n-            byte[] readbyte = new byte[1024];\n-\n-            System.out.println(\"before new get_path!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n-            //新建文件\n-            File get_path =  Environment.getExternalStorageDirectory();     //\n-            File file =  new File(get_path.getCanonicalPath() , \"ChatHistory\");\n-\n-            //判断历史记录文件是否存在， 不存在则创建\n-            if (!file.exists()){\n-                    file.createNewFile();\n-                    System.out.println(\"GetRemoteFile: 创建文件!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n-            }\n-\n-            while((read_len = bis.read(readbyte)) != -1)\n-            {\n-                RandomAccessFile raf = new RandomAccessFile(file,\"rw\");\n-                raf.seek(file.length());\n-                raf.write(readbyte);                    //这里的换行不知道可不可以！\n-                System.out.println(readbyte.toString() + \"GetRemoteFile: 看看一条记录大概都长:\" + file.length());\n-                raf.close();\n-            }\n-            //再读一次文件\n-            Message msg = new Message();\n-            msg.what = 0x789;\n-            sendHandler.sendMessage(msg);\n-\n-//            new Net1314080903212RH().file_read(new Net1314080903212MultiChat().show);\n-        }\n-        catch(MalformedURLException murle)\n-        {\n-            murle.printStackTrace();\n-        }\n-        catch(IOException ioe)\n-        {\n-            ioe.printStackTrace();\n-        }\n-    }\n-}"
  }, {
    "sha" : "ad9a0f9bbd7d6a7e9b0a01ace1eaeee3a9737fc6",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212MultiChat.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 95,
    "changes" : 95,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212MultiChat.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212MultiChat.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212MultiChat.java?ref=fe23b3e23abe3427e109d95074b311cb851eece3",
    "patch" : "@@ -1,95 +0,0 @@\n-package edu.hzuapps.androidworks.homeworks.net1314080903212;\n-\n-import android.app.Activity;\n-import android.os.Bundle;\n-import android.os.Message;\n-import android.text.method.ScrollingMovementMethod;\n-import android.view.View;\n-import android.widget.Button;\n-import android.widget.EditText;\n-import android.widget.TextView;\n-\n-//import java.util.logging.Handler;\n-import android.os.Handler;\n-\n-import java.text.DateFormat;\n-import java.text.SimpleDateFormat;\n-import java.util.Date;\n-\n-/**\n- * Created by dell on 2016/4/12.\n- */\n-public class Net1314080903212MultiChat extends Activity {\n-    //定义界面的两个文本框\n-    EditText input;\n-    TextView show;\n-    //定义一个界面上的按钮\n-    Button send;\n-    Handler handler;\n-    //定义与服务器通信的子线程\n-    Net1314080903212ClientThread clientThread;\n-\n-\n-    @Override\n-    public void onCreate(Bundle savedInstanceState)\n-    {\n-        super.onCreate(savedInstanceState);\n-        setContentView(R.layout.main);\n-        input = (EditText) findViewById(R.id.input);\n-        send = (Button) findViewById(R.id.send);\n-        show = (TextView) findViewById(R.id.show);\n-        show.setMovementMethod(new ScrollingMovementMethod());\n-\n-        //读取历史记录\n-        Net1314080903212RH read_history = new Net1314080903212RH();\n-        read_history.file_read(show);\n-\n-        handler = new Handler()                         //????不懂！！！\n-        {\n-            @Override\n-            public void handleMessage(Message msg)\n-            {\n-                //如果消息来自于子线程\n-                if (msg.what == 0x123)                  //????不懂！！！\n-                {\n-                    //将读取的内容追加显示到文本框\n-                    Date date = new Date();\n-                    DateFormat date_format = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n-                    String time = date_format.format(date);\n-                    show.append(\"\\n\" + time);\n-                    show.append(\"\\n\" + msg.obj.toString());\n-                    //并写到文件！                                    //!!!!\n-                }\n-            }\n-        };\n-        clientThread = new Net1314080903212ClientThread(handler);\n-        //客户端启动ClientThread线程创建网络连接、读取来自服务器的数据\n-        new Thread(clientThread).start();\n-\n-        send.setOnClickListener(new View.OnClickListener()              ///!!!\n-        {\n-            @Override\n-            public void onClick(View v)\n-            {\n-\n-                try {\n-                    //当用户按下发送按钮后， 将用户输入的数据封装成Message\n-                    //然后发送给子线程的Handler\n-                    Message msg = new Message();\n-\n-                    msg.what = 0x345;                   ///???????不懂!!\n-                    msg.obj = input.getText().toString();\n-                    clientThread.revHandler.sendMessage(msg);\n-                    System.out.println(\"send msg = \" + input.getText() + \"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n-                    //清空input文本框\n-                    input.setText(\"\");\n-                }\n-                catch (Exception e)\n-                {\n-                    e.printStackTrace();\n-                }\n-            }\n-        });                                                                   ///note!!!!不懂!!!\n-    }\n-\n-}"
  }, {
    "sha" : "b53a0194ee8980fa58374e98e6bcd635647c19a8",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212MultiChat.xml",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 1,
    "changes" : 1,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212MultiChat.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212MultiChat.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212MultiChat.xml?ref=fe23b3e23abe3427e109d95074b311cb851eece3",
    "patch" : "@@ -1 +0,0 @@\n-实验7：网络编程"
  }, {
    "sha" : "610529808b0d5fbe654e6a6a5308f76faffb1b30",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212RH.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 59,
    "changes" : 59,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212RH.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212RH.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212RH.java?ref=fe23b3e23abe3427e109d95074b311cb851eece3",
    "patch" : "@@ -1,59 +0,0 @@\n-package edu.hzuapps.androidworks.homeworks.net1314080903212;\n-\n-//import java.io.*;\n-import android.os.Environment;\n-import android.widget.TextView;\n-\n-import java.io.BufferedReader;\n-import java.io.File;\n-import java.io.FileInputStream;\n-import java.io.FileNotFoundException;\n-import java.io.IOException;\n-import java.io.InputStreamReader;\n-import java.net.FileNameMap;\n-\n-/**\n- * Created by dell on 2016/4/18.\n- */\n-\n-/*读历史记录，如果没有指定目录或文件，只需直接返回，\n-    不需要创建， 创建会在写历史记录的时候执行\n- */\n-public class Net1314080903212RH {\n-\n-    public void file_read(TextView show)\n-    {\n-        try {\n-            File get_path =  Environment.getExternalStorageDirectory();     //\n-            File file = new File(get_path.getCanonicalPath() , \"ChatHistory\");\n-\n-            //如果目录不存在或者目录不存在， 什么也不做\n-            if (!file.exists()){\n-                //nothing to do\n-                System.out.println(\"file_read 文件不存在???????????????????????????????????????????\");\n-                return ;\n-            }\n-\n-            System.out.println(\"file_read 文件存在!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n-            //两个都存在，这读取历史记录，显示到show区域。一行一行存储历史记录。\n-            FileInputStream fis = new FileInputStream(file); //(get_path.getCanonicalPath() + \"ChatHistory\");\n-            BufferedReader read_file = new BufferedReader(new InputStreamReader(fis));\n-            String line = null;\n-\n-            while ((line = read_file.readLine()) != null) {\n-                //显示到show区域\n-                //将读取的内容追加显示到文本框\n-                show.append(\"\\n\" + line);\n-                System.out.println(\"读历史记录:\" + line + \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\");\n-            }\n-            read_file.close();\n-        }\n-        catch (IOException e) {\n-            e.printStackTrace();\n-        }\n-\n-    }\n-\n-\n-\n-}"
  }, {
    "sha" : "794cbf3c1744db4566997ea3f08593beeb900dc3",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212WH.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 87,
    "changes" : 87,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212WH.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/fe23b3e23abe3427e109d95074b311cb851eece3/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212WH.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/Net1314080903212/Net1314080903212WH.java?ref=fe23b3e23abe3427e109d95074b311cb851eece3",
    "patch" : "@@ -1,87 +0,0 @@\n-package edu.hzuapps.androidworks.homeworks.net1314080903212;\n-\n-import android.os.Environment;\n-import android.provider.ContactsContract;\n-import android.provider.Settings;\n-\n-import java.io.File;\n-import java.io.FileOutputStream;\n-import java.io.FileWriter;\n-import java.io.IOException;\n-import java.io.RandomAccessFile;\n-import java.text.DateFormat;\n-import java.text.SimpleDateFormat;\n-import java.util.Date;\n-import java.util.Random;\n-import java.util.RandomAccess;\n-\n-/**\n- * Created by dell on 2016/4/18.\n- */\n-public class Net1314080903212WH {\n-\n-    public void write_file(String msg)\n-    {\n-        File get_path =  Environment.getExternalStorageDirectory();     //\n-/*        String  path_str = get_path.toString() + \"/MultiChat\";\n-\n-        System.out.println(\"path_str = \" + path_str);\n-\n-        File    path = new File(path_str);\n-        //判断历史记录目录是否存在，不存在则创建\n-        if (!path.exists()){\n-            path.mkdirs();\n-            System.out.println(\"创建文件夹!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n-        }\n-*/\n-        File file = null; //File(path_str+\"/ChatHistory\");\n-        try {\n-            file = new File(get_path.getCanonicalPath() , \"ChatHistory\");\n-        } catch (IOException e) {\n-            e.printStackTrace();\n-        }\n-        //判断历史记录文件是否存在， 不存在则创建\n-        if (!file.exists()){\n-            try {\n-                file.createNewFile();\n-                System.out.println(\"创建文件!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n-            } catch (IOException e) {\n-                e.printStackTrace();\n-            }\n-        }\n-\n-        System.out.println(\"新建文件之后!\");\n-        //获取时间+历史记录写入文件 ； 从服务器接收到的信息写入文件\n-        // （自己发送的信息不用写入，因为服务器还会返回发送出去的信息，如果再写会有重复）\n-        Date    date = new Date();\n-        DateFormat date_format = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n-        String time = date_format.format(date);\n-        String content = time + \"\\n\" + msg + \"\\n\";\n-        try {\n-//            FileWriter fw = new FileWriter(file);\n-//            FileOutputStream fos = new FileOutputStream(file);\n-\n-            if (file.length() > 300)             //日后改!!!!\n-            {\n-                FileWriter fw = new FileWriter(file);\n-                fw.write(content);\n-                System.out.println(content + \"看看一条记录大概都长:\" + file.length());\n-                fw.close();\n-            }\n-            else\n-            {\n-                RandomAccessFile raf = new RandomAccessFile(file,\"rw\");\n-                raf.seek(file.length());\n-                raf.write(content.getBytes());                    //这里的换行不知道可不可以！\n-                System.out.println(content + \"看看一条记录大概都长:\" + file.length());\n-                raf.close();\n-            }\n-\n-        } catch (IOException e) {\n-            e.printStackTrace();\n-        }\n-\n-\n-    }\n-\n-}"
  } ],
  "sha" : "550555717b790e782a18834e26df174b821513be",
  "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/550555717b790e782a18834e26df174b821513be",
  "parents" : [ {
    "sha" : "fe23b3e23abe3427e109d95074b311cb851eece3",
    "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/fe23b3e23abe3427e109d95074b311cb851eece3",
    "html_url" : "https://github.com/hzuapps/android-labs/commit/fe23b3e23abe3427e109d95074b311cb851eece3"
  } ]
}