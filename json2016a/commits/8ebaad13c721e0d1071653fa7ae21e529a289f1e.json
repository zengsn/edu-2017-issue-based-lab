{
  "committer" : {
    "login" : "happycaitou",
    "id" : 14277036,
    "avatar_url" : "https://avatars.githubusercontent.com/u/14277036?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/happycaitou",
    "html_url" : "https://github.com/happycaitou",
    "followers_url" : "https://api.github.com/users/happycaitou/followers",
    "following_url" : "https://api.github.com/users/happycaitou/following{/other_user}",
    "gists_url" : "https://api.github.com/users/happycaitou/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/happycaitou/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/happycaitou/subscriptions",
    "organizations_url" : "https://api.github.com/users/happycaitou/orgs",
    "repos_url" : "https://api.github.com/users/happycaitou/repos",
    "events_url" : "https://api.github.com/users/happycaitou/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/happycaitou/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "stats" : {
    "total" : 1993,
    "additions" : 1978,
    "deletions" : 15
  },
  "author" : {
    "login" : "happycaitou",
    "id" : 14277036,
    "avatar_url" : "https://avatars.githubusercontent.com/u/14277036?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/happycaitou",
    "html_url" : "https://github.com/happycaitou",
    "followers_url" : "https://api.github.com/users/happycaitou/followers",
    "following_url" : "https://api.github.com/users/happycaitou/following{/other_user}",
    "gists_url" : "https://api.github.com/users/happycaitou/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/happycaitou/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/happycaitou/subscriptions",
    "organizations_url" : "https://api.github.com/users/happycaitou/orgs",
    "repos_url" : "https://api.github.com/users/happycaitou/repos",
    "events_url" : "https://api.github.com/users/happycaitou/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/happycaitou/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "html_url" : "https://github.com/hzuapps/android-labs/commit/8ebaad13c721e0d1071653fa7ae21e529a289f1e",
  "commit" : {
    "author" : {
      "name" : "caitou",
      "email" : "625916574@qq.com",
      "date" : "2016-05-12T08:04:48Z"
    },
    "committer" : {
      "name" : "caitou",
      "email" : "625916574@qq.com",
      "date" : "2016-05-12T08:04:48Z"
    },
    "message" : "#91 #92 #93 #94 #95 #157 已完成全部实验",
    "tree" : {
      "sha" : "4f990d26dbf64d6f21d47880f1120bf62fd1dfc9",
      "url" : "https://api.github.com/repos/hzuapps/android-labs/git/trees/4f990d26dbf64d6f21d47880f1120bf62fd1dfc9"
    },
    "url" : "https://api.github.com/repos/hzuapps/android-labs/git/commits/8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/android-labs/commits/8ebaad13c721e0d1071653fa7ae21e529a289f1e/comments",
  "files" : [ {
    "sha" : "e6675dd8a777503fc290803dc7060fa00c76b924",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/AndroidManifest.xml",
    "status" : "added",
    "additions" : 51,
    "deletions" : 0,
    "changes" : 51,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/AndroidManifest.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/AndroidManifest.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/AndroidManifest.xml?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,51 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    package=\"edu.hzuapps.androidworks.homeworks.com1314080901103\"\n+    android:versionCode=\"1\"\n+    android:versionName=\"1.0\">\n+\n+    <uses-sdk\n+        android:maxSdkVersion=\"23\"\n+        android:minSdkVersion=\"8\" />\n+\n+    <!--用于进行网络定位-->\n+    <uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"></uses-permission>\n+    <!--用于访问GPS定位-->\n+    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"></uses-permission>\n+    <!--获取运营商信息，用于支持提供运营商信息相关的接口-->\n+    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"></uses-permission>\n+    <!--用于访问wifi网络信息，wifi信息会用于进行网络定位-->\n+    <uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"></uses-permission>\n+    <!--这个权限用于获取wifi的获取权限，wifi信息会用来进行网络定位-->\n+    <uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\"></uses-permission>\n+    <!--用于访问网络，网络定位需要上网-->\n+    <uses-permission android:name=\"android.permission.INTERNET\"></uses-permission>\n+    <!--用于读取手机当前的状态-->\n+    <uses-permission android:name=\"android.permission.READ_PHONE_STATE\"></uses-permission>\n+    <!--写入扩展存储，向扩展卡写入数据，用于写入缓存定位数据-->\n+    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"></uses-permission>\n+\n+    <application\n+        android:allowBackup=\"true\"\n+        android:icon=\"@drawable/com1314080901103_weather_icon\"\n+        android:label=\"@string/app_name\"\n+        android:supportsRtl=\"true\"\n+        android:theme=\"@style/AppTheme\">\n+        <meta-data\n+            android:name=\"com.amap.api.v2.apikey\"\n+            android:value=\"d23d212796d225923b3efebc25a76666\"></meta-data>\n+\n+        <activity android:name=\"edu.hzuapps.androidworks.homeworks.com1314080901103.activity.WeatherActivity\">\n+            <intent-filter>\n+                <action android:name=\"android.intent.action.MAIN\" />\n+\n+                <category android:name=\"android.intent.category.LAUNCHER\" />\n+            </intent-filter>\n+        </activity>\n+        <activity android:name=\"edu.hzuapps.androidworks.homeworks.com1314080901103.activity.ChooseAreaActivity\" />\n+        <activity android:name=\"edu.hzuapps.androidworks.homeworks.com1314080901103.activity.DeleteAreaActivity\" />\n+\n+        <service android:name=\"com.amap.api.location.APSService\" />\n+    </application>\n+\n+</manifest>\n\\ No newline at end of file"
  }, {
    "sha" : "7f4104f8bcbaa7a95c13a385ca7ab118e1788b93",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/Com1314080901103Activity.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 15,
    "changes" : 15,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/b0cc56726eb66f5d896401f8f7f0e07e3c619c23/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/Com1314080901103Activity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/b0cc56726eb66f5d896401f8f7f0e07e3c619c23/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/Com1314080901103Activity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/Com1314080901103Activity.java?ref=b0cc56726eb66f5d896401f8f7f0e07e3c619c23",
    "patch" : "@@ -1,15 +0,0 @@\n-package edu.hzuapps.androidworks.homeworks.com1314080901103;\n-\n-import android.os.Bundle;\n-import android.support.v7.app.AppCompatActivity;\n-import android.view.Window;\n-\n-public class Com1314080901103Activity extends AppCompatActivity {\n-\n-    @Override\n-    protected void onCreate(Bundle savedInstanceState) {\n-        super.onCreate(savedInstanceState);\n-        requestWindowFeature(Window.FEATURE_NO_TITLE);\n-        setContentView(R.layout.activity_com1314080901103);\n-    }\n-}"
  }, {
    "sha" : "7c9ba18b2921c5cc52f1c216fac89232f33e5bd0",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/ActivityCollector.java",
    "status" : "added",
    "additions" : 26,
    "deletions" : 0,
    "changes" : 26,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/ActivityCollector.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/ActivityCollector.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/ActivityCollector.java?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,26 @@\n+package edu.hzuapps.androidworks.homeworks.com1314080901103.activity;\n+\n+import android.app.Activity;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+public class ActivityCollector {\n+    public static List<Activity> activities = new ArrayList<>();\n+\n+    public static void addActivity(Activity activity) {\n+        activities.add(activity);\n+    }\n+\n+    public static void removeActivity(Activity activity) {\n+        activities.remove(activity);\n+    }\n+\n+    public static void finishAll() {\n+        for (Activity activity : activities) {\n+            if (!activity.isFinishing()) {\n+                activity.finish();\n+            }\n+        }\n+    }\n+}"
  }, {
    "sha" : "c5bd09d6b4c72d94e012fdbe4f8c22a1452d9073",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/ChooseAreaActivity.java",
    "status" : "added",
    "additions" : 276,
    "deletions" : 0,
    "changes" : 276,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/ChooseAreaActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/ChooseAreaActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/ChooseAreaActivity.java?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,276 @@\n+package edu.hzuapps.androidworks.homeworks.com1314080901103.activity;\n+\n+import android.app.Activity;\n+import android.app.ProgressDialog;\n+import android.content.Intent;\n+import android.os.Bundle;\n+import android.text.TextUtils;\n+import android.view.View;\n+import android.view.Window;\n+import android.widget.AdapterView;\n+import android.widget.ArrayAdapter;\n+import android.widget.ImageView;\n+import android.widget.ListView;\n+import android.widget.TextView;\n+import android.widget.Toast;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.R;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.db.WeatherDB;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.model.City;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.model.County;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.model.Province;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.util.HttpCallbackListener;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.util.HttpUtil;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.util.Utility;\n+\n+public class ChooseAreaActivity extends Activity {\n+\n+    public static final int LEVEL_PROVINCE = 0;\n+    public static final int LEVEL_CITY = 1;\n+    public static final int LEVEL_COUNTY = 2;\n+    private ProgressDialog progressDialog;\n+    private ImageView imageView;\n+    private TextView titleText;\n+    private ListView listView;\n+    private ArrayAdapter<String> adapter;\n+    private WeatherDB weatherDB;\n+    private List<String> dataList = new ArrayList<>();\n+    /**\n+     * 省列表\n+     */\n+    private List<Province> provinceList;\n+    /**\n+     * 市列表\n+     */\n+    private List<City> cityList;\n+    /**\n+     * 县列表\n+     */\n+    private List<County> countyList;\n+    /**\n+     * 选中的省份\n+     */\n+    private Province selectedProvince;\n+    /**\n+     * 选中的城市\n+     */\n+    private City selectedCity;\n+    /**\n+     * 当前选中的级别\n+     */\n+    private int currentLevel;\n+    /**\n+     * 是否从WeatherActivity 中跳转过来。\n+     */\n+    private boolean isFromWeatherActivity;\n+\n+    @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        requestWindowFeature(Window.FEATURE_NO_TITLE);\n+        setContentView(R.layout.activity_com1314080901103_show_area);\n+        isFromWeatherActivity = getIntent().getBooleanExtra(\"from_weather_activity\", false);\n+        initView();\n+        adapter = new ArrayAdapter<>(this, android.R.layout.simple_list_item_1, dataList);\n+        listView.setAdapter(adapter);\n+        weatherDB = WeatherDB.getInstance(this);\n+        imageView.setOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View v) {\n+                onBackPressed();\n+            }\n+        });\n+        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n+            @Override\n+            public void onItemClick(AdapterView<?> arg0, View view, int index,\n+                                    long arg3) {\n+                if (currentLevel == LEVEL_PROVINCE) {\n+                    selectedProvince = provinceList.get(index);\n+                    queryCities();\n+                } else if (currentLevel == LEVEL_CITY) {\n+                    selectedCity = cityList.get(index);\n+                    queryCounties();\n+                } else if (currentLevel == LEVEL_COUNTY) {\n+                    String countyCode = countyList.get(index).getCountyCode();\n+                    String countyName = countyList.get(index).getCountyName();\n+                    Intent intent = new Intent(ChooseAreaActivity.this,\n+                            WeatherActivity.class);\n+                    intent.putExtra(\"county_code\", countyCode);\n+                    intent.putExtra(\"county_name\", countyName);\n+                    intent.putExtra(\"is_form_choose_area\", true);\n+                    startActivity(intent);\n+                    finish();\n+                }\n+            }\n+        });\n+        queryProvinces(); // 加载省级数据\n+        ActivityCollector.addActivity(this);\n+    }\n+\n+    private void initView() {\n+        imageView = (ImageView) findViewById(R.id.back);\n+        listView = (ListView) findViewById(R.id.list_view);\n+        titleText = (TextView) findViewById(R.id.title_text);\n+    }\n+\n+    /**\n+     * 查询全国所有的省，优先从数据库查询，如果没有查询到再去服务器上查询。\n+     */\n+    private void queryProvinces() {\n+        provinceList = weatherDB.loadProvinces();\n+        if (provinceList.size() > 0) {\n+            dataList.clear();\n+            for (Province province : provinceList) {\n+                dataList.add(province.getProvinceName());\n+            }\n+            adapter.notifyDataSetChanged();\n+            listView.setSelection(0);\n+            titleText.setText(\"添加城市\");\n+            currentLevel = LEVEL_PROVINCE;\n+        } else {\n+            queryFromServer(null, \"province\");\n+        }\n+    }\n+\n+    /**\n+     * 查询选中省内所有的市，优先从数据库查询，如果没有查询到再去服务器上查询。\n+     */\n+    private void queryCities() {\n+        cityList = weatherDB.loadCities(selectedProvince.getId());\n+        if (cityList.size() > 0) {\n+            dataList.clear();\n+            for (City city : cityList) {\n+                dataList.add(city.getCityName());\n+            }\n+            adapter.notifyDataSetChanged();\n+            listView.setSelection(0);\n+            titleText.setText(selectedProvince.getProvinceName());\n+            currentLevel = LEVEL_CITY;\n+        } else {\n+            queryFromServer(selectedProvince.getProvinceCode(), \"city\");\n+        }\n+    }\n+\n+    /**\n+     * 查询选中市内所有的县，优先从数据库查询，如果没有查询到再去服务器上查询。\n+     */\n+    private void queryCounties() {\n+        countyList = weatherDB.loadCounties(selectedCity.getId());\n+        if (countyList.size() > 0) {\n+            dataList.clear();\n+            for (County county : countyList) {\n+                dataList.add(county.getCountyName());\n+            }\n+            adapter.notifyDataSetChanged();\n+            listView.setSelection(0);\n+            titleText.setText(selectedCity.getCityName());\n+            currentLevel = LEVEL_COUNTY;\n+        } else {\n+            queryFromServer(selectedCity.getCityCode(), \"county\");\n+        }\n+    }\n+\n+    /**\n+     * 根据传入的代号和类型从服务器上查询省市县数据\n+     *\n+     * @param code\n+     * @param type\n+     */\n+    private void queryFromServer(final String code, final String type) {\n+        String address;\n+        if (!TextUtils.isEmpty(code)) {\n+            address = \"http://www.weather.com.cn/data/list3/city\" + code +\n+                    \".xml\";\n+        } else {\n+            address = \"http://www.weather.com.cn/data/list3/city.xml\";\n+        }\n+        showProgressDialog();\n+        HttpUtil.sendHttpRequest(address, new HttpCallbackListener() {\n+            @Override\n+            public void onFinish(String response) {\n+                boolean result = false;\n+                if (\"province\".equals(type)) {\n+                    result = Utility.handleProvincesResponse(weatherDB,\n+                            response);\n+                } else if (\"city\".equals(type)) {\n+                    result = Utility.handleCitiesResponse(weatherDB,\n+                            response, selectedProvince.getId());\n+                } else if (\"county\".equals(type)) {\n+                    result = Utility.handleCountiesResponse(weatherDB,\n+                            response, selectedCity.getId());\n+                }\n+                if (result) {\n+                    // 通过runOnUiThread()方法回到主线程处理逻辑\n+                    runOnUiThread(new Runnable() {\n+                        @Override\n+                        public void run() {\n+                            closeProgressDialog();\n+                            if (\"province\".equals(type)) {\n+                                queryProvinces();\n+                            } else if (\"city\".equals(type)) {\n+                                queryCities();\n+                            } else if (\"county\".equals(type)) {\n+                                queryCounties();\n+                            }\n+                        }\n+                    });\n+                }\n+            }\n+\n+            @Override\n+            public void onError(Exception e) {\n+                // 通过runOnUiThread()方法回到主线程处理逻辑\n+                runOnUiThread(new Runnable() {\n+                    @Override\n+                    public void run() {\n+                        closeProgressDialog();\n+                        Toast.makeText(ChooseAreaActivity.this,\n+                                \"加载失败\", Toast.LENGTH_SHORT).show();\n+                    }\n+                });\n+            }\n+        });\n+    }\n+\n+    /**\n+     * 显示进度对话框\n+     */\n+    private void showProgressDialog() {\n+        if (progressDialog == null) {\n+            progressDialog = new ProgressDialog(this);\n+            progressDialog.setMessage(\"正在加载...\");\n+            progressDialog.setCanceledOnTouchOutside(false);\n+        }\n+        progressDialog.show();\n+    }\n+\n+    /**\n+     * 关闭进度对话框\n+     */\n+    private void closeProgressDialog() {\n+        if (progressDialog != null) {\n+            progressDialog.dismiss();\n+        }\n+    }\n+\n+    /**\n+     * 捕获Back按键，根据当前的级别来判断，此时应该返回市列表、省列表、还是直接退出。\n+     */\n+    @Override\n+    public void onBackPressed() {\n+        if (currentLevel == LEVEL_COUNTY) {\n+            queryCities();\n+        } else if (currentLevel == LEVEL_CITY) {\n+            queryProvinces();\n+        } else {\n+            if (isFromWeatherActivity) {\n+                Intent intent = new Intent(this, WeatherActivity.class);\n+                startActivity(intent);\n+            }\n+            finish();\n+        }\n+    }\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "42125ab6d44cab5532ef863afc6f5823d229d907",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/DeleteAreaActivity.java",
    "status" : "added",
    "additions" : 120,
    "deletions" : 0,
    "changes" : 120,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/DeleteAreaActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/DeleteAreaActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/DeleteAreaActivity.java?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,120 @@\n+package edu.hzuapps.androidworks.homeworks.com1314080901103.activity;\n+\n+import android.app.Activity;\n+import android.app.AlertDialog;\n+import android.content.DialogInterface;\n+import android.content.Intent;\n+import android.os.Bundle;\n+import android.util.Log;\n+import android.view.View;\n+import android.view.Window;\n+import android.widget.AdapterView;\n+import android.widget.ArrayAdapter;\n+import android.widget.ImageView;\n+import android.widget.ListView;\n+import android.widget.TextView;\n+import android.widget.Toast;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.R;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.db.WeatherDB;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.model.County;\n+\n+public class DeleteAreaActivity extends Activity {\n+\n+    private ImageView imageView;\n+    private TextView titleText;\n+    private ListView listView;\n+    private ArrayAdapter<String> adapter;\n+    private List<County> countyList = new ArrayList<>();\n+    private List<String> countyNameList = new ArrayList<>();\n+    private WeatherDB weatherDB;\n+    private String selectedCountyName;\n+    private int toWeatherActivityPosition;\n+\n+    @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        requestWindowFeature(Window.FEATURE_NO_TITLE);\n+        setContentView(R.layout.activity_com1314080901103_show_area);\n+\n+        toWeatherActivityPosition = getIntent().getIntExtra(\"to_delete_area_position\", -1);\n+\n+        weatherDB = WeatherDB.getInstance(this);\n+        countyList = weatherDB.loadAddCounties();\n+        if (countyList.size() > 0) {\n+            countyNameList.clear();\n+            for (County county : countyList) {\n+                countyNameList.add(county.getCountyName());\n+            }\n+        }\n+\n+        imageView = (ImageView) findViewById(R.id.back);\n+        titleText = (TextView) findViewById(R.id.title_text);\n+        titleText.setText(\"删除城市\");\n+        listView = (ListView) findViewById(R.id.list_view);\n+        adapter = new ArrayAdapter<>(this, android.R.layout.simple_list_item_1, countyNameList);\n+        listView.setAdapter(adapter);\n+        imageView.setOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View v) {\n+                onBackPressed();\n+            }\n+        });\n+        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n+            @Override\n+            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {\n+                selectedCountyName = countyNameList.get(position);\n+                AlertDialog.Builder dialog = new AlertDialog.Builder\n+                        (DeleteAreaActivity.this);\n+                dialog.setTitle(\"友情提示\");\n+                dialog.setMessage(\"确认删除\" + selectedCountyName + \"么？\");\n+                dialog.setCancelable(true);\n+                dialog.setPositiveButton(\"确认\", new DialogInterface.\n+                        OnClickListener() {\n+                    @Override\n+                    public void onClick(DialogInterface dialog, int which) {\n+                        weatherDB.deleteFromAddCountiesByCountyName(selectedCountyName);\n+                        weatherDB.deleteFromAddCountiesWeatherByCountyName(selectedCountyName);\n+                        Toast.makeText(DeleteAreaActivity.this, selectedCountyName + \" 删除成功\", Toast.LENGTH_SHORT).show();\n+                        countyList = weatherDB.loadAddCounties();\n+                        weatherDB.deleteAddCounties();\n+                        weatherDB.createAddCounties();\n+                        if (countyList.size() > 0) {\n+                            countyNameList.clear();\n+                            for (County county : countyList) {\n+                                countyNameList.add(county.getCountyName());\n+                                weatherDB.saveAddCounty(county);\n+                            }\n+                        } else {\n+                            countyNameList.clear();\n+                        }\n+                        adapter.notifyDataSetChanged();\n+                    }\n+                });\n+                dialog.setNegativeButton(\"取消\", new DialogInterface.\n+                        OnClickListener() {\n+                    @Override\n+                    public void onClick(DialogInterface dialog, int which) {\n+                    }\n+                });\n+                dialog.show();\n+            }\n+        });\n+        ActivityCollector.addActivity(this);\n+    }\n+\n+    /**\n+     * 捕获Back按键，回到WeatherActivity\n+     */\n+    @Override\n+    public void onBackPressed() {\n+        Intent intent = new Intent(DeleteAreaActivity.this, WeatherActivity.class);\n+        intent.putExtra(\"to_weather_activity_position\", toWeatherActivityPosition);\n+        startActivity(intent);\n+        finish();\n+        Log.d(\"DeleteAreaActivity\", \"xyz onBackPressed has finished\");\n+    }\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "b996cec1dd37d908f17fa6632dbfada21c321a1a",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/WeatherActivity.java",
    "status" : "added",
    "additions" : 566,
    "deletions" : 0,
    "changes" : 566,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/WeatherActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/WeatherActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/activity/WeatherActivity.java?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,566 @@\n+package edu.hzuapps.androidworks.homeworks.com1314080901103.activity;\n+\n+import android.app.Activity;\n+import android.content.Intent;\n+import android.content.SharedPreferences;\n+import android.graphics.Color;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.support.v4.view.ViewPager;\n+import android.support.v4.widget.SwipeRefreshLayout;\n+import android.text.TextUtils;\n+import android.util.Log;\n+import android.view.LayoutInflater;\n+import android.view.View;\n+import android.view.Window;\n+import android.widget.Button;\n+import android.widget.RelativeLayout;\n+import android.widget.TextView;\n+\n+import com.amap.api.location.AMapLocation;\n+import com.amap.api.location.AMapLocationClient;\n+import com.amap.api.location.AMapLocationClientOption;\n+import com.amap.api.location.AMapLocationListener;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.R;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.adapter.ViewPageAdapter;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.db.WeatherDB;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.model.County;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.model.CountyWeather;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.util.HttpCallbackListener;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.util.HttpUtil;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.util.Utility;\n+\n+public class WeatherActivity extends Activity implements View.OnClickListener, SwipeRefreshLayout.OnRefreshListener {\n+\n+    /**\n+     * 所用到的类的声明\n+     */\n+    private RelativeLayout relativeLayout;\n+    private SwipeRefreshLayout swipeRefreshLayout;\n+    public WeatherDB weatherDB;\n+    private ViewPager listPager;\n+    private List<View> listView;\n+    private ViewPageAdapter viewPageAdapter;\n+    /**\n+     * 用于显示城市名\n+     */\n+    private TextView cityNameText;\n+    /**\n+     * 用于显示发布时间\n+     */\n+    private TextView publishText;\n+    /**\n+     * 用于显示天气描述信息\n+     */\n+    private TextView weatherDespText;\n+    /**\n+     * 用于显示气温1\n+     */\n+    private TextView temp1Text;\n+    /**\n+     * 用于显示气温2\n+     */\n+    private TextView temp2Text;\n+    /**\n+     * 用于显示当前日期\n+     */\n+    private TextView currentDateText;\n+    /**\n+     * 切换城市按钮\n+     */\n+    private Button switchCity;\n+    /**\n+     * 更新天气按钮\n+     */\n+    private Button refreshWeather;\n+    /**\n+     * 保存已查询过的天气代号\n+     */\n+    private String weatherCode;\n+    /**\n+     * 保存当前定位到的城市\n+     */\n+    public String cityName;\n+    /**\n+     * 保存从上一活动传递过来的城市代码\n+     */\n+    public String countyCode;\n+    /**\n+     * 保存从上一活动传递过来的城市名\n+     */\n+    public String countyName;\n+    /**\n+     * 保存当前显示的页数\n+     */\n+    public int currentPosition;\n+    /**\n+     * 判断是否来自ChooseAreaActivity\n+     */\n+    private Boolean isFromChooseAreaActivity;\n+    /**\n+     * 判断是否来自DeleteAreaActivity\n+     */\n+    private int formDeleteAreaActivityPosition;\n+    /**\n+     * 声明AMapLocationClient类对象\n+     */\n+    public AMapLocationClient mLocationClient = null;\n+    /**\n+     * 声明定位回调监听器\n+     */\n+    public AMapLocationListener mLocationListener = new AMapLocationListener() {\n+        @Override\n+        public void onLocationChanged(AMapLocation aMapLocation) {\n+            if (aMapLocation != null) {\n+                if (aMapLocation.getErrorCode() == 0) {\n+                    //定位成功回调信息，设置相关消息\n+                    cityName = aMapLocation.getCity();  //获得当前城市信息\n+                    SharedPreferences prefs = PreferenceManager.\n+                            getDefaultSharedPreferences(WeatherActivity.this);\n+                    String defaultLocation = prefs.getString(\"city_name_juhe\", \"\") + \"市\";\n+                    if (defaultLocation.equals(cityName)) {\n+                        showWeatherFromJuHe();\n+                    } else if (!TextUtils.isEmpty(cityName)) {\n+                        queryWeatherInfoFromJuHe(cityName);\n+                    }\n+                    if (mLocationClient != null) {\n+                        mLocationClient.stopLocation();//停止定位\n+                        mLocationClient.onDestroy();//销毁定位客户端\n+                    }\n+                } else {\n+                    //显示错误信息ErrCode是错误码，errInfo是错误信息，详见错误码表。\n+                    Log.e(\"AmapError\", \"location Error, ErrCode:\"\n+                            + aMapLocation.getErrorCode() + \", errInfo:\"\n+                            + aMapLocation.getErrorInfo());\n+                }\n+            }\n+        }\n+    };\n+    /**\n+     * 声明mLocationOption对象\n+     */\n+    public AMapLocationClientOption mLocationOption = null;\n+\n+    @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        requestWindowFeature(Window.FEATURE_NO_TITLE);\n+        setContentView(R.layout.activity_com1314080901103_pager_adapter);\n+        initView();\n+        countyCode = getIntent().getStringExtra(\"county_code\");\n+        countyName = getIntent().getStringExtra(\"county_name\");\n+        isFromChooseAreaActivity = getIntent().getBooleanExtra(\"is_form_choose_area\", false);\n+        formDeleteAreaActivityPosition = getIntent().getIntExtra(\"to_weather_activity_position\", -1);\n+        weatherDB = WeatherDB.getInstance(this);\n+        judgeDBToAdd();\n+        initViewPage();\n+        initSwipeRefreshLayout();\n+        switchCity.setOnClickListener(this);\n+        refreshWeather.setOnClickListener(this);\n+        //设置下拉刷新的监听\n+        swipeRefreshLayout.setOnRefreshListener(this);\n+        ActivityCollector.addActivity(this);\n+    }\n+\n+    /**\n+     * 初始化所有控件\n+     */\n+    private void initView() {\n+        relativeLayout = (RelativeLayout) this.findViewById(R.id.weather_main);\n+        cityNameText = (TextView) this.findViewById(R.id.city_name);\n+        switchCity = (Button) this.findViewById(R.id.switch_city);\n+        refreshWeather = (Button) this.findViewById(R.id.refresh_weather);\n+    }\n+\n+    /**\n+     * 初始化页面fragment\n+     */\n+    private void initViewPage() {\n+        listPager = (ViewPager) findViewById(R.id.list_pager);\n+        listView = new ArrayList<>();\n+        //这里只设置了4.因为在实现应用中，我们在页面加载的时候，你会根据数据的多少，而知道这个页面的数量\n+        //一般情况下，我们会根据list<>或是string[]这样的数组的数量来判断要有多少页\n+        int count = weatherDB.selectAddCountySize();\n+        for (int i = 0; i <= count; i++) {\n+            View view = LayoutInflater.from(this).inflate(R.layout.activity_com1314080901103_fragment_main, null);\n+            relativeLayout = (RelativeLayout) view.findViewById(R.id.weather_main);\n+            publishText = (TextView) view.findViewById(R.id.publish_text);\n+            weatherDespText = (TextView) view.findViewById(R.id.weather_desp);\n+            temp1Text = (TextView) view.findViewById(R.id.temp1);\n+            temp2Text = (TextView) view.findViewById(R.id.temp2);\n+            currentDateText = (TextView) view.findViewById(R.id.current_date);\n+            if (i == 0) {\n+                SharedPreferences prefs = PreferenceManager.\n+                        getDefaultSharedPreferences(this);\n+                if (TextUtils.isEmpty(prefs.getString(\"city_name_juhe\", \"\"))) {\n+                    initMap();\n+                }\n+                temp1Text.setText(prefs.getString(\"temp1_juhe\", \"\"));\n+                temp2Text.setText(prefs.getString(\"temp2_juhe\", \"\"));\n+                weatherDespText.setText(prefs.getString(\"weather_juhe\", \"\"));\n+                selectPictureByWeather(prefs.getString(\"weather_juhe\", \"\"));\n+                publishText.setText(\"今天\" + prefs.getString(\"update_time_juhe\", \"\") + \"更新\");\n+                currentDateText.setText(prefs.getString(\"current_date_juhe\", \"\"));\n+            } else {\n+                County county = weatherDB.loadAddCounties(i);\n+                Log.d(\"WeatherActivity\", \"xyz county.getCountyName() is \" + county.getCountyName());\n+                CountyWeather countyWeather = weatherDB.loadAddCountiesWeatherByCountyName(county.getCountyName());\n+                temp1Text.setText(countyWeather.getTemp1());\n+                temp2Text.setText(countyWeather.getTemp2());\n+                weatherDespText.setText(countyWeather.getWeatherDesp());\n+                if (!TextUtils.isEmpty(countyWeather.getWeatherDesp())) {\n+                    selectPictureByWeather(countyWeather.getWeatherDesp());\n+                }\n+                publishText.setText(\"今天\" + countyWeather.getUpdateTime() + \"更新\");\n+                currentDateText.setText(countyWeather.getCurrentDate());\n+            }\n+            listView.add(view);\n+        }\n+        viewPageAdapter = new ViewPageAdapter(listView);\n+        listPager.setAdapter(viewPageAdapter);\n+        if (isFromChooseAreaActivity) {\n+            listPager.setCurrentItem(listView.size());\n+            County county = weatherDB.loadAddCounties(listView.size());\n+            cityNameText.setText(county.getCountyName());\n+        } else if (formDeleteAreaActivityPosition != -1) {\n+            listPager.setCurrentItem(formDeleteAreaActivityPosition);\n+            if (formDeleteAreaActivityPosition == 0) {\n+                SharedPreferences prefs = PreferenceManager.\n+                        getDefaultSharedPreferences(WeatherActivity.this);\n+                cityNameText.setText(prefs.getString(\"city_name_juhe\", \"\"));\n+            } else {\n+                County county = weatherDB.loadAddCounties(formDeleteAreaActivityPosition);\n+                cityNameText.setText(county.getCountyName());\n+            }\n+        } else {\n+            listPager.setCurrentItem(0);\n+            SharedPreferences prefs = PreferenceManager.\n+                    getDefaultSharedPreferences(WeatherActivity.this);\n+            cityNameText.setText(prefs.getString(\"city_name_juhe\", \"\"));\n+        }\n+        listPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n+            @Override\n+            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n+            }\n+\n+            @Override\n+            public void onPageSelected(int position) {\n+                if (position == 0) {\n+                    SharedPreferences prefs = PreferenceManager.\n+                            getDefaultSharedPreferences(WeatherActivity.this);\n+                    cityNameText.setText(prefs.getString(\"city_name_juhe\", \"\"));\n+                } else {\n+                    County county = weatherDB.loadAddCounties(position);\n+                    cityNameText.setText(county.getCountyName());\n+                }\n+                currentPosition = position;\n+                Log.d(\"WeatherActivity\", \"xyz 当前是第\" + position + \"页\");\n+            }\n+\n+            @Override\n+            public void onPageScrollStateChanged(int state) {\n+            }\n+        });\n+    }\n+\n+    /**\n+     * 设置下拉刷新的相关属性\n+     */\n+    private void initSwipeRefreshLayout() {\n+        swipeRefreshLayout = (SwipeRefreshLayout) findViewById(R.id.swipeLayout);\n+        swipeRefreshLayout.setColorSchemeResources(R.color.colorPrimary);\n+        // 设置手指在屏幕下拉多少距离会触发下拉刷新\n+        swipeRefreshLayout.setDistanceToTriggerSync(300);\n+        // 设定下拉圆圈的背景\n+        swipeRefreshLayout.setProgressBackgroundColorSchemeColor(Color.WHITE);\n+        // 设置圆圈的大小\n+        swipeRefreshLayout.setSize(SwipeRefreshLayout.LARGE);\n+    }\n+\n+    /**\n+     * 判断数据库是否已经存在此城市,若不存在则将其存入数据库\n+     */\n+    private void judgeDBToAdd() {\n+        List<County> countyList = weatherDB.loadAddCounties();\n+        if (!TextUtils.isEmpty(countyCode) && !TextUtils.isEmpty(countyName) && !countyCode.equals(\"location\")) {\n+            if (countyList.size() >= 0) {\n+                Boolean isExist = false;\n+                for (County county1 : countyList) {\n+                    if (countyCode.equals(county1.getCountyCode())) {\n+                        isExist = true;\n+                    }\n+                }\n+                if (!isExist) {\n+                    County county = new County();\n+                    county.setCountyCode(countyCode);\n+                    county.setCountyName(countyName);\n+                    weatherDB.saveAddCounty(county);\n+                    queryWeatherCode(countyCode);\n+                }\n+            }\n+        }\n+    }\n+\n+    /**\n+     * 高德地图定位初始化\n+     */\n+    public void initMap() {\n+        //初始化定位\n+        mLocationClient = new AMapLocationClient(getApplicationContext());\n+        //设置定位回调监听\n+        mLocationClient.setLocationListener(mLocationListener);\n+        //初始化定位参数\n+        mLocationOption = new AMapLocationClientOption();\n+        //设置定位模式为高精度模式，Battery_Saving为低功耗模式，Device_Sensors是仅设备模式\n+        mLocationOption.setLocationMode(AMapLocationClientOption.AMapLocationMode.Hight_Accuracy);\n+        //设置是否返回地址信息（默认返回地址信息）\n+        mLocationOption.setNeedAddress(true);\n+        //设置是否只定位一次,默认为false\n+        mLocationOption.setOnceLocation(false);\n+        //设置是否强制刷新WIFI，默认为强制刷新\n+        mLocationOption.setWifiActiveScan(true);\n+        //设置是否允许模拟位置,默认为false，不允许模拟位置\n+        mLocationOption.setMockEnable(false);\n+        //设置定位间隔,单位毫秒,默认为2000ms\n+        mLocationOption.setInterval(2000);\n+        //给定位客户端对象设置定位参数\n+        mLocationClient.setLocationOption(mLocationOption);\n+        //启动定位\n+        mLocationClient.startLocation();\n+    }\n+\n+    /**\n+     * 对标题栏的图标进行点击事件注册,并对其进行相应处理\n+     *\n+     * @param v\n+     */\n+    @Override\n+    public void onClick(View v) {\n+        switch (v.getId()) {\n+            case R.id.switch_city:\n+                Intent intent = new Intent(this, ChooseAreaActivity.class);\n+                intent.putExtra(\"from_weather_activity\", true);\n+                startActivity(intent);\n+                finish();\n+                break;\n+            case R.id.refresh_weather:\n+                Intent intentDelete = new Intent(this, DeleteAreaActivity.class);\n+                intentDelete.putExtra(\"to_delete_area_position\", currentPosition);\n+                startActivity(intentDelete);\n+                finish();\n+                break;\n+            default:\n+                break;\n+        }\n+    }\n+\n+    /*\n+    * 根据当前位置获得页面对应的view\n+    * */\n+    public void getView() {\n+        View view = listView.get(currentPosition);\n+        relativeLayout = (RelativeLayout) view.findViewById(R.id.weather_main);\n+        publishText = (TextView) view.findViewById(R.id.publish_text);\n+        weatherDespText = (TextView) view.findViewById(R.id.weather_desp);\n+        temp1Text = (TextView) view.findViewById(R.id.temp1);\n+        temp2Text = (TextView) view.findViewById(R.id.temp2);\n+        currentDateText = (TextView) view.findViewById(R.id.current_date);\n+    }\n+\n+    /*\n+     * 监听器SwipeRefreshLayout.OnRefreshListener中的方法，当下拉刷新后触发\n+     */\n+    public void onRefresh() {\n+        if (currentPosition > 0) {\n+            County county = weatherDB.loadAddCounties(currentPosition);\n+            queryWeatherCode(county.getCountyCode());\n+            viewPageAdapter.notifyDataSetChanged();\n+            getView();\n+            showWeather(county.getCountyName());\n+            swipeRefreshLayout.setRefreshing(false);\n+            Log.d(\"WeatherActivity\", \"xyz REFRESH_COUNTY has finished\");\n+        } else {\n+            SharedPreferences prefs = PreferenceManager.\n+                    getDefaultSharedPreferences(WeatherActivity.this);\n+            String defaultLocation = prefs.getString(\"city_name_juhe\", \"\");\n+            queryWeatherInfoFromJuHe(defaultLocation);\n+            viewPageAdapter.notifyDataSetChanged();\n+            getView();\n+            showWeatherFromJuHe();\n+            swipeRefreshLayout.setRefreshing(false);\n+            Log.d(\"WeatherActivity\", \"xyz REFRESH_LOCATION has finished\");\n+        }\n+    }\n+\n+    /**\n+     * 查询县级代号所对应的天气代号\n+     *\n+     * @param countyCode\n+     */\n+    private void queryWeatherCode(String countyCode) {\n+        String address = \"http://www.weather.com.cn/data/list3/city\" +\n+                countyCode + \".xml\";\n+        queryFromServer(address, \"countyCode\");\n+    }\n+\n+    /**\n+     * 查询天气代号所对应的天气\n+     *\n+     * @param weatherCode\n+     */\n+    private void queryWeatherInfo(String weatherCode) {\n+        String address = \"http://www.weather.com.cn/data/cityinfo/\" +\n+                weatherCode + \".html\";\n+        queryFromServer(address, \"weatherCode\");\n+    }\n+\n+    /**\n+     * 通过聚合数据的接口查询城市天气\n+     *\n+     * @param cityName\n+     */\n+    private void queryWeatherInfoFromJuHe(String cityName) {\n+        //  组装反向地理编码的接口地址\n+        StringBuilder url = new StringBuilder();\n+        url.append(\"http://v.juhe.cn/weather/index?cityname=\");\n+        url.append(cityName);\n+        url.append(\"&dtype=&format=&key=38a866e9c3aa7066994f99a0a2998a31\");\n+        String address = url.toString();\n+        queryFromServer(address, \"location\");\n+    }\n+\n+    /**\n+     * 根据传入的地址和类型去向服务器查询天气代号或者天气信息\n+     *\n+     * @param address\n+     * @param type\n+     */\n+    private void queryFromServer(final String address, final String type) {\n+        HttpUtil.sendHttpRequest(address, new HttpCallbackListener() {\n+            @Override\n+            public void onFinish(final String response) {\n+                if (\"location\".equals(type)) {\n+                    Utility.handleWeatherResponseFromJuHe(WeatherActivity.this, response);\n+                    // 通过runOnUiThread()方法回到主线程处理逻辑\n+                    runOnUiThread(new Runnable() {\n+                        @Override\n+                        public void run() {\n+                            showWeatherFromJuHe();\n+                        }\n+                    });\n+                } else if (\"countyCode\".equals(type)) {\n+                    if (!TextUtils.isEmpty(response)) {\n+                        // 从服务器返回的数据中解析出天气代号\n+                        String[] array = response.split(\"\\\\|\");\n+                        if (array != null && array.length == 2) {\n+                            weatherCode = array[1];\n+                            queryWeatherInfo(weatherCode);\n+                        }\n+                    }\n+                } else if (\"weatherCode\".equals(type)) {\n+                    // 处理服务器返回的天气信息\n+                    final String returnCountyName = Utility.handleWeatherResponse(WeatherActivity.this,\n+                            response);\n+                    runOnUiThread(new Runnable() {\n+                        @Override\n+                        public void run() {\n+                            showWeather(returnCountyName);\n+                        }\n+                    });\n+                }\n+            }\n+\n+            @Override\n+            public void onError(Exception e) {\n+                Log.d(\"WeatherActivity\", \"xyz 548 Exception is \" + e.toString());\n+                runOnUiThread(new Runnable() {\n+                    @Override\n+                    public void run() {\n+                        publishText.setText(\"同步失败\");\n+                    }\n+                });\n+            }\n+        });\n+    }\n+\n+    /**\n+     * 从SharedPreferences文件中读取存储的天气信息，并显示到界面上\n+     *\n+     * @param countyName\n+     */\n+    private void showWeather(String countyName) {\n+        CountyWeather countyWeather = weatherDB.loadAddCountiesWeatherByCountyName(countyName);\n+        cityNameText.setText(countyWeather.getCountyName());\n+        temp1Text.setText(countyWeather.getTemp1());\n+        temp2Text.setText(countyWeather.getTemp2());\n+        weatherDespText.setText(countyWeather.getWeatherDesp());\n+        selectPictureByWeather(countyWeather.getWeatherDesp());\n+        publishText.setText(\"今天\" + countyWeather.getUpdateTime() + \"更新\");\n+        currentDateText.setText(countyWeather.getCurrentDate());\n+    }\n+\n+    /**\n+     * 从SharedPreferences文件中读取存储的JuHe天气信息，并显示到界面上\n+     */\n+    private void showWeatherFromJuHe() {\n+        SharedPreferences prefs = PreferenceManager.\n+                getDefaultSharedPreferences(this);\n+        Log.d(\"WeatherActivity\", \"xyz 512 city_name is \" + prefs.getString(\"city_name_juhe\", \"\"));\n+        cityNameText.setText(prefs.getString(\"city_name_juhe\", \"\"));\n+        temp1Text.setText(prefs.getString(\"temp1_juhe\", \"\"));\n+        temp2Text.setText(prefs.getString(\"temp2_juhe\", \"\"));\n+        weatherDespText.setText(prefs.getString(\"weather_juhe\", \"\"));\n+        selectPictureByWeather(prefs.getString(\"weather_juhe\", \"\"));\n+        publishText.setText(\"今天\" + prefs.getString(\"update_time_juhe\", \"\") + \"更新\");\n+        currentDateText.setText(prefs.getString(\"current_date_juhe\", \"\"));\n+    }\n+\n+    /**\n+     * 根据天气选择不同的背景图\n+     *\n+     * @param weatherDesp\n+     */\n+    private void selectPictureByWeather(String weatherDesp) {\n+        if (weatherDesp.contains(\"晴\")) {\n+            relativeLayout.setBackgroundResource(R.drawable.com1314080901103_sunny);\n+        } else if (weatherDesp.contains(\"多云\")) {\n+            relativeLayout.setBackgroundResource(R.drawable.com1314080901103_cloud);\n+        } else if (weatherDesp.contains(\"阴\")) {\n+            relativeLayout.setBackgroundResource(R.drawable.com1314080901103_night);\n+        } else if (weatherDesp.contains(\"雷阵雨\")) {\n+            relativeLayout.setBackgroundResource(R.drawable.com1314080901103_thunder_shower);\n+        } else if (weatherDesp.contains(\"阵雨\")) {\n+            relativeLayout.setBackgroundResource(R.drawable.com1314080901103_shower);\n+        } else if (weatherDesp.contains(\"小雨\")) {\n+            relativeLayout.setBackgroundResource(R.drawable.com1314080901103_light_rain);\n+        } else if (weatherDesp.contains(\"中雨\")) {\n+            relativeLayout.setBackgroundResource(R.drawable.com1314080901103_mid_rain);\n+        } else if (weatherDesp.contains(\"雨\")) {\n+            relativeLayout.setBackgroundResource(R.drawable.com1314080901103_rain);\n+        } else {\n+            relativeLayout.setBackgroundResource(R.drawable.com1314080901103_default_weather);\n+        }\n+    }\n+\n+    /**\n+     * 销毁全部活动，退出APP\n+     */\n+    @Override\n+    protected void onDestroy() {\n+        super.onDestroy();\n+        ActivityCollector.removeActivity(this);\n+        Log.d(\"WeatherActivity\", \"xyz onDestroy() is finished\");\n+    }\n+\n+    /**\n+     * 捕获Back按键，根据当前的级别来判断，此时应该返回市列表、省列表、还是直接退出\n+     */\n+    @Override\n+    public void onBackPressed() {\n+        ActivityCollector.finishAll();\n+    }\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "ee507349b8acf5729bf427c7045a92a39b8016d1",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/adapter/ViewPageAdapter.java",
    "status" : "added",
    "additions" : 44,
    "deletions" : 0,
    "changes" : 44,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/adapter/ViewPageAdapter.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/adapter/ViewPageAdapter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/adapter/ViewPageAdapter.java?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,44 @@\n+package edu.hzuapps.androidworks.homeworks.com1314080901103.adapter;\n+\n+import android.support.v4.view.PagerAdapter;\n+import android.view.View;\n+import android.view.ViewGroup;\n+\n+import java.util.List;\n+\n+public class ViewPageAdapter extends PagerAdapter {\n+\n+    private List<View> list_view;\n+\n+    public ViewPageAdapter(List<View> list_view) {\n+        this.list_view = list_view;\n+    }\n+\n+    @Override\n+    public int getCount() {\n+        return list_view.size();\n+    }\n+\n+    @Override\n+    public boolean isViewFromObject(View view, Object object) {\n+        return view == object;\n+    }\n+\n+    @Override\n+    public Object instantiateItem(ViewGroup container, int position) {\n+        container.addView(list_view.get(position % list_view.size()), 0);\n+        return list_view.get(position % list_view.size());\n+    }\n+\n+    @Override\n+    public void destroyItem(ViewGroup container, int position, Object object) {\n+        // 把 Object 强转为 View，然后将 view 从 ViewGroup 中清除\n+        container.removeView((View) object);\n+    }\n+\n+    @Override\n+    public int getItemPosition(Object object) {\n+        // 最简单解决 notifyDataSetChanged() 页面不刷新问题的方法\n+        return POSITION_NONE;\n+    }\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "225fe38572d119ac4f55004d01b94d289765efeb",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/db/WeatherDB.java",
    "status" : "added",
    "additions" : 347,
    "deletions" : 0,
    "changes" : 347,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/db/WeatherDB.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/db/WeatherDB.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/db/WeatherDB.java?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,347 @@\n+package edu.hzuapps.androidworks.homeworks.com1314080901103.db;\n+\n+import android.content.ContentValues;\n+import android.content.Context;\n+import android.database.Cursor;\n+import android.database.sqlite.SQLiteDatabase;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.model.City;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.model.County;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.model.CountyWeather;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.model.Province;\n+\n+public class WeatherDB {\n+\n+    /**\n+     * 数据库名\n+     */\n+    public static final String DB_NAME = \"my_weather\";\n+\n+    /**\n+     * 数据库版本\n+     */\n+    public static final int VERSION = 1;\n+    private static WeatherDB weatherDB;\n+    private SQLiteDatabase db;\n+    /**\n+     * AddCounty表建表语句\n+     */\n+    public static final String CREATE_ADD_COUNTY = \"create table AddCounty (\"\n+            + \"id integer primary key autoincrement, \"\n+            + \"county_name text, \"\n+            + \"county_code text) \";\n+    /**\n+     * AddCounty表删除语句\n+     */\n+    public static final String DROP_ADD_COUNTY = \"DROP TABLE AddCounty\";\n+\n+    /**\n+     * 将构造方法私有化\n+     */\n+    private WeatherDB(Context context) {\n+        WeatherOpenHelper dbHelper = new WeatherOpenHelper(context,\n+                DB_NAME, null, VERSION);\n+        db = dbHelper.getWritableDatabase();\n+    }\n+\n+    /**\n+     * 获取WeatherDB的实例\n+     */\n+    public synchronized static WeatherDB getInstance(Context context) {\n+        if (weatherDB == null) {\n+            weatherDB = new WeatherDB(context);\n+        }\n+        return weatherDB;\n+    }\n+\n+    /**\n+     * 将Province实例存储到数据库\n+     */\n+    public void saveProvince(Province province) {\n+        if (province != null) {\n+            ContentValues values = new ContentValues();\n+            values.put(\"province_name\", province.getProvinceName());\n+            values.put(\"province_code\", province.getProvinceCode());\n+            db.insert(\"Province\", null, values);\n+        }\n+    }\n+\n+    /**\n+     * 从数据库读取全国所有的省份信息\n+     */\n+    public List<Province> loadProvinces() {\n+        List<Province> list = new ArrayList<>();\n+        Cursor cursor = db\n+                .query(\"Province\", null, null, null, null, null, null);\n+        if (cursor.moveToFirst()) {\n+            do {\n+                Province province = new Province();\n+                province.setId(cursor.getInt(cursor.getColumnIndex(\"id\")));\n+                province.setProvinceName(cursor.getString(cursor\n+                        .getColumnIndex(\"province_name\")));\n+                province.setProvinceCode(cursor.getString(cursor\n+                        .getColumnIndex(\"province_code\")));\n+                list.add(province);\n+            } while (cursor.moveToNext());\n+        }\n+        cursor.close();\n+        return list;\n+    }\n+\n+    /**\n+     * 将City实例存储到数据库\n+     */\n+    public void saveCity(City city) {\n+        if (city != null) {\n+            ContentValues values = new ContentValues();\n+            values.put(\"city_name\", city.getCityName());\n+            values.put(\"city_code\", city.getCityCode());\n+            values.put(\"province_id\", city.getProvinceId());\n+            db.insert(\"City\", null, values);\n+        }\n+    }\n+\n+    /**\n+     * 从数据库读取某省下所有的城市信息\n+     */\n+    public List<City> loadCities(int provinceId) {\n+        List<City> list = new ArrayList<>();\n+        Cursor cursor = db.query(\"City\", null, \"province_id = ?\",\n+                new String[]{String.valueOf(provinceId)}, null, null, null);\n+        if (cursor != null && cursor.moveToFirst()) {\n+            do {\n+                City city = new City();\n+                city.setId(cursor.getInt(cursor.getColumnIndex(\"id\")));\n+                city.setCityName(cursor.getString(cursor\n+                        .getColumnIndex(\"city_name\")));\n+                city.setCityCode(cursor.getString(cursor\n+                        .getColumnIndex(\"city_code\")));\n+                city.setProvinceId(provinceId);\n+                list.add(city);\n+            } while (cursor.moveToNext());\n+        }\n+        cursor.close();\n+        return list;\n+    }\n+\n+    /**\n+     * 将County实例存储到数据库\n+     */\n+    public void saveCounty(County county) {\n+        if (county != null) {\n+            ContentValues values = new ContentValues();\n+            values.put(\"county_name\", county.getCountyName());\n+            values.put(\"county_code\", county.getCountyCode());\n+            values.put(\"city_id\", county.getCityId());\n+            db.insert(\"County\", null, values);\n+        }\n+    }\n+\n+    /**\n+     * 从数据库读取某城市下所有的县信息\n+     */\n+    public List<County> loadCounties(int cityId) {\n+        List<County> list = new ArrayList<>();\n+        Cursor cursor = db.query(\"County\", null, \"city_id = ?\",\n+                new String[]{String.valueOf(cityId)}, null, null, null);\n+        if (cursor != null && cursor.moveToFirst()) {\n+            do {\n+                County county = new County();\n+                county.setId(cursor.getInt(cursor.getColumnIndex(\"id\")));\n+                county.setCountyName(cursor.getString(cursor\n+                        .getColumnIndex(\"county_name\")));\n+                county.setCountyCode(cursor.getString(cursor\n+                        .getColumnIndex(\"county_code\")));\n+                county.setCityId(cityId);\n+                list.add(county);\n+            } while (cursor.moveToNext());\n+        }\n+        cursor.close();\n+        return list;\n+    }\n+\n+    /**\n+     * 将AddCounty实例存储到数据库\n+     */\n+    public void saveAddCounty(County county) {\n+        if (county != null) {\n+            ContentValues values = new ContentValues();\n+            values.put(\"county_name\", county.getCountyName());\n+            values.put(\"county_code\", county.getCountyCode());\n+            db.insert(\"AddCounty\", null, values);\n+        }\n+    }\n+\n+    /**\n+     * 查询AddCounty表的城市数\n+     */\n+    public int selectAddCountySize() {\n+        Cursor cursor = db.query(\"AddCounty\", null, null, null, null, null, null);\n+        int count = cursor.getCount();\n+        cursor.close();\n+        return count;\n+    }\n+\n+    /**\n+     * 从数据库读取某县的信息\n+     */\n+    public County loadAddCounties(int cityId) {\n+        Cursor cursor = db.query(\"AddCounty\", null, \"id = ?\",\n+                new String[]{String.valueOf(cityId)}, null, null, null);\n+        County county = new County();\n+        if (cursor != null && cursor.moveToFirst()) {\n+            do {\n+                county.setId(cursor.getInt(cursor.getColumnIndex(\"id\")));\n+                county.setCountyName(cursor.getString(cursor\n+                        .getColumnIndex(\"county_name\")));\n+                county.setCountyCode(cursor.getString(cursor\n+                        .getColumnIndex(\"county_code\")));\n+            } while (cursor.moveToNext());\n+        }\n+        cursor.close();\n+        return county;\n+    }\n+\n+    /**\n+     * 从数据库读取某县的Id信息\n+     */\n+    public int loadAddCountiesId(String countyCode) {\n+        Cursor cursor = db.query(\"AddCounty\", null, \"county_code = ?\",\n+                new String[]{countyCode}, null, null, null);\n+        int id = 0;\n+        if (cursor != null && cursor.moveToFirst()) {\n+            do {\n+                id = cursor.getInt(cursor.getColumnIndex(\"id\"));\n+            } while (cursor.moveToNext());\n+        }\n+        cursor.close();\n+        return id;\n+    }\n+\n+    /**\n+     * 从数据库读取所有的添加城市信息\n+     *\n+     * @return\n+     */\n+    public List<County> loadAddCounties() {\n+        List<County> list = new ArrayList<>();\n+        Cursor cursor = db.query(\"AddCounty\", null, null, null, null, null, null);\n+        if (cursor.moveToFirst()) {\n+            do {\n+                County county = new County();\n+                county.setId(cursor.getInt(cursor.getColumnIndex(\"id\")));\n+                county.setCountyName(cursor.getString(cursor\n+                        .getColumnIndex(\"county_name\")));\n+                county.setCountyCode(cursor.getString(cursor\n+                        .getColumnIndex(\"county_code\")));\n+                list.add(county);\n+            } while (cursor.moveToNext());\n+        }\n+        cursor.close();\n+        return list;\n+    }\n+\n+    /**\n+     * 删除添加城市表中的县\n+     *\n+     * @param countyName\n+     */\n+    public void deleteFromAddCountiesByCountyName(String countyName) {\n+        db.delete(\"AddCounty\", \"county_name = ?\", new String[]{countyName});\n+    }\n+\n+    /**\n+     * 删除AddCounty表\n+     */\n+    public void deleteAddCounties() {\n+        db.execSQL(DROP_ADD_COUNTY);\n+    }\n+\n+    /**\n+     * 重新创建AddCounty表\n+     */\n+    public void createAddCounties() {\n+        db.execSQL(CREATE_ADD_COUNTY);\n+    }\n+\n+    /**\n+     * 将AddCounty实例存储到数据库\n+     */\n+    public void saveAddCountyWeather(CountyWeather countyWeather) {\n+        if (countyWeather != null) {\n+            ContentValues values = new ContentValues();\n+            values.put(\"county_name\", countyWeather.getCountyName());\n+            values.put(\"weather_code\", countyWeather.getWeatherCode());\n+            values.put(\"temp1\", countyWeather.getTemp1());\n+            values.put(\"temp2\", countyWeather.getTemp2());\n+            values.put(\"weather_desp\", countyWeather.getWeatherDesp());\n+            values.put(\"update_time\", countyWeather.getUpdateTime());\n+            values.put(\"current_date\", countyWeather.getCurrentDate());\n+            db.insert(\"AddCountyWeather\", null, values);\n+        }\n+    }\n+\n+    /**\n+     * 根据城市名查找对应天气的城市信息\n+     *\n+     * @return\n+     */\n+    public CountyWeather loadAddCountiesWeatherByCountyName(String countyName) {\n+        Cursor cursor = db.query(\"AddCountyWeather\", null, \"county_name = ?\",\n+                new String[]{countyName}, null, null, null);\n+        CountyWeather countyWeather = new CountyWeather();\n+        if (cursor.moveToFirst()) {\n+            do {\n+                countyWeather.setId(cursor.getInt(cursor.getColumnIndex(\"id\")));\n+                countyWeather.setCountyName(cursor.getString(cursor\n+                        .getColumnIndex(\"county_name\")));\n+                countyWeather.setWeatherCode(cursor.getString(cursor\n+                        .getColumnIndex(\"weather_code\")));\n+                countyWeather.setTemp1(cursor.getString(cursor\n+                        .getColumnIndex(\"temp1\")));\n+                countyWeather.setTemp2(cursor.getString(cursor\n+                        .getColumnIndex(\"temp2\")));\n+                countyWeather.setWeatherDesp(cursor.getString(cursor\n+                        .getColumnIndex(\"weather_desp\")));\n+                countyWeather.setUpdateTime(cursor.getString(cursor\n+                        .getColumnIndex(\"update_time\")));\n+                countyWeather.setCurrentDate(cursor.getString(cursor\n+                        .getColumnIndex(\"current_date\")));\n+            } while (cursor.moveToNext());\n+        }\n+        cursor.close();\n+        return countyWeather;\n+    }\n+\n+    /**\n+     * 删除添加城市天气表中的县\n+     *\n+     * @param countyName\n+     */\n+    public void deleteFromAddCountiesWeatherByCountyName(String countyName) {\n+        db.delete(\"AddCountyWeather\", \"county_name = ?\", new String[]{countyName});\n+    }\n+\n+    public void updateAddCountiesWeather(String countyName,\n+                                         String weatherCode, String temp1, String temp2, String weatherDesp, String updateTime, String currentDate) {\n+        String sql = \"UPDATE AddCountyWeather SET weather_code = \\' \" + weatherCode\n+                + \"\\' , temp1 = \\'\" + temp1 + \"\\' , temp2 = \\'\" + temp2 + \"\\' , weather_desp = \\'\" + weatherDesp\n+                + \"\\' , update_time = \\'\" + updateTime + \"\\' , current_date = \\'\" + currentDate + \"\\' WHERE county_name = \\'\"\n+                + countyName + \"\\'\";\n+        db.execSQL(sql);\n+    }\n+\n+    public boolean selectAddCountiesWeatherByCountyName(String countyName) {\n+        Cursor cursor = db.rawQuery(\"SELECT * FROM AddCountyWeather WHERE county_name = ?\", new String[]{countyName});\n+        if (cursor.getCount() > 0) {\n+            cursor.close();\n+            return true;\n+        } else {\n+            cursor.close();\n+            return false;\n+        }\n+    }\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "44c9a2686c13001a20b2aae344d3087b8ac7c860",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/db/WeatherOpenHelper.java",
    "status" : "added",
    "additions" : 68,
    "deletions" : 0,
    "changes" : 68,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/db/WeatherOpenHelper.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/db/WeatherOpenHelper.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/db/WeatherOpenHelper.java?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,68 @@\n+package edu.hzuapps.androidworks.homeworks.com1314080901103.db;\n+\n+import android.content.Context;\n+import android.database.sqlite.SQLiteDatabase;\n+import android.database.sqlite.SQLiteOpenHelper;\n+\n+public class WeatherOpenHelper extends SQLiteOpenHelper {\n+\n+    /**\n+     * Province表建表语句\n+     */\n+    public static final String CREATE_PROVINCE = \"create table Province (\"\n+            + \"id integer primary key autoincrement, \"\n+            + \"province_name text, \"\n+            + \"province_code text)\";\n+    /**\n+     * City表建表语句\n+     */\n+    public static final String CREATE_CITY = \"create table City (\"\n+            + \"id integer primary key autoincrement, \"\n+            + \"city_name text, \"\n+            + \"city_code text, \"\n+            + \"province_id integer)\";\n+    /**\n+     * County表建表语句\n+     */\n+    public static final String CREATE_COUNTY = \"create table County (\"\n+            + \"id integer primary key autoincrement, \"\n+            + \"county_name text, \"\n+            + \"county_code text, \"\n+            + \"city_id integer)\";\n+    /**\n+     * AddCounty表建表语句\n+     */\n+    public static final String CREATE_ADD_COUNTY = \"create table AddCounty (\"\n+            + \"id integer primary key autoincrement, \"\n+            + \"county_name text, \"\n+            + \"county_code text) \";\n+    /**\n+     * AddCounty表建表语句\n+     */\n+    public static final String CREATE_ADD_COUNTY_WEATHER = \"create table AddCountyWeather (\"\n+            + \"id integer primary key autoincrement, \"\n+            + \"county_name text, \"\n+            + \"weather_code text, \"\n+            + \"temp1 text, \"\n+            + \"temp2 text, \"\n+            + \"weather_desp text, \"\n+            + \"update_time text, \"\n+            + \"current_date text) \";\n+\n+    public WeatherOpenHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version) {\n+        super(context, name, factory, version);\n+    }\n+\n+    @Override\n+    public void onCreate(SQLiteDatabase db) {\n+        db.execSQL(CREATE_PROVINCE);    //  创建Province表\n+        db.execSQL(CREATE_CITY);    //  创建City表\n+        db.execSQL(CREATE_COUNTY);      //  创建County表\n+        db.execSQL(CREATE_ADD_COUNTY);  //  创建AddCounty表\n+        db.execSQL(CREATE_ADD_COUNTY_WEATHER);  //  创建AddCountyWeather表\n+    }\n+\n+    @Override\n+    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n+    }\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "d96b59d167488480788592fd162d29f162a406df",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/City.java",
    "status" : "added",
    "additions" : 41,
    "deletions" : 0,
    "changes" : 41,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/City.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/City.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/City.java?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,41 @@\n+package edu.hzuapps.androidworks.homeworks.com1314080901103.model;\n+\n+public class City {\n+\n+    private int id;\n+    private String cityName;\n+    private String cityCode;\n+    private int provinceId;\n+\n+    public int getId() {\n+        return id;\n+    }\n+\n+    public void setId(int id) {\n+        this.id = id;\n+    }\n+\n+    public String getCityName() {\n+        return cityName;\n+    }\n+\n+    public void setCityName(String cityName) {\n+        this.cityName = cityName;\n+    }\n+\n+    public String getCityCode() {\n+        return cityCode;\n+    }\n+\n+    public void setCityCode(String cityCode) {\n+        this.cityCode = cityCode;\n+    }\n+\n+    public int getProvinceId() {\n+        return provinceId;\n+    }\n+\n+    public void setProvinceId(int provinceId) {\n+        this.provinceId = provinceId;\n+    }\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "f9383b3d8b083cbc9efe3a08b70afd49f1e8b4f1",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/County.java",
    "status" : "added",
    "additions" : 41,
    "deletions" : 0,
    "changes" : 41,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/County.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/County.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/County.java?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,41 @@\n+package edu.hzuapps.androidworks.homeworks.com1314080901103.model;\n+\n+public class County {\n+\n+    private int id;\n+    private String countyName;\n+    private String countyCode;\n+    private int cityId;\n+\n+    public int getId() {\n+        return id;\n+    }\n+\n+    public void setId(int id) {\n+        this.id = id;\n+    }\n+\n+    public String getCountyCode() {\n+        return countyCode;\n+    }\n+\n+    public void setCountyCode(String countyCode) {\n+        this.countyCode = countyCode;\n+    }\n+\n+    public String getCountyName() {\n+        return countyName;\n+    }\n+\n+    public void setCountyName(String countyName) {\n+        this.countyName = countyName;\n+    }\n+\n+    public int getCityId() {\n+        return cityId;\n+    }\n+\n+    public void setCityId(int cityId) {\n+        this.cityId = cityId;\n+    }\n+}"
  }, {
    "sha" : "8e3c6748b92058cc09fde7fe33fdab2120d04878",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/CountyWeather.java",
    "status" : "added",
    "additions" : 77,
    "deletions" : 0,
    "changes" : 77,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/CountyWeather.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/CountyWeather.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/CountyWeather.java?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,77 @@\n+package edu.hzuapps.androidworks.homeworks.com1314080901103.model;\n+\n+public class CountyWeather {\n+\n+    private int id;\n+    private String countyName;\n+    private String weatherCode;\n+    private String temp1;\n+    private String temp2;\n+    private String weatherDesp;\n+    private String updateTime;\n+    private String currentDate;\n+\n+    public int getId() {\n+        return id;\n+    }\n+\n+    public void setId(int id) {\n+        this.id = id;\n+    }\n+\n+    public String getCountyName() {\n+        return countyName;\n+    }\n+\n+    public void setCountyName(String countyName) {\n+        this.countyName = countyName;\n+    }\n+\n+    public String getWeatherCode() {\n+        return weatherCode;\n+    }\n+\n+    public void setWeatherCode(String weatherCode) {\n+        this.weatherCode = weatherCode;\n+    }\n+\n+    public String getTemp1() {\n+        return temp1;\n+    }\n+\n+    public void setTemp1(String temp1) {\n+        this.temp1 = temp1;\n+    }\n+\n+    public String getTemp2() {\n+        return temp2;\n+    }\n+\n+    public void setTemp2(String temp2) {\n+        this.temp2 = temp2;\n+    }\n+\n+    public String getWeatherDesp() {\n+        return weatherDesp;\n+    }\n+\n+    public void setWeatherDesp(String weatherDesp) {\n+        this.weatherDesp = weatherDesp;\n+    }\n+\n+    public String getUpdateTime() {\n+        return updateTime;\n+    }\n+\n+    public void setUpdateTime(String updateTime) {\n+        this.updateTime = updateTime;\n+    }\n+\n+    public String getCurrentDate() {\n+        return currentDate;\n+    }\n+\n+    public void setCurrentDate(String currentDate) {\n+        this.currentDate = currentDate;\n+    }\n+}"
  }, {
    "sha" : "a758500ce514fd006d3ba549e096f45c335b0491",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/Province.java",
    "status" : "added",
    "additions" : 32,
    "deletions" : 0,
    "changes" : 32,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/Province.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/Province.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/model/Province.java?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,32 @@\n+package edu.hzuapps.androidworks.homeworks.com1314080901103.model;\n+\n+public class Province {\n+\n+    private int id;\n+    private String provinceName;\n+    private String provinceCode;\n+\n+    public int getId() {\n+        return id;\n+    }\n+\n+    public void setId(int id) {\n+        this.id = id;\n+    }\n+\n+    public String getProvinceName() {\n+        return provinceName;\n+    }\n+\n+    public void setProvinceName(String provinceName) {\n+        this.provinceName = provinceName;\n+    }\n+\n+    public String getProvinceCode() {\n+        return provinceCode;\n+    }\n+\n+    public void setProvinceCode(String provinceCode) {\n+        this.provinceCode = provinceCode;\n+    }\n+}"
  }, {
    "sha" : "adacacd9ced5dc2ac8fedbd57c30d97b60cfec78",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/util/HttpCallbackListener.java",
    "status" : "added",
    "additions" : 8,
    "deletions" : 0,
    "changes" : 8,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/util/HttpCallbackListener.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/util/HttpCallbackListener.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/util/HttpCallbackListener.java?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,8 @@\n+package edu.hzuapps.androidworks.homeworks.com1314080901103.util;\n+\n+public interface HttpCallbackListener {\n+\n+    void onFinish(String response);\n+\n+    void onError(Exception e);\n+}"
  }, {
    "sha" : "a0c91b5634dd318cae502144d27d726491a1d502",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/util/HttpUtil.java",
    "status" : "added",
    "additions" : 48,
    "deletions" : 0,
    "changes" : 48,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/util/HttpUtil.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/util/HttpUtil.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/util/HttpUtil.java?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,48 @@\n+package edu.hzuapps.androidworks.homeworks.com1314080901103.util;\n+\n+import java.io.BufferedReader;\n+import java.io.InputStream;\n+import java.io.InputStreamReader;\n+import java.net.HttpURLConnection;\n+import java.net.URL;\n+\n+public class HttpUtil {\n+\n+    public static void sendHttpRequest(final String address,\n+                                       final HttpCallbackListener listener) {\n+        new Thread(new Runnable() {\n+            @Override\n+            public void run() {\n+                HttpURLConnection connection = null;\n+                try {\n+                    URL url = new URL(address);\n+                    connection = (HttpURLConnection) url.openConnection();\n+                    connection.setRequestMethod(\"GET\");\n+                    connection.setConnectTimeout(8000);\n+                    connection.setReadTimeout(8000);\n+                    InputStream in = connection.getInputStream();\n+                    BufferedReader reader = new BufferedReader(new\n+                            InputStreamReader(in));\n+                    StringBuilder response = new StringBuilder();\n+                    String line;\n+                    while ((line = reader.readLine()) != null) {\n+                        response.append(line);\n+                    }\n+                    if (listener != null) {\n+                        // 回调onFinish()方法\n+                        listener.onFinish(response.toString());\n+                    }\n+                } catch (Exception e) {\n+                    if (listener != null) {\n+                        // 回调onError()方法\n+                        listener.onError(e);\n+                    }\n+                } finally {\n+                    if (connection != null) {\n+                        connection.disconnect();\n+                    }\n+                }\n+            }\n+        }).start();\n+    }\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "2724e56e7e7f3db27593714c17cbc68eac648cd0",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/util/Utility.java",
    "status" : "added",
    "additions" : 192,
    "deletions" : 0,
    "changes" : 192,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/util/Utility.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/util/Utility.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/com1314080901103/util/Utility.java?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,192 @@\n+package edu.hzuapps.androidworks.homeworks.com1314080901103.util;\n+\n+import android.content.Context;\n+import android.content.SharedPreferences;\n+import android.preference.PreferenceManager;\n+import android.text.TextUtils;\n+\n+import org.json.JSONException;\n+import org.json.JSONObject;\n+\n+import java.text.SimpleDateFormat;\n+import java.util.Calendar;\n+import java.util.Date;\n+import java.util.Locale;\n+\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.db.WeatherDB;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.model.City;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.model.County;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.model.CountyWeather;\n+import edu.hzuapps.androidworks.homeworks.com1314080901103.model.Province;\n+\n+public class Utility {\n+\n+    /**\n+     * 解析和处理服务器返回的省级数据\n+     */\n+    public synchronized static boolean handleProvincesResponse(WeatherDB\n+                                                                       cWeatherDB, String response) {\n+        if (!TextUtils.isEmpty(response)) {\n+            String[] allProvinces = response.split(\",\");\n+            if (allProvinces != null && allProvinces.length > 0) {\n+                for (String p : allProvinces) {\n+                    String[] array = p.split(\"\\\\|\");\n+                    Province province = new Province();\n+                    province.setProvinceCode(array[0]);\n+                    province.setProvinceName(array[1]);\n+                    // 将解析出来的数据存储到Province表\n+                    cWeatherDB.saveProvince(province);\n+                }\n+                return true;\n+            }\n+        }\n+        return false;\n+    }\n+\n+    /**\n+     * 解析和处理服务器返回的市级数据\n+     */\n+    public static boolean handleCitiesResponse(WeatherDB cWeatherDB,\n+                                               String response, int provinceId) {\n+        if (!TextUtils.isEmpty(response)) {\n+            String[] allCities = response.split(\",\");\n+            if (allCities != null && allCities.length > 0) {\n+                for (String c : allCities) {\n+                    String[] array = c.split(\"\\\\|\");\n+                    City city = new City();\n+                    city.setCityCode(array[0]);\n+                    city.setCityName(array[1]);\n+                    city.setProvinceId(provinceId);\n+                    // 将解析出来的数据存储到City表\n+                    cWeatherDB.saveCity(city);\n+                }\n+                return true;\n+            }\n+        }\n+        return false;\n+    }\n+\n+    /**\n+     * 解析和处理服务器返回的县级数据\n+     */\n+    public static boolean handleCountiesResponse(WeatherDB cWeatherDB,\n+                                                 String response, int cityId) {\n+        if (!TextUtils.isEmpty(response)) {\n+            String[] allCounties = response.split(\",\");\n+            if (allCounties != null && allCounties.length > 0) {\n+                for (String c : allCounties) {\n+                    String[] array = c.split(\"\\\\|\");\n+                    County county = new County();\n+                    county.setCountyCode(array[0]);\n+                    county.setCountyName(array[1]);\n+                    county.setCityId(cityId);\n+                    // 将解析出来的数据存储到County表\n+                    cWeatherDB.saveCounty(county);\n+                }\n+                return true;\n+            }\n+        }\n+        return false;\n+    }\n+\n+    /**\n+     * 解析服务器返回的 JSON 数据，并将解析出的数据存储到本地\n+     */\n+    public static String handleWeatherResponse(Context context, String response) {\n+        try {\n+            JSONObject jsonObject = new JSONObject(response);\n+            JSONObject weatherInfo = jsonObject.getJSONObject(\"weatherinfo\");\n+            String cityName = weatherInfo.getString(\"city\");\n+            String weatherCode = weatherInfo.getString(\"cityid\");\n+            String temp1 = weatherInfo.getString(\"temp1\");\n+            String temp2 = weatherInfo.getString(\"temp2\");\n+            String weatherDesp = weatherInfo.getString(\"weather\");\n+            saveWeatherInfo(context, cityName, weatherCode, temp1, temp2,\n+                    weatherDesp);\n+            return cityName;\n+        } catch (JSONException e) {\n+            e.printStackTrace();\n+        }\n+        return \"\";\n+    }\n+\n+    /**\n+     * 将服务器返回的所有天气信息存储到AddCountyWeather表中\n+     */\n+    public static void saveWeatherInfo(Context context, String countyName,\n+                                       String weatherCode, String temp1, String temp2, String weatherDesp) {\n+        WeatherDB weatherDB = WeatherDB.getInstance(context);\n+        CountyWeather countyWeather = new CountyWeather();\n+        Calendar c = Calendar.getInstance();\n+        String updateTime = c.get(Calendar.HOUR_OF_DAY) + \":\";\n+        if (c.get(Calendar.MINUTE) <= 9) {\n+            updateTime = updateTime + \"0\" + c.get(Calendar.MINUTE);\n+        } else {\n+            updateTime = updateTime + c.get(Calendar.MINUTE);\n+        }\n+        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy 年 M 月 d 日\",\n+                Locale.CHINA);\n+        String currentDate = sdf.format(new Date());\n+        if (!weatherDB.selectAddCountiesWeatherByCountyName(countyName)) {\n+            countyWeather.setCountyName(countyName);\n+            countyWeather.setWeatherCode(weatherCode);\n+            countyWeather.setTemp1(temp1);\n+            countyWeather.setTemp2(temp2);\n+            countyWeather.setWeatherDesp(weatherDesp);\n+            countyWeather.setUpdateTime(updateTime);\n+            countyWeather.setCurrentDate(currentDate);\n+            weatherDB.saveAddCountyWeather(countyWeather);\n+        } else {\n+            weatherDB.updateAddCountiesWeather(countyName, weatherCode, temp1, temp2, weatherDesp, updateTime, currentDate);\n+        }\n+\n+    }\n+\n+    /**\n+     * 解析从聚合数据返回的 JSON 数据，并将解析出的数据存储到本地\n+     */\n+    public static void handleWeatherResponseFromJuHe(Context context, String response) {\n+        try {\n+            JSONObject jsonObject = new JSONObject(response);\n+            //  获取result节点下的位置信息\n+            JSONObject resultObject = jsonObject.getJSONObject\n+                    (\"result\");\n+            JSONObject JSONObjectToday = resultObject.getJSONObject\n+                    (\"today\");\n+            String cityName = JSONObjectToday.getString(\"city\");\n+            String[] temp = JSONObjectToday.getString(\"temperature\").split(\"~\");\n+            String temp1 = temp[0];\n+            String temp2 = temp[1];\n+            String weather = JSONObjectToday.getString(\"weather\");\n+            saveWeatherInfoFromJuHe(context, cityName, temp1, temp2, weather);\n+        } catch (JSONException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+\n+    /**\n+     * 将聚合数据返回的所有天气信息存储到 SharedPreferences 文件中\n+     */\n+    public static void saveWeatherInfoFromJuHe(Context context, String cityName,\n+                                               String temp1, String temp2, String weather) {\n+        SharedPreferences.Editor editor = PreferenceManager\n+                .getDefaultSharedPreferences(context).edit();\n+        Calendar c = Calendar.getInstance();\n+        String updateTime = c.get(Calendar.HOUR_OF_DAY) + \":\";\n+        if (c.get(Calendar.MINUTE) < 9) {\n+            updateTime = updateTime + \"0\" + c.get(Calendar.MINUTE);\n+        } else {\n+            updateTime = updateTime + c.get(Calendar.MINUTE);\n+        }\n+        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy 年 M 月 d 日\",\n+                Locale.CHINA);\n+        String currentDate = sdf.format(new Date());\n+        editor.putString(\"city_name_juhe\", cityName);\n+        editor.putString(\"temp1_juhe\", temp1);\n+        editor.putString(\"temp2_juhe\", temp2);\n+        editor.putString(\"weather_juhe\", weather);\n+        editor.putString(\"update_time_juhe\", updateTime);\n+        editor.putString(\"current_date_juhe\", currentDate);\n+        editor.commit();\n+    }\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "b31f80c511aa1849663e880628e4bbbc38bc2b30",
    "filename" : "app/src/main/res/values/com1314080901103_color.xml",
    "status" : "added",
    "additions" : 11,
    "deletions" : 0,
    "changes" : 11,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/res/values/com1314080901103_color.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/res/values/com1314080901103_color.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/values/com1314080901103_color.xml?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,11 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<resources>\n+    <color name=\"light_grey\">#E6E6E6</color>\n+    <color name=\"dark_grey\">#B8B8B8</color>\n+    <color name=\"frame_color\">#717171</color>\n+    <color name=\"text_color\">#ffffff</color>\n+    <color name=\"blue\">#63b8ff</color>\n+    <color name=\"colorPrimary\">#C62F2F</color>\n+    <color name=\"colorPrimaryDark\">#C62F2F</color>\n+    <color name=\"colorAccent\">#C62F2F</color>\n+</resources>\n\\ No newline at end of file"
  }, {
    "sha" : "812cb7be0a1565a849a29c08fa07fb9901ccb347",
    "filename" : "app/src/main/res/values/com1314080901103_dimens.xml",
    "status" : "added",
    "additions" : 6,
    "deletions" : 0,
    "changes" : 6,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/res/values/com1314080901103_dimens.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/res/values/com1314080901103_dimens.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/values/com1314080901103_dimens.xml?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,6 @@\n+<resources>\n+    <!-- Default screen margins, per the Android Design guidelines. -->\n+    <dimen name=\"activity_horizontal_margin\">16dp</dimen>\n+    <dimen name=\"activity_vertical_margin\">16dp</dimen>\n+    <dimen name=\"fab_margin\">16dp</dimen>\n+</resources>"
  }, {
    "sha" : "852c9d2add2ee7d58cecc5efd4f09f1464a4907e",
    "filename" : "app/src/main/res/values/com1314080901103_strings.xml",
    "status" : "added",
    "additions" : 4,
    "deletions" : 0,
    "changes" : 4,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/res/values/com1314080901103_strings.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/res/values/com1314080901103_strings.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/values/com1314080901103_strings.xml?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,4 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<resources>\n+    <string name=\"app_name\">简天气</string>\n+</resources>\n\\ No newline at end of file"
  }, {
    "sha" : "545b9c6d2c45df7938f8ffd5ac2d806dec36f122",
    "filename" : "app/src/main/res/values/com1314080901103_styles.xml",
    "status" : "added",
    "additions" : 20,
    "deletions" : 0,
    "changes" : 20,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/res/values/com1314080901103_styles.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/8ebaad13c721e0d1071653fa7ae21e529a289f1e/app/src/main/res/values/com1314080901103_styles.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/values/com1314080901103_styles.xml?ref=8ebaad13c721e0d1071653fa7ae21e529a289f1e",
    "patch" : "@@ -0,0 +1,20 @@\n+<resources>\n+\n+    <!-- Base application theme. -->\n+    <style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\">\n+        <!-- Customize your theme here. -->\n+        <item name=\"colorPrimary\">@color/colorPrimary</item>\n+        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\n+        <item name=\"colorAccent\">@color/colorAccent</item>\n+    </style>\n+\n+    <style name=\"AppTheme.NoActionBar\">\n+        <item name=\"windowActionBar\">false</item>\n+        <item name=\"windowNoTitle\">true</item>\n+    </style>\n+\n+    <style name=\"AppTheme.AppBarOverlay\" parent=\"ThemeOverlay.AppCompat.Dark.ActionBar\" />\n+\n+    <style name=\"AppTheme.PopupOverlay\" parent=\"ThemeOverlay.AppCompat.Light\" />\n+\n+</resources>"
  } ],
  "sha" : "8ebaad13c721e0d1071653fa7ae21e529a289f1e",
  "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/8ebaad13c721e0d1071653fa7ae21e529a289f1e",
  "parents" : [ {
    "sha" : "b0cc56726eb66f5d896401f8f7f0e07e3c619c23",
    "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/b0cc56726eb66f5d896401f8f7f0e07e3c619c23",
    "html_url" : "https://github.com/hzuapps/android-labs/commit/b0cc56726eb66f5d896401f8f7f0e07e3c619c23"
  } ]
}