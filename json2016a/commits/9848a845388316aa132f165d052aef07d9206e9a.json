{
  "committer" : {
    "login" : "zengsn",
    "id" : 627946,
    "avatar_url" : "https://avatars.githubusercontent.com/u/627946?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/zengsn",
    "html_url" : "https://github.com/zengsn",
    "followers_url" : "https://api.github.com/users/zengsn/followers",
    "following_url" : "https://api.github.com/users/zengsn/following{/other_user}",
    "gists_url" : "https://api.github.com/users/zengsn/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/zengsn/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/zengsn/subscriptions",
    "organizations_url" : "https://api.github.com/users/zengsn/orgs",
    "repos_url" : "https://api.github.com/users/zengsn/repos",
    "events_url" : "https://api.github.com/users/zengsn/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/zengsn/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "stats" : {
    "total" : 930,
    "additions" : 912,
    "deletions" : 18
  },
  "author" : {
    "login" : "zengsn",
    "id" : 627946,
    "avatar_url" : "https://avatars.githubusercontent.com/u/627946?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/zengsn",
    "html_url" : "https://github.com/zengsn",
    "followers_url" : "https://api.github.com/users/zengsn/followers",
    "following_url" : "https://api.github.com/users/zengsn/following{/other_user}",
    "gists_url" : "https://api.github.com/users/zengsn/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/zengsn/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/zengsn/subscriptions",
    "organizations_url" : "https://api.github.com/users/zengsn/orgs",
    "repos_url" : "https://api.github.com/users/zengsn/repos",
    "events_url" : "https://api.github.com/users/zengsn/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/zengsn/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "html_url" : "https://github.com/hzuapps/android-labs/commit/9848a845388316aa132f165d052aef07d9206e9a",
  "commit" : {
    "author" : {
      "name" : "Zeng Shaoning",
      "email" : "shaoning.zeng@gmail.com",
      "date" : "2016-05-31T03:29:51Z"
    },
    "committer" : {
      "name" : "Zeng Shaoning",
      "email" : "shaoning.zeng@gmail.com",
      "date" : "2016-05-31T03:29:51Z"
    },
    "message" : "Merge pull request #866 from JERR-lxm/master\n\n#92 #95 #550 已完成",
    "tree" : {
      "sha" : "a2d0fb770324c84010ca356becdfcdb9a0f01aac",
      "url" : "https://api.github.com/repos/hzuapps/android-labs/git/trees/a2d0fb770324c84010ca356becdfcdb9a0f01aac"
    },
    "url" : "https://api.github.com/repos/hzuapps/android-labs/git/commits/9848a845388316aa132f165d052aef07d9206e9a",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/android-labs/commits/9848a845388316aa132f165d052aef07d9206e9a/comments",
  "files" : [ {
    "sha" : "3489dae11c1cd371f255879e35627aa06a8eefd0",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/AndroidManifest.xml",
    "status" : "added",
    "additions" : 41,
    "deletions" : 0,
    "changes" : 41,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/AndroidManifest.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/AndroidManifest.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/AndroidManifest.xml?ref=9848a845388316aa132f165d052aef07d9206e9a",
    "patch" : "@@ -0,0 +1,41 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    package=\"edu.hzuapps.androidworks.homeworks.net1314080903122\"\n+    >\n+\n+    <uses-permission android:name=\"android.permission.READ_CONTACTS\"/>\n+    <uses-permission android:name=\"android.permission.WRITE_CONTACTS\"/>\n+    <uses-permission android:name=\"android.permission.SEND_SMS\"/>\n+    <uses-permission android:name=\"android.permission.READ_PHONE_STATE\"/>\n+\n+    <application\n+        android:allowBackup=\"true\"\n+        android:icon=\"@drawable/net1314080903122_panda_icon\"\n+        android:label=\"Festival_Sms\"\n+        android:supportsRtl=\"true\"\n+        android:theme=\"@style/AppTheme\">\n+        <activity\n+            android:name=\".Net1314080903122_MainActivity\"\n+            android:label=\"Festival_Sms\"\n+            android:theme=\"@style/AppTheme.NoActionBar\">\n+            <intent-filter>\n+                <action android:name=\"android.intent.action.MAIN\" />\n+\n+                <category android:name=\"android.intent.category.LAUNCHER\" />\n+            </intent-filter>\n+        </activity>\n+        <activity\n+            android:name=\".Net1314080903122_ChooseMsg\"\n+            android:label=\"@string/title_activity_net1314080903122__choose_msg\"\n+            android:theme=\"@style/AppTheme.NoActionBar\" />\n+        <activity\n+            android:name=\".Net1314080903122_SendMsg\"\n+            android:label=\"@string/title_activity_net1314080903122__send_msg\"\n+            android:theme=\"@style/AppTheme.NoActionBar\"></activity>\n+\n+        <provider\n+            android:authorities=\"edu.hzuapps.androidworks.homeworks.sms.provider.SmsProvider\"\n+            android:name=\".db.Net1314080903122_SmsProvider\"/>\n+    </application>\n+\n+</manifest>"
  }, {
    "sha" : "67505773075a15321dd9ea497f27b51afd4947ef",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/Fragment/Net1314080903122_SmsHistory.java",
    "status" : "added",
    "additions" : 116,
    "deletions" : 0,
    "changes" : 116,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/Fragment/Net1314080903122_SmsHistory.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/Fragment/Net1314080903122_SmsHistory.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/Fragment/Net1314080903122_SmsHistory.java?ref=9848a845388316aa132f165d052aef07d9206e9a",
    "patch" : "@@ -0,0 +1,116 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903122.Fragment;\n+\n+\n+import android.content.Context;\n+import android.database.Cursor;\n+import android.os.Bundle;\n+import android.support.v4.app.ListFragment;\n+import android.support.v4.app.LoaderManager;\n+import android.support.v4.content.CursorLoader;\n+import android.support.v4.content.Loader;\n+import android.support.v4.widget.CursorAdapter;\n+import android.text.TextUtils;\n+import android.view.LayoutInflater;\n+import android.view.View;\n+import android.view.ViewGroup;\n+import android.widget.TextView;\n+\n+import java.text.DateFormat;\n+import java.text.SimpleDateFormat;\n+\n+import edu.hzuapps.androidworks.homeworks.net1314080903122.R;\n+import edu.hzuapps.androidworks.homeworks.net1314080903122.bean.Net1314080903122_SendedMsg;\n+import edu.hzuapps.androidworks.homeworks.net1314080903122.db.Net1314080903122_SmsProvider;\n+import edu.hzuapps.androidworks.homeworks.net1314080903122.view.FlowLayout;\n+\n+/**\n+ * Created by Administrator on 2016/5/29.\n+ */\n+public class Net1314080903122_SmsHistory extends ListFragment{\n+    private static final int  LOADER_ID = 1;\n+    private LayoutInflater mInflater;\n+    private CursorAdapter mCursorAdapter;\n+\n+    @Override\n+    public void onViewCreated(View view, Bundle savedInstanceState) {\n+        super.onViewCreated(view, savedInstanceState);\n+        mInflater = LayoutInflater.from(getActivity());\n+        initLoader();\n+        setupListAdapter();\n+    }\n+\n+    private void setupListAdapter() {\n+        mCursorAdapter = new CursorAdapter(getActivity(),null,false) {\n+            @Override\n+            public View newView(Context context, Cursor cursor, ViewGroup parent) {\n+                View view = mInflater.inflate(R.layout.net1314080903122_item_sended_msg, parent, false);\n+                return view;\n+            }\n+\n+            @Override\n+            public void bindView(View view, Context context, Cursor cursor) {\n+                TextView msg = (TextView) view.findViewById(R.id.id_tv_msg);\n+                FlowLayout fl = (FlowLayout) view.findViewById(R.id.id_fl_contacts);\n+                TextView fes = (TextView) view.findViewById(R.id.id_tv_fes);\n+                TextView date = (TextView) view.findViewById(R.id.id_tv_date);\n+\n+                msg.setText(cursor.getString(cursor.getColumnIndex(Net1314080903122_SendedMsg.COLUMN_MSG)));\n+                fes.setText(cursor.getString(cursor.getColumnIndex(Net1314080903122_SendedMsg.COLUMN_FES_NAME)));\n+                long dateVal=cursor.getLong(cursor.getColumnIndex(Net1314080903122_SendedMsg.COLUMN_DATE));\n+                date.setText(parseDate(dateVal));\n+                String names = cursor.getString(cursor.getColumnIndex(Net1314080903122_SendedMsg.COLUMN_NAMES));\n+                if (TextUtils.isEmpty(names))\n+                {\n+                    return;\n+                }\n+                fl.removeAllViews();\n+                for (String name : names.split(\":\"))\n+                {\n+                    addTag(name,fl);\n+                }\n+            }\n+        };\n+        setListAdapter(mCursorAdapter);\n+    }\n+\n+    DateFormat df=new SimpleDateFormat(\"yyyy-MM-dd HH:mm\");\n+    private String parseDate(long dateVal) {\n+        return df.format(dateVal);\n+    }\n+\n+\n+\n+    private void addTag(String name, FlowLayout fl) {\n+        TextView tv = (TextView) mInflater.inflate(R.layout.net1314080903122_tag, fl, false);\n+        tv.setText(name);\n+        fl.addView(tv);\n+    }\n+\n+\n+\n+\n+\n+    private void initLoader() {\n+        getLoaderManager().initLoader(LOADER_ID, null,new LoaderManager.LoaderCallbacks<Cursor>() {\n+            @Override\n+            public Loader<Cursor> onCreateLoader(int id, Bundle args) {\n+                CursorLoader loader = new CursorLoader(getActivity(), Net1314080903122_SmsProvider.URI_SMS_ALL,null,null,null,null);\n+                return loader;\n+            }\n+\n+            @Override\n+            public void onLoadFinished(Loader<Cursor> loader, Cursor data) {\n+            if (loader.getId() == LOADER_ID)\n+            {\n+                mCursorAdapter.swapCursor(data);\n+            }\n+            }\n+\n+            @Override\n+            public void onLoaderReset(Loader<Cursor> loader) {\n+                mCursorAdapter.swapCursor(null);\n+\n+            }\n+        });\n+    }\n+}"
  }, {
    "sha" : "7aba04ecbcf4dc96c233499450a502f192d3c1f6",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/Net1314080903122_MainActivity.java",
    "status" : "modified",
    "additions" : 2,
    "deletions" : 0,
    "changes" : 2,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/Net1314080903122_MainActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/Net1314080903122_MainActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/Net1314080903122_MainActivity.java?ref=9848a845388316aa132f165d052aef07d9206e9a",
    "patch" : "@@ -14,6 +14,7 @@\n import android.view.MenuItem;\n \n import edu.hzuapps.androidworks.homeworks.net1314080903122.Fragment.Net1314080903122_Category;\n+import edu.hzuapps.androidworks.homeworks.net1314080903122.Fragment.Net1314080903122_SmsHistory;\n \n public class Net1314080903122_MainActivity extends AppCompatActivity {\n \n@@ -41,6 +42,7 @@ private void initViews() {\n         {\n             @Override\n             public Fragment getItem(int position) {\n+                if (position == 1)return new Net1314080903122_SmsHistory();\n                 return new Net1314080903122_Category();\n             }\n "
  }, {
    "sha" : "4c7704daf6f9046fe8e14f57ad4a3f031bc051b1",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/Net1314080903122_SendMsg.java",
    "status" : "modified",
    "additions" : 186,
    "deletions" : 5,
    "changes" : 191,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/Net1314080903122_SendMsg.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/Net1314080903122_SendMsg.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/Net1314080903122_SendMsg.java?ref=9848a845388316aa132f165d052aef07d9206e9a",
    "patch" : "@@ -1,25 +1,42 @@\n package edu.hzuapps.androidworks.homeworks.net1314080903122;\n \n+import android.app.PendingIntent;\n+import android.content.BroadcastReceiver;\n import android.content.Context;\n import android.content.Intent;\n+import android.content.IntentFilter;\n+import android.database.Cursor;\n+import android.net.Uri;\n import android.os.Bundle;\n+import android.provider.ContactsContract;\n import android.support.design.widget.FloatingActionButton;\n import android.support.design.widget.Snackbar;\n import android.support.v7.app.AppCompatActivity;\n import android.support.v7.widget.Toolbar;\n+import android.text.TextUtils;\n+import android.util.Log;\n+import android.view.LayoutInflater;\n import android.view.View;\n import android.widget.Button;\n import android.widget.EditText;\n+import android.widget.TextView;\n+import android.widget.Toast;\n+\n+import java.util.HashSet;\n \n import edu.hzuapps.androidworks.homeworks.net1314080903122.R;\n import edu.hzuapps.androidworks.homeworks.net1314080903122.bean.Net1314080903122_Festival;\n import edu.hzuapps.androidworks.homeworks.net1314080903122.bean.Net1314080903122_FestivalLab;\n import edu.hzuapps.androidworks.homeworks.net1314080903122.bean.Net1314080903122_Msg;\n+import edu.hzuapps.androidworks.homeworks.net1314080903122.bean.Net1314080903122_SendedMsg;\n+import edu.hzuapps.androidworks.homeworks.net1314080903122.biz.Net1314080903122_SmsBiz;\n+import edu.hzuapps.androidworks.homeworks.net1314080903122.view.FlowLayout;\n \n public class Net1314080903122_SendMsg extends AppCompatActivity {\n \n     public static final String KEY_FESTIVAL_ID = \"festivalId\";\n     public static final String KEY_MSG_ID = \"msgId\";\n+    private static final int CODE_REQUEST = 1;\n     private int mFstivalId;\n     private int msgId;\n \n@@ -28,42 +45,157 @@\n \n     private EditText mEdMsg;\n     private Button mBtnAdd;\n+    private FlowLayout mFlContacts;\n     private FloatingActionButton mFabSend;\n     private View mLayoutLoading;\n \n+    private HashSet<String> mContactNames = new HashSet<>();\n+    private HashSet<String> mContactNums = new HashSet<>();\n+\n+    private LayoutInflater mInflater;\n+\n+    public static final String ACTION_SEND_MSG = \"ACTION_SEND_MSG\";\n+    public static final String ACTION_DELIVER_MSG = \"ACTION_DELIVER_MSG\";\n+\n+    private PendingIntent mSendPi;\n+    private PendingIntent mDeliverPi;\n+    private BroadcastReceiver mSendBroadcastReceiver;\n+    private BroadcastReceiver mDeliverBroadcastReceiver;\n+\n+    private Net1314080903122_SmsBiz mSmsBiz;\n+\n+    private int mMsgSendCount;\n+    private int mTotalCount;\n+\n+\n     @Override\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         setContentView(R.layout.activity_net1314080903122__send_msg);\n \n+        mInflater = LayoutInflater.from(this);\n+\n+        mSmsBiz = new Net1314080903122_SmsBiz(this);\n+\n         initDatas();\n         initView();\n+        initEvents();\n+        initRecivers();\n+\n+    }\n+\n+    private void initRecivers() {\n+        Intent sendIntent = new Intent(ACTION_SEND_MSG);\n+        mSendPi = PendingIntent.getBroadcast(this,0,sendIntent,0);\n+        Intent deliverIntent = new Intent(ACTION_DELIVER_MSG);\n+        mDeliverPi = PendingIntent.getBroadcast(this,0,deliverIntent,0);\n+\n+        registerReceiver(mSendBroadcastReceiver = new BroadcastReceiver() {\n+            @Override\n+            public void onReceive(Context context, Intent intent) {\n+                if (getResultCode() == RESULT_OK) {\n+                    Log.e(\"TAG\", \"短信发送成功\" + (mMsgSendCount + \"/\" + mTotalCount));\n+                } else {\n+                    Log.e(\"TAG\", \"短信发送失败\");\n+                }\n+                Toast.makeText(Net1314080903122_SendMsg.this, (mMsgSendCount + \"/\" + mTotalCount) + \"短信发送成功\", Toast.LENGTH_SHORT).show();\n+                mMsgSendCount++;\n+                if (mMsgSendCount == mTotalCount) {\n+                    finish();\n+                }\n+            }\n+        }, new IntentFilter(ACTION_SEND_MSG));\n+\n+        registerReceiver(mDeliverBroadcastReceiver = new BroadcastReceiver() {\n+            @Override\n+            public void onReceive(Context context, Intent intent) {\n+                Log.e(\"TAG\", \"联系人已经成功接收到我们的短信\");\n+            }\n+        }, new IntentFilter(ACTION_DELIVER_MSG));\n+    }\n+\n+    @Override\n+    protected void onDestroy() {\n+        super.onDestroy();\n+        unregisterReceiver(mSendBroadcastReceiver);\n+        unregisterReceiver(mDeliverBroadcastReceiver);\n+    }\n+\n+    private void initEvents() {\n+        mBtnAdd.setOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View v) {\n+                Intent intent = new Intent(Intent.ACTION_PICK, ContactsContract.Contacts.CONTENT_URI);\n+                startActivityForResult(intent, CODE_REQUEST);\n+//                TextView vvieww = (TextView) mInflater.inflate(R.layout.net1314080903122_tag, mFlContacts, false);\n+//                mFlContacts.addView(vvieww);\n+            }\n+        });\n+        mFabSend.setOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View v) {\n+                if (mContactNames.size() == 0) {\n+                    Toast.makeText(Net1314080903122_SendMsg.this, \"请先选择联系人\", Toast.LENGTH_SHORT).show();\n+                    return;\n+                }\n+                String msg = mEdMsg.getText().toString();\n+                if (TextUtils.isEmpty(msg)) {\n+                    Toast.makeText(Net1314080903122_SendMsg.this, \"短信内容不能为空\", Toast.LENGTH_SHORT).show();\n+                    return;\n+                }\n+                mLayoutLoading.setVisibility(View.VISIBLE);\n+                mTotalCount = mSmsBiz.sendMsg(mContactNums, buildSendMsg(msg), mSendPi, mDeliverPi);\n+                mMsgSendCount = 0;\n \n \n+            }\n+        });\n+\n     }\n \n+    private Net1314080903122_SendedMsg buildSendMsg(String msg) {\n+        Net1314080903122_SendedMsg sendedMsg = new Net1314080903122_SendedMsg();\n+        sendedMsg.setMsg(msg);\n+        sendedMsg.setFestivalName(mFestival.getName());\n+        String names =\"\";\n+        for (String name :mContactNames)\n+        {\n+            names += name + \":\";\n+        }\n+        String numbers =\"\";\n+        for (String number :mContactNums)\n+        {\n+            numbers += numbers + \":\";\n+        }\n+        sendedMsg.setNames(names.substring(0, names.length() - 1));\n+        sendedMsg.setNumbers(numbers.substring(0, numbers.length() - 1));\n+        return sendedMsg;\n+    }\n+\n+\n     private void initView() {\n         mEdMsg = (EditText) findViewById(R.id.id_et_content);\n         mBtnAdd = (Button) findViewById(R.id.id_btn_add);\n+        mFlContacts= (FlowLayout) findViewById(R.id.id_fl_contacts);\n         mFabSend = (FloatingActionButton) findViewById(R.id.id_fab_send);\n         mLayoutLoading = findViewById(R.id.id_layout_loading);\n \n \n         mLayoutLoading.setVisibility(View.GONE);\n \n-        mFabSend.setOnClickListener(new View.OnClickListener() {\n+     /*   mFabSend.setOnClickListener(new View.OnClickListener() {\n             @Override\n             public void onClick(View v) {\n                 if (mLayoutLoading.getVisibility() == View.GONE) ;\n                 {\n                     mLayoutLoading.setVisibility(View.VISIBLE);\n                 }\n             }\n-        });\n+         });\n+    */\n \n \n-\n-        if (msgId !=-1)\n+            if (msgId !=-1)\n         {\n             mMsg = Net1314080903122_FestivalLab.getInstance().getMsgByMsgId(msgId);\n             mEdMsg.setText(mMsg.getContent());\n@@ -78,11 +210,60 @@ private void initDatas() {\n         setTitle(mFestival.getName());\n     }\n \n+    @Override\n+    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n+        super.onActivityResult(requestCode, resultCode, data);\n+        if (requestCode == CODE_REQUEST)\n+        {\n+            if (resultCode == RESULT_OK)\n+            {\n+                Uri contactUri=data.getData();\n+                Cursor cursor = getContentResolver().query(contactUri, null, null, null, null);\n+                cursor.moveToFirst();\n+                String contactName = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));\n+\n+                String number = getContactNumber(cursor);\n+                if (!TextUtils.isEmpty(number))\n+                {\n+                    mContactNums.add(number);\n+                    mContactNames.add(contactName);\n+                    addTag(contactName);\n+\n+                }\n+\n+\n+            }\n+\n+        }\n+    }\n+\n+    private void addTag(String contactName) {\n+        TextView view = (TextView)mInflater.inflate(R.layout.net1314080903122_tag,mFlContacts,false);\n+        view.setText(contactName);\n+        mFlContacts.addView(view);\n+\n+\n+    }\n+\n+    private String getContactNumber(Cursor cursor) {\n+        int numberCount = cursor.getInt(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER));\n+        String number =null;\n+        if (numberCount > 0)\n+        {\n+            int contactId = cursor.getInt(cursor.getColumnIndex(ContactsContract.Contacts._ID));\n+            Cursor phoneCursor = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, ContactsContract.CommonDataKinds.Phone.CONTACT_ID + \" = \" + contactId, null, null);\n+            phoneCursor.moveToFirst();\n+            number = phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\n+            phoneCursor.close();\n+        }\n+        cursor.close();\n+        return number;\n+    }\n \n     public static void toActivity(Context context,int festivalId,int msgId){\n         Intent intent = new Intent(context,Net1314080903122_SendMsg.class);\n         intent.putExtra(KEY_FESTIVAL_ID,festivalId);\n-        intent.putExtra(KEY_MSG_ID,msgId);\n+        intent.putExtra(KEY_MSG_ID, msgId);\n         context.startActivity(intent);\n \n     }"
  }, {
    "sha" : "b065b30f5a2f3ba8d6fc0357fb8354aaa503d977",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/bean/Net1314080903122_SendedMsg.java",
    "status" : "added",
    "additions" : 82,
    "deletions" : 0,
    "changes" : 82,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/bean/Net1314080903122_SendedMsg.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/bean/Net1314080903122_SendedMsg.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/bean/Net1314080903122_SendedMsg.java?ref=9848a845388316aa132f165d052aef07d9206e9a",
    "patch" : "@@ -0,0 +1,82 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903122.bean;\n+\n+import java.text.DateFormat;\n+import java.text.SimpleDateFormat;\n+import java.util.Date;\n+\n+/**\n+ * Created by Administrator on 2016/5/29.\n+ */\n+public class Net1314080903122_SendedMsg {\n+    private  int id;\n+    private String msg;\n+    private String numbers;\n+    private String names;\n+    private String festivalName;\n+    private Date date;\n+    private String dateStr;\n+    private DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd HH:mm\");\n+\n+    public static final String TABLE_NAME = \"tb_sended_msg\";\n+    public static final String COLUMN_MSG = \"msg\";\n+    public static final String COLUMN_NUMBER = \"numbers\";\n+    public static final String COLUMN_NAMES = \"names\";\n+    public static final String COLUMN_FES_NAME = \"festivalName\";\n+    public static final String COLUMN_DATE = \"date\";\n+\n+    public int getId() {\n+        return id;\n+    }\n+\n+    public void setId(int id) {\n+        this.id = id;\n+    }\n+\n+    public String getMsg() {\n+        return msg;\n+    }\n+\n+    public void setMsg(String msg) {\n+        this.msg = msg;\n+    }\n+\n+    public String getNumbers() {\n+        return numbers;\n+    }\n+\n+    public void setNumbers(String numbers) {\n+        this.numbers = numbers;\n+    }\n+\n+    public String getNames() {\n+        return names;\n+    }\n+\n+    public void setNames(String names) {\n+        this.names = names;\n+    }\n+\n+    public String getFestivalName() {\n+        return festivalName;\n+    }\n+\n+    public void setFestivalName(String festivalName) {\n+        this.festivalName = festivalName;\n+    }\n+\n+    public Date getDate() {\n+        return date;\n+    }\n+\n+    public void setDate(Date date) {\n+        this.date = date;\n+    }\n+\n+    public String getDateStr() {\n+        return dateStr;\n+    }\n+\n+    public void setDateStr(String dateStr) {\n+        this.dateStr = dateStr;\n+    }\n+}"
  }, {
    "sha" : "dcb05942409a1bd463a3c92e09b437ad2138d0a6",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/biz/Net1314080903122_SmsBiz.java",
    "status" : "added",
    "additions" : 62,
    "deletions" : 0,
    "changes" : 62,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/biz/Net1314080903122_SmsBiz.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/biz/Net1314080903122_SmsBiz.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/biz/Net1314080903122_SmsBiz.java?ref=9848a845388316aa132f165d052aef07d9206e9a",
    "patch" : "@@ -0,0 +1,62 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903122.biz;\n+\n+import android.app.PendingIntent;\n+import android.content.ContentValues;\n+import android.content.Context;\n+import android.telephony.SmsManager;\n+\n+import java.util.ArrayList;\n+import java.util.Date;\n+import java.util.List;\n+import java.util.Set;\n+\n+import edu.hzuapps.androidworks.homeworks.net1314080903122.bean.Net1314080903122_SendedMsg;\n+import edu.hzuapps.androidworks.homeworks.net1314080903122.db.Net1314080903122_SmsProvider;\n+\n+/**\n+ * Created by Administrator on 2016/5/27.\n+ */\n+public class Net1314080903122_SmsBiz {\n+    private Context context;\n+    public Net1314080903122_SmsBiz(Context context)\n+    {\n+        this.context = context;\n+    }\n+    public int sendMsg(String number,String msg,PendingIntent sentPi,PendingIntent deliverPi)\n+    {\n+        SmsManager smsManager = SmsManager.getDefault();\n+        ArrayList<String> contents = smsManager.divideMessage(msg);\n+        for (String content : contents)\n+        {\n+            smsManager.sendTextMessage(number,null,content,sentPi,deliverPi);\n+\n+        }\n+        return contents.size();\n+    }\n+\n+    public int sendMsg(Set<String> numbers,Net1314080903122_SendedMsg msg,PendingIntent sentPi,PendingIntent deliverPi)\n+    {\n+        save(msg);\n+        int result = 0;\n+        for (String number : numbers)\n+        {\n+            int count = sendMsg(number,msg.getMsg(),sentPi,deliverPi);\n+            result += count;\n+        }\n+        return result;\n+    }\n+\n+    private void save(Net1314080903122_SendedMsg sendedMsg)\n+    {\n+        sendedMsg.setDate(new Date());\n+        ContentValues values = new ContentValues();\n+        values.put(Net1314080903122_SendedMsg.COLUMN_DATE,sendedMsg.getDate().getTime());\n+        values.put(Net1314080903122_SendedMsg.COLUMN_FES_NAME,sendedMsg.getFestivalName());\n+        values.put(Net1314080903122_SendedMsg.COLUMN_MSG,sendedMsg.getMsg());\n+        values.put(Net1314080903122_SendedMsg.COLUMN_NAMES,sendedMsg.getNames());\n+        values.put(Net1314080903122_SendedMsg.COLUMN_NUMBER,sendedMsg.getNumbers());\n+\n+        context.getContentResolver().insert(Net1314080903122_SmsProvider.URI_SMS_ALL,values);\n+\n+    }\n+}"
  }, {
    "sha" : "abf824820a661189568ff15f402a175bd4f889e2",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/db/Net1314080903122_SmsDbOpenHelper.java",
    "status" : "added",
    "additions" : 55,
    "deletions" : 0,
    "changes" : 55,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/db/Net1314080903122_SmsDbOpenHelper.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/db/Net1314080903122_SmsDbOpenHelper.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/db/Net1314080903122_SmsDbOpenHelper.java?ref=9848a845388316aa132f165d052aef07d9206e9a",
    "patch" : "@@ -0,0 +1,55 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903122.db;\n+\n+import android.content.Context;\n+import android.database.sqlite.SQLiteDatabase;\n+import android.database.sqlite.SQLiteOpenHelper;\n+\n+import edu.hzuapps.androidworks.homeworks.net1314080903122.bean.Net1314080903122_SendedMsg;\n+\n+/**\n+ * Created by Administrator on 2016/5/29.\n+ */\n+public class Net1314080903122_SmsDbOpenHelper extends SQLiteOpenHelper{\n+    private static final String DB_NAME =\"sms.db\";\n+    private static final int DB_VERSION =1;\n+\n+\n+    public Net1314080903122_SmsDbOpenHelper(Context context) {\n+        super(context.getApplicationContext(), DB_NAME, null, DB_VERSION);\n+    }\n+\n+    private static Net1314080903122_SmsDbOpenHelper mHelper;\n+    public static  Net1314080903122_SmsDbOpenHelper getInstance(Context context)\n+    {\n+        if (mHelper == null)\n+        {\n+            synchronized (Net1314080903122_SmsDbOpenHelper.class)\n+            {\n+                if (mHelper == null)\n+                {\n+                    mHelper = new Net1314080903122_SmsDbOpenHelper(context);\n+                }\n+            }\n+        }\n+        return mHelper;\n+    }\n+\n+\n+    @Override\n+    public void onCreate(SQLiteDatabase db) {\n+        String sql = \"create table \" + Net1314080903122_SendedMsg.TABLE_NAME +\" ( \"+\n+                \"_id integer primary key autoincrement ,\"+\n+                Net1314080903122_SendedMsg.COLUMN_DATE+\" integer ,\"+\n+                Net1314080903122_SendedMsg.COLUMN_FES_NAME +\" text ,\"+\n+                Net1314080903122_SendedMsg.COLUMN_MSG +\" text ,\"+\n+                Net1314080903122_SendedMsg.COLUMN_NAMES +\" text ,\"+\n+                Net1314080903122_SendedMsg.COLUMN_NUMBER +\" text \"+\n+                \" ) \";\n+        db.execSQL(sql);\n+    }\n+\n+    @Override\n+    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n+\n+    }\n+}"
  }, {
    "sha" : "ce2130ecb1a763069340862c335c3d5195f2a856",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/db/Net1314080903122_SmsProvider.java",
    "status" : "added",
    "additions" : 103,
    "deletions" : 0,
    "changes" : 103,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/db/Net1314080903122_SmsProvider.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/db/Net1314080903122_SmsProvider.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/db/Net1314080903122_SmsProvider.java?ref=9848a845388316aa132f165d052aef07d9206e9a",
    "patch" : "@@ -0,0 +1,103 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903122.db;\n+\n+import android.content.ContentProvider;\n+import android.content.ContentUris;\n+import android.content.ContentValues;\n+import android.content.UriMatcher;\n+import android.database.Cursor;\n+import android.database.sqlite.SQLiteDatabase;\n+import android.net.Uri;\n+import android.support.annotation.Nullable;\n+\n+import edu.hzuapps.androidworks.homeworks.net1314080903122.bean.Net1314080903122_SendedMsg;\n+\n+/**\n+ * Created by Administrator on 2016/5/29.\n+ */\n+public class Net1314080903122_SmsProvider extends ContentProvider {\n+\n+    private static final String AUTHORITY = \"edu.hzuapps.androidworks.homeworks.sms.provider.SmsProvider\";\n+    public static final Uri URI_SMS_ALL = Uri.parse(\"content://\"+AUTHORITY+\"/sms\");\n+\n+    private static UriMatcher matcher;\n+\n+    private static final int SMS_ALL = 0;\n+    private static final int SMS_ONE = 1;\n+\n+    static {\n+        matcher = new UriMatcher(UriMatcher.NO_MATCH);\n+        matcher.addURI(AUTHORITY,\"sms\",SMS_ALL);\n+        matcher.addURI(AUTHORITY,\"sms/#\",SMS_ONE);\n+    }\n+\n+    private Net1314080903122_SmsDbOpenHelper mHelper;\n+    private SQLiteDatabase mDb;\n+\n+\n+    @Override\n+    public boolean onCreate() {\n+        mHelper = Net1314080903122_SmsDbOpenHelper.getInstance(getContext());\n+        return true;\n+    }\n+\n+    @Nullable\n+    @Override\n+    public Cursor query(Uri uri, String[] projection, String selection, String[] selectionArgs, String sortOrder) {\n+        int match =matcher.match(uri);\n+        switch(match)\n+        {\n+            case SMS_ALL:\n+                break;\n+            case SMS_ONE:\n+                long id = ContentUris.parseId(uri);\n+                selection = \"_id = ?\";\n+                selectionArgs = new String[]{String.valueOf(id)};\n+                break;\n+\n+            default:\n+                throw new IllegalArgumentException(\"Wrong URI ; \" + uri);\n+        }\n+        mDb = mHelper.getReadableDatabase();\n+        Cursor c = mDb.query(Net1314080903122_SendedMsg.TABLE_NAME, projection, selection, selectionArgs, null, null, sortOrder);\n+        c.setNotificationUri(getContext().getContentResolver(),URI_SMS_ALL);\n+        return c;\n+    }\n+\n+    @Nullable\n+    @Override\n+    public String getType(Uri uri) {\n+        return null;\n+    }\n+\n+    @Nullable\n+    @Override\n+    public Uri insert(Uri uri, ContentValues values) {\n+        int match = matcher.match(uri);\n+        if (match != SMS_ALL )\n+        {\n+            throw new IllegalArgumentException(\"Wrong URI ; \" + uri);\n+        }\n+        mDb = mHelper.getWritableDatabase();\n+        long rowID = mDb.insert(Net1314080903122_SendedMsg.TABLE_NAME,null,values);\n+        if (rowID > 0)\n+        {\n+            notifyDataSetChanged();\n+            return ContentUris.withAppendedId(uri,rowID);\n+        }\n+        return null;\n+    }\n+\n+    private void notifyDataSetChanged() {\n+        getContext().getContentResolver().notifyChange(URI_SMS_ALL,null);\n+    }\n+\n+    @Override\n+    public int delete(Uri uri, String selection, String[] selectionArgs) {\n+        return 0;\n+    }\n+\n+    @Override\n+    public int update(Uri uri, ContentValues values, String selection, String[] selectionArgs) {\n+        return 0;\n+    }\n+}"
  }, {
    "sha" : "f1d3145ff48afa78a23015e8b0bb9e2492e6d2b8",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/view/FlowLayout.java",
    "status" : "added",
    "additions" : 180,
    "deletions" : 0,
    "changes" : 180,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/view/FlowLayout.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/view/FlowLayout.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903122/view/FlowLayout.java?ref=9848a845388316aa132f165d052aef07d9206e9a",
    "patch" : "@@ -0,0 +1,180 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903122.view;\n+\n+import android.content.Context;\n+import android.util.AttributeSet;\n+import android.view.View;\n+import android.view.ViewGroup;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+public class FlowLayout extends ViewGroup\n+{\n+\n+\tpublic FlowLayout(Context context, AttributeSet attrs, int defStyle)\n+\t{\n+\t\tsuper(context, attrs, defStyle);\n+\t\t//\n+\t}\n+\n+\tpublic FlowLayout(Context context, AttributeSet attrs)\n+\t{\n+\t\tthis(context, attrs, 0);\n+\t}\n+\n+\tpublic FlowLayout(Context context)\n+\t{\n+\t\tthis(context, null);\n+\t}\n+\n+\t@Override\n+\tprotected void onMeasure(int widthMeasureSpec, int heightMeasureSpec)\n+\t{\n+\t\tint sizeWidth = MeasureSpec.getSize(widthMeasureSpec);\n+\t\tint modeWidth = MeasureSpec.getMode(widthMeasureSpec);\n+\t\tint sizeHeight = MeasureSpec.getSize(heightMeasureSpec);\n+\t\tint modeHeight = MeasureSpec.getMode(heightMeasureSpec);\n+\n+\t\t// wrap_content\n+\t\tint width = 0;\n+\t\tint height = 0;\n+\n+\t\tint lineWidth = 0;\n+\t\tint lineHeight = 0;\n+\n+\t\tint cCount = getChildCount();\n+\n+\t\tfor (int i = 0; i < cCount; i++)\n+\t\t{\n+\t\t\tView child = getChildAt(i);\n+\t\t\tmeasureChild(child, widthMeasureSpec, heightMeasureSpec);\n+\t\t\tMarginLayoutParams lp = (MarginLayoutParams) child\n+\t\t\t\t\t.getLayoutParams();\n+\n+\t\t\tint childWidth = child.getMeasuredWidth() + lp.leftMargin\n+\t\t\t\t\t+ lp.rightMargin;\n+\t\t\tint childHeight = child.getMeasuredHeight() + lp.topMargin\n+\t\t\t\t\t+ lp.bottomMargin;\n+\n+\t\t\tif (lineWidth + childWidth > sizeWidth - getPaddingLeft() - getPaddingRight())\n+\t\t\t{\n+\t\t\t\twidth = Math.max(width, lineWidth);\n+\t\t\t\tlineWidth = childWidth;\n+\t\t\t\theight += lineHeight;\n+\t\t\t\tlineHeight = childHeight;\n+\t\t\t} else\n+\t\t\t{\n+\t\t\t\tlineWidth += childWidth;\n+\t\t\t\tlineHeight = Math.max(lineHeight, childHeight);\n+\t\t\t}\n+\t\t\tif (i == cCount - 1)\n+\t\t\t{\n+\t\t\t\twidth = Math.max(lineWidth, width);\n+\t\t\t\theight += lineHeight;\n+\t\t\t}\n+\t\t}\n+\n+\n+\t\tsetMeasuredDimension(\n+\t\t\t\t//\n+\t\t\t\tmodeWidth == MeasureSpec.EXACTLY ? sizeWidth : width + getPaddingLeft() + getPaddingRight(),\n+\t\t\t\tmodeHeight == MeasureSpec.EXACTLY ? sizeHeight : height + getPaddingTop()+ getPaddingBottom()//\n+\t\t);\n+\n+\t}\n+\n+\t/**\n+\t */\n+\tprivate List<List<View>> mAllViews = new ArrayList<List<View>>();\n+\t/**\n+\t */\n+\tprivate List<Integer> mLineHeight = new ArrayList<Integer>();\n+\n+\t@Override\n+\tprotected void onLayout(boolean changed, int l, int t, int r, int b)\n+\t{\n+\t\tmAllViews.clear();\n+\t\tmLineHeight.clear();\n+\n+\t\tint width = getWidth();\n+\n+\t\tint lineWidth = 0;\n+\t\tint lineHeight = 0;\n+\n+\t\tList<View> lineViews = new ArrayList<View>();\n+\n+\t\tint cCount = getChildCount();\n+\n+\t\tfor (int i = 0; i < cCount; i++)\n+\t\t{\n+\t\t\tView child = getChildAt(i);\n+\t\t\tMarginLayoutParams lp = (MarginLayoutParams) child\n+\t\t\t\t\t.getLayoutParams();\n+\n+\t\t\tint childWidth = child.getMeasuredWidth();\n+\t\t\tint childHeight = child.getMeasuredHeight();\n+\n+\t\t\tif (childWidth + lineWidth + lp.leftMargin + lp.rightMargin > width - getPaddingLeft() - getPaddingRight())\n+\t\t\t{\n+\t\t\t\tmLineHeight.add(lineHeight);\n+\t\t\t\tmAllViews.add(lineViews);\n+\n+\t\t\t\tlineWidth = 0;\n+\t\t\t\tlineHeight = childHeight + lp.topMargin + lp.bottomMargin;\n+\t\t\t\tlineViews = new ArrayList<View>();\n+\t\t\t}\n+\t\t\tlineWidth += childWidth + lp.leftMargin + lp.rightMargin;\n+\t\t\tlineHeight = Math.max(lineHeight, childHeight + lp.topMargin\n+\t\t\t\t\t+ lp.bottomMargin);\n+\t\t\tlineViews.add(child);\n+\n+\t\t}// for end\n+\t\tmLineHeight.add(lineHeight);\n+\t\tmAllViews.add(lineViews);\n+\n+\n+\t\tint left = getPaddingLeft();\n+\t\tint top = getPaddingTop();\n+\n+\t\tint lineNum = mAllViews.size();\n+\n+\t\tfor (int i = 0; i < lineNum; i++)\n+\t\t{\n+\t\t\tlineViews = mAllViews.get(i);\n+\t\t\tlineHeight = mLineHeight.get(i);\n+\n+\t\t\tfor (int j = 0; j < lineViews.size(); j++)\n+\t\t\t{\n+\t\t\t\tView child = lineViews.get(j);\n+\t\t\t\tif (child.getVisibility() == View.GONE)\n+\t\t\t\t{\n+\t\t\t\t\tcontinue;\n+\t\t\t\t}\n+\n+\t\t\t\tMarginLayoutParams lp = (MarginLayoutParams) child\n+\t\t\t\t\t\t.getLayoutParams();\n+\n+\t\t\t\tint lc = left + lp.leftMargin;\n+\t\t\t\tint tc = top + lp.topMargin;\n+\t\t\t\tint rc = lc + child.getMeasuredWidth();\n+\t\t\t\tint bc = tc + child.getMeasuredHeight();\n+\t\t\t\tchild.layout(lc, tc, rc, bc);\n+\n+\t\t\t\tleft += child.getMeasuredWidth() + lp.leftMargin\n+\t\t\t\t\t\t+ lp.rightMargin;\n+\t\t\t}\n+\t\t\tleft = getPaddingLeft() ; \n+\t\t\ttop += lineHeight ; \n+\t\t}\n+\n+\t}\n+\n+\t/**\n+\t */\n+\t@Override\n+\tpublic LayoutParams generateLayoutParams(AttributeSet attrs)\n+\t{\n+\t\treturn new MarginLayoutParams(getContext(), attrs);\n+\t}\n+\n+}"
  }, {
    "sha" : "bf867ee8e57c667da3d272492411621e431716b9",
    "filename" : "app/src/main/res/drawable-hdpi/net1314080903122_panda_icon.png",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/res/drawable-hdpi/net1314080903122_panda_icon.png",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/res/drawable-hdpi/net1314080903122_panda_icon.png",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/drawable-hdpi/net1314080903122_panda_icon.png?ref=9848a845388316aa132f165d052aef07d9206e9a"
  }, {
    "sha" : "7fb7fd7f09d95440b02f14bceb7422e3a3dbb375",
    "filename" : "app/src/main/res/drawable/net1314080903122_tag_bg.xml",
    "status" : "added",
    "additions" : 11,
    "deletions" : 0,
    "changes" : 11,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/res/drawable/net1314080903122_tag_bg.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/res/drawable/net1314080903122_tag_bg.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/drawable/net1314080903122_tag_bg.xml?ref=9848a845388316aa132f165d052aef07d9206e9a",
    "patch" : "@@ -0,0 +1,11 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<shape xmlns:android=\"http://schemas.android.com/apk/res/android\">\n+    <solid android:color=\"#ffffff\"></solid>\n+    <stroke android:width=\"2dp\" android:color=\"#0ddcff\"></stroke>\n+    <corners android:radius=\"8dp\"></corners>\n+    <padding\n+        android:left=\"8dp\"\n+        android:right=\"8dp\"\n+        android:top=\"2dp\"\n+        android:bottom=\"2dp\"/>\n+</shape>\n\\ No newline at end of file"
  }, {
    "sha" : "5b964f57c7194bba70d6295a18854aea0dc026b6",
    "filename" : "app/src/main/res/layout/activity_net1314080903122__send_msg.xml",
    "status" : "modified",
    "additions" : 18,
    "deletions" : 13,
    "changes" : 31,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/res/layout/activity_net1314080903122__send_msg.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/res/layout/activity_net1314080903122__send_msg.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/layout/activity_net1314080903122__send_msg.xml?ref=9848a845388316aa132f165d052aef07d9206e9a",
    "patch" : "@@ -7,14 +7,24 @@\n         android:paddingBottom=\"16dp\"\n         android:paddingTop=\"16dp\"\n \n-\n         tools:context=\".Net1314080903122_SendMsg\">\n \n+    <android.support.design.widget.FloatingActionButton\n+        android:id=\"@+id/id_fab_send\"\n+        android:layout_width=\"wrap_content\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_gravity=\"bottom|center_horizontal\"\n+        android:layout_marginBottom=\"16dp\"\n+        android:src=\"@drawable/net1314080903122_icon_to_send\"\n+        app:borderWidth=\"0dp\"\n+        app:backgroundTint=\"#0ddcff\"\n+        />\n \n         <LinearLayout\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"match_parent\"\n-            android:orientation=\"vertical\">\n+            android:orientation=\"vertical\"\n+            android:layout_gravity=\"center\">\n \n \n             <EditText\n@@ -40,26 +50,21 @@\n                 android:backgroundTintMode=\"src_over\"\n                 />\n \n+            <edu.hzuapps.androidworks.homeworks.net1314080903122.view.FlowLayout\n+                android:id=\"@+id/id_fl_contacts\"\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\">\n+\n+            </edu.hzuapps.androidworks.homeworks.net1314080903122.view.FlowLayout>\n \n-            <android.support.design.widget.FloatingActionButton\n-                android:id=\"@+id/id_fab_send\"\n-                android:layout_width=\"wrap_content\"\n-                android:layout_height=\"wrap_content\"\n-                android:layout_gravity=\"bottom|center_horizontal\"\n-                android:layout_marginBottom=\"@dimen/fab_margin\"\n-                android:src=\"@drawable/net1314080903122_icon_to_send\"\n-                app:borderWidth=\"0dp\"\n \n-                app:backgroundTint=\"#0ddcff\"\n-                />\n \n             <FrameLayout\n                 android:id=\"@+id/id_layout_loading\"\n                 android:layout_width=\"match_parent\"\n                 android:layout_height=\"match_parent\"\n                 android:clickable=\"true\"\n                 >\n-\n                 <LinearLayout\n                     android:layout_width=\"wrap_content\"\n                     android:layout_height=\"wrap_content\""
  }, {
    "sha" : "00e6ef6f8ffdb0792bc7c1b1f459b32a642aa7f3",
    "filename" : "app/src/main/res/layout/net1314080903122_item_sended_msg.xml",
    "status" : "added",
    "additions" : 45,
    "deletions" : 0,
    "changes" : 45,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/res/layout/net1314080903122_item_sended_msg.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/res/layout/net1314080903122_item_sended_msg.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/layout/net1314080903122_item_sended_msg.xml?ref=9848a845388316aa132f165d052aef07d9206e9a",
    "patch" : "@@ -0,0 +1,45 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    android:orientation=\"vertical\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"match_parent\"\n+    android:padding=\"16dp\">\n+\n+    <TextView\n+        android:id=\"@+id/id_tv_msg\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:padding=\"8dp\"\n+        />\n+\n+    <edu.hzuapps.androidworks.homeworks.net1314080903122.view.FlowLayout\n+        android:id=\"@+id/id_fl_contacts\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\">\n+    </edu.hzuapps.androidworks.homeworks.net1314080903122.view.FlowLayout>\n+\n+\n+    <LinearLayout\n+        android:layout_width=\"wrap_content\"\n+        android:layout_height=\"wrap_content\"\n+        android:orientation=\"horizontal\"\n+        android:layout_gravity=\"right\">\n+\n+        <TextView\n+            android:id=\"@+id/id_tv_fes\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\"\n+            android:background=\"@drawable/net1314080903122_tag_bg\"\n+            android:layout_marginRight=\"8dp\"/>\n+\n+        <TextView\n+            android:id=\"@+id/id_tv_date\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\" />\n+\n+\n+\n+    </LinearLayout>\n+\n+\n+</LinearLayout>\n\\ No newline at end of file"
  }, {
    "sha" : "650bf31fc500ed627688f33a95ab8d3e98ebe130",
    "filename" : "app/src/main/res/layout/net1314080903122_tag.xml",
    "status" : "added",
    "additions" : 11,
    "deletions" : 0,
    "changes" : 11,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/res/layout/net1314080903122_tag.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/9848a845388316aa132f165d052aef07d9206e9a/app/src/main/res/layout/net1314080903122_tag.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/layout/net1314080903122_tag.xml?ref=9848a845388316aa132f165d052aef07d9206e9a",
    "patch" : "@@ -0,0 +1,11 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<TextView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    android:layout_width=\"wrap_content\"\n+    android:layout_height=\"wrap_content\"\n+    android:textColor=\"#0ddcff\"\n+    android:background=\"@drawable/net1314080903122_tag_bg\"\n+    android:layout_margin=\"4dp\"\n+    android:text=\"hello\"\n+    >\n+\n+</TextView>\n\\ No newline at end of file"
  } ],
  "sha" : "9848a845388316aa132f165d052aef07d9206e9a",
  "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/9848a845388316aa132f165d052aef07d9206e9a",
  "parents" : [ {
    "sha" : "1c9a3920dfa4b1efbed3510773bb498d65860bb1",
    "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/1c9a3920dfa4b1efbed3510773bb498d65860bb1",
    "html_url" : "https://github.com/hzuapps/android-labs/commit/1c9a3920dfa4b1efbed3510773bb498d65860bb1"
  }, {
    "sha" : "367f539a1d5fbb3b7e3d9a1e5cef08b5ea553c3d",
    "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/367f539a1d5fbb3b7e3d9a1e5cef08b5ea553c3d",
    "html_url" : "https://github.com/hzuapps/android-labs/commit/367f539a1d5fbb3b7e3d9a1e5cef08b5ea553c3d"
  } ]
}