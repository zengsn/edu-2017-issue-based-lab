{
  "committer" : {
    "login" : "zengsn",
    "id" : 627946,
    "avatar_url" : "https://avatars.githubusercontent.com/u/627946?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/zengsn",
    "html_url" : "https://github.com/zengsn",
    "followers_url" : "https://api.github.com/users/zengsn/followers",
    "following_url" : "https://api.github.com/users/zengsn/following{/other_user}",
    "gists_url" : "https://api.github.com/users/zengsn/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/zengsn/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/zengsn/subscriptions",
    "organizations_url" : "https://api.github.com/users/zengsn/orgs",
    "repos_url" : "https://api.github.com/users/zengsn/repos",
    "events_url" : "https://api.github.com/users/zengsn/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/zengsn/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "stats" : {
    "total" : 1246,
    "additions" : 1239,
    "deletions" : 7
  },
  "author" : {
    "login" : "zengsn",
    "id" : 627946,
    "avatar_url" : "https://avatars.githubusercontent.com/u/627946?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/zengsn",
    "html_url" : "https://github.com/zengsn",
    "followers_url" : "https://api.github.com/users/zengsn/followers",
    "following_url" : "https://api.github.com/users/zengsn/following{/other_user}",
    "gists_url" : "https://api.github.com/users/zengsn/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/zengsn/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/zengsn/subscriptions",
    "organizations_url" : "https://api.github.com/users/zengsn/orgs",
    "repos_url" : "https://api.github.com/users/zengsn/repos",
    "events_url" : "https://api.github.com/users/zengsn/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/zengsn/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "html_url" : "https://github.com/hzuapps/android-labs/commit/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
  "commit" : {
    "author" : {
      "name" : "zengsn",
      "email" : "shaoning.zeng@gmail.com",
      "date" : "2016-04-07T15:05:33Z"
    },
    "committer" : {
      "name" : "zengsn",
      "email" : "shaoning.zeng@gmail.com",
      "date" : "2016-04-07T15:05:33Z"
    },
    "message" : "上传第4-5章例子",
    "tree" : {
      "sha" : "68925b04f60f4637daac35a4e7ff1e893cd77550",
      "url" : "https://api.github.com/repos/hzuapps/android-labs/git/trees/68925b04f60f4637daac35a4e7ff1e893cd77550"
    },
    "url" : "https://api.github.com/repos/hzuapps/android-labs/git/commits/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/android-labs/commits/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/comments",
  "files" : [ {
    "sha" : "f7aff701b6e159c3fc40229542d6a1745100c86c",
    "filename" : "app/src/main/AndroidManifest.xml",
    "status" : "modified",
    "additions" : 47,
    "deletions" : 0,
    "changes" : 47,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/AndroidManifest.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/AndroidManifest.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/AndroidManifest.xml?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -2,6 +2,13 @@\n <manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n           package=\"edu.hzuapps.androidworks\">\n \n+    <!-- 使用外部存储的权限 -->\n+    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/>\n+\n+    <!-- 访问网络的权限 -->\n+    <uses-permission android:name=\"android.permission.INTERNET\"/>\n+    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/>\n+\n     <application\n         android:allowBackup=\"true\"\n         android:icon=\"@mipmap/ic_launcher\"\n@@ -126,6 +133,46 @@\n             android:name=\".examples.GridViewOneActivity\"\n             android:label=\"@string/title_activity_grid_view_one\">\n         </activity>\n+        <activity\n+            android:name=\".examples.SharedPreferencesActivity\"\n+            android:label=\"@string/title_activity_shared_preferences\">\n+        </activity>\n+        <activity\n+            android:name=\".examples.FileStorageActivity\"\n+            android:label=\"@string/title_activity_file_storage\">\n+        </activity>\n+\n+        <provider\n+            android:name=\"android.support.v4.content.FileProvider\"\n+            android:authorities=\"edu.hzuapps.androidworks.FILE_PROVIDER\"\n+            android:exported=\"false\"\n+            android:grantUriPermissions=\"true\">\n+            <meta-data\n+                android:name=\"android.support.FILE_PROVIDER_PATHS\"\n+                android:resource=\"@xml/file_paths\"/>\n+        </provider>\n+\n+        <activity\n+            android:name=\".examples.FileSelectActivity\"\n+            android:label=\"@string/title_activity_file_select\">\n+            <intent-filter>\n+                <action android:name=\"android.intent.action.PICK\"/>\n+\n+                <category android:name=\"android.intent.category.DEFAULT\"/>\n+                <category android:name=\"android.intent.category.OPENABLE\"/>\n+\n+                <data android:mimeType=\"text/plain\"/>\n+                <data android:mimeType=\"image/*\"/>\n+            </intent-filter>\n+        </activity>\n+        <activity\n+            android:name=\".examples.FileShareActivity\"\n+            android:label=\"@string/title_activity_file_share\">\n+        </activity>\n+        <activity\n+            android:name=\".examples.NetworkActivity\"\n+            android:label=\"@string/title_activity_network\">\n+        </activity>\n     </application>\n \n </manifest>"
  }, {
    "sha" : "0b545a4c3abdb63d909c3de983ad7bbb2ab67bf3",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/MainActivity.java",
    "status" : "modified",
    "additions" : 6,
    "deletions" : 1,
    "changes" : 7,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/java/edu/hzuapps/androidworks/MainActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/java/edu/hzuapps/androidworks/MainActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/MainActivity.java?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -15,13 +15,18 @@\n import edu.hzuapps.androidworks.examples.ActivityBasicActivity;\n import edu.hzuapps.androidworks.examples.BroadcastReceiverActivity;\n import edu.hzuapps.androidworks.examples.ContentProviderActivity;\n+import edu.hzuapps.androidworks.examples.FileSelectActivity;\n+import edu.hzuapps.androidworks.examples.FileShareActivity;\n+import edu.hzuapps.androidworks.examples.FileStorageActivity;\n import edu.hzuapps.androidworks.examples.FragmentDemoActivity;\n import edu.hzuapps.androidworks.examples.FrameLayoutActivity;\n import edu.hzuapps.androidworks.examples.GridViewActivity;\n import edu.hzuapps.androidworks.examples.LinearLayoutActivity;\n import edu.hzuapps.androidworks.examples.ListViewActivity;\n+import edu.hzuapps.androidworks.examples.NetworkActivity;\n import edu.hzuapps.androidworks.examples.RelativeLayoutActivity;\n import edu.hzuapps.androidworks.examples.ServiceDemoActivity;\n+import edu.hzuapps.androidworks.examples.SharedPreferencesActivity;\n import edu.hzuapps.androidworks.examples.TableLayoutActivity;\n import edu.hzuapps.androidworks.examples.ViewBasicActivity;\n import edu.hzuapps.androidworks.examples.ViewDemoActivity;\n@@ -115,7 +120,7 @@ private Class getActivity(int id) {\n         } else if (R.id.button_viewdemo == id) {\n             return ViewDemoActivity.class;\n         } else if (R.id.button_random == id) {\n-            return GridViewActivity.class;\n+            return FileShareActivity.class;\n         } else {\n             return BackActivity.class;\n         }"
  }, {
    "sha" : "3fb005ba6e57574f54d1559c8656785abbb96dbb",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/examples/FileSelectActivity.java",
    "status" : "added",
    "additions" : 204,
    "deletions" : 0,
    "changes" : 204,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/java/edu/hzuapps/androidworks/examples/FileSelectActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/java/edu/hzuapps/androidworks/examples/FileSelectActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/examples/FileSelectActivity.java?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -0,0 +1,204 @@\n+package edu.hzuapps.androidworks.examples;\n+\n+import android.app.Activity;\n+import android.content.Context;\n+import android.content.Intent;\n+import android.graphics.BitmapFactory;\n+import android.graphics.Color;\n+import android.net.Uri;\n+import android.os.Bundle;\n+import android.support.v4.content.FileProvider;\n+import android.support.v7.app.ActionBarActivity;\n+import android.util.Log;\n+import android.view.Menu;\n+import android.view.MenuItem;\n+import android.view.View;\n+import android.view.ViewGroup;\n+import android.widget.AdapterView;\n+import android.widget.ArrayAdapter;\n+import android.widget.BaseAdapter;\n+import android.widget.Button;\n+import android.widget.GridView;\n+import android.widget.ImageView;\n+import android.widget.ListView;\n+\n+import java.io.File;\n+\n+import edu.hzuapps.androidworks.R;\n+import edu.hzuapps.androidworks.homeworks.BackActivity;\n+\n+public class FileSelectActivity extends ActionBarActivity {\n+\n+    public static final String TAG = FileSelectActivity.class.getSimpleName();\n+\n+    public static final String CONTENT_AUTH = \"edu.hzuapps.androidworks.FILE_PROVIDER\";\n+\n+    private Intent mResultIntent;\n+    // App的内部存储目录\n+    private File mPrivateRootDir;\n+    // “images”子目录\n+    private File mImagesDir;\n+    // “images”目录下的文件\n+    File[] mImageFiles;\n+\n+    // 对应的文件名\n+    String[] mImageFilenames;\n+    GridView mFileGridView;\n+\n+    ImageView mLastSelected;\n+\n+    @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        setContentView(R.layout.activity_file_select);\n+\n+        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //\n+        // 初始化图片数据 files/images\n+        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //\n+\n+        // 创建Intent,返回请求文件的App\n+        mResultIntent = new Intent(\"com.example.myapp.ACTION_RETURN_FILE\");\n+        // 获取内部存储目录: files\n+        mPrivateRootDir = getFilesDir();\n+        // 获取内部存储子目录: files/images\n+        mImagesDir = new File(mPrivateRootDir, \"images\");\n+        // 列出目录下的文件 - 列举目录的方法\n+        mImageFiles = mImagesDir.listFiles();\n+        // TODO 从网上下载一些图片保存到目录中\n+        if (mImageFiles == null) {\n+            //\n+        }\n+\n+        // 活动的结果暂时设置为null——即不带数据返回\n+        // 参见 startActivityForResult()\n+        setResult(Activity.RESULT_CANCELED, null);\n+\n+        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //\n+        // 初始化选择界面 ListView\n+        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //\n+\n+        // 使用ListView显示可分享图片.\n+        mFileGridView = (GridView) findViewById(R.id.file_list);\n+        // 准备列表数据\n+        mImageFilenames = new String[mImageFiles.length];\n+        //for(File imageFile : mImageFiles) {\n+        for (int i = 0; i < mImageFilenames.length; i++) {\n+            mImageFilenames[i] = mImageFiles[i].getAbsolutePath();\n+        }\n+        // 准备图片适配器\n+        FileItemAdapter adapter = new FileItemAdapter(this, mImageFiles);\n+        mFileGridView.setAdapter(adapter);\n+\n+        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //\n+        // 响应文件选择 - 选择后准备好要分享的文件信息\n+        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //\n+        mFileGridView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n+            @Override\n+            public void onItemClick(AdapterView<?> adapterView, View view, int index, long rowId) {\n+                // 先修改样式\n+                if (mLastSelected != null) {\n+                    mLastSelected.setBackgroundColor(Color.WHITE);\n+                }\n+                mLastSelected = (ImageView) view;\n+                mLastSelected.setBackgroundColor(Color.BLUE);\n+                // 取到文件\n+                File file = new File(mImageFilenames[index]);\n+                // 将文件分享给另一个应用 | Activity\n+                FileSelectActivity.this.shareToAnotherApp(file);\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public boolean onCreateOptionsMenu(Menu menu) {\n+        getMenuInflater().inflate(R.menu.menu_select_image, menu);\n+        return true;\n+    }\n+\n+    // 点击分享按钮后将文件分享给其他App\n+    @Override\n+    public boolean onOptionsItemSelected(MenuItem item) {\n+        int id = item.getItemId();\n+        if (id == R.id.action_share) {\n+            finish();\n+            return true;\n+        }\n+        return super.onOptionsItemSelected(item);\n+    }\n+\n+    // 将文件分享给另一个应用 | Activity\n+    private void shareToAnotherApp(File file) {\n+        // 1. 使用FileProvider构造内容（文件）Uri\n+        Uri fileUri = null;\n+        try {\n+            fileUri = FileProvider.getUriForFile( //\n+                    FileSelectActivity.this, CONTENT_AUTH, file);\n+        } catch (IllegalArgumentException e) {\n+            // 避免分享文件时出错 - RuntimeException\n+            Log.e(TAG, \"文件无法分享: \" + file.getAbsolutePath());\n+            // 我们能生成的那些Content URI所对应的文件，\n+            // 必须是那些在meta-data文件中包含<paths>标签的目录内的文件。\n+            // 如果调用getUriForFile()方法所要获取的文件不在我们指定的目录中，\n+            // 会收到一个IllegalArgumentException。\n+\n+            // 问题: 必须定义才能分享!如何解决?\n+        }\n+\n+        if (fileUri != null) { // 有文件分享\n+            // 2. 分配临时读权限到指定的Uri\n+            mResultIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n+            // 3. 将文件Uri放到结果中（此时未触发分享）\n+            mResultIntent.setDataAndType(fileUri, getContentResolver().getType(fileUri));\n+            this.setResult(Activity.RESULT_OK, mResultIntent);\n+        } else { // 没有文件分享\n+            mResultIntent.setDataAndType(null, \"\");\n+            this.setResult(RESULT_CANCELED, mResultIntent);\n+        }\n+    }\n+\n+}\n+\n+class FileItemAdapter extends BaseAdapter {\n+\n+    Context mContext;\n+    File[] mImageFiles;\n+\n+    public FileItemAdapter(Context context, File[] imageFiles) {\n+        this.mContext = context;\n+        this.mImageFiles = imageFiles;\n+    }\n+\n+    @Override\n+    public int getCount() {\n+        return mImageFiles.length;\n+    }\n+\n+    @Override\n+    public View getView(int index, View convertView, ViewGroup viewGroup) {\n+        // 创建图片显示项\n+        ImageView imageView;\n+\n+        if (convertView == null) {\n+            imageView = new ImageView(mContext);\n+            imageView.setLayoutParams(new GridView.LayoutParams(128, 128));\n+            imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);\n+            imageView.setPadding(8, 8, 8, 8);\n+        } else {\n+            imageView = (ImageView) convertView;\n+        }\n+        Log.i(\"图片\", mImageFiles[index].getAbsolutePath());\n+        imageView.setImageURI(Uri.parse(mImageFiles[index].getAbsolutePath()));\n+        //imageView.setImageBitmap(BitmapFactory.decodeFile(mImageFiles[index].getAbsolutePath()));\n+        return imageView;\n+    }\n+\n+    @Override\n+    public long getItemId(int index) {\n+        return 0;\n+    }\n+\n+    @Override\n+    public Object getItem(int index) {\n+        return null;\n+    }\n+}"
  }, {
    "sha" : "16bebb82bde281d3305dba72f66b8e79da385427",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/examples/FileShareActivity.java",
    "status" : "added",
    "additions" : 84,
    "deletions" : 0,
    "changes" : 84,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/java/edu/hzuapps/androidworks/examples/FileShareActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/java/edu/hzuapps/androidworks/examples/FileShareActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/examples/FileShareActivity.java?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -0,0 +1,84 @@\n+package edu.hzuapps.androidworks.examples;\n+\n+import android.content.Intent;\n+import android.database.Cursor;\n+import android.net.Uri;\n+import android.os.Bundle;\n+import android.os.ParcelFileDescriptor;\n+import android.provider.OpenableColumns;\n+import android.support.v7.app.ActionBarActivity;\n+import android.util.Log;\n+import android.view.View;\n+import android.widget.Button;\n+import android.widget.TextView;\n+\n+import java.io.FileDescriptor;\n+import java.io.FileNotFoundException;\n+\n+import edu.hzuapps.androidworks.R;\n+\n+public class FileShareActivity extends ActionBarActivity {\n+\n+    public static final String TAG = FileShareActivity.class.getSimpleName();\n+\n+    private Intent mRequestFileIntent;\n+    private ParcelFileDescriptor mInputPFD;\n+\n+    @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        setContentView(R.layout.activity_file_share);\n+\n+        mRequestFileIntent = new Intent(Intent.ACTION_PICK);\n+        mRequestFileIntent.setType(\"image/png\");\n+\n+        ((Button) findViewById(R.id.button_share)).setOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View view) {\n+                startActivityForResult(mRequestFileIntent, 0);\n+            }\n+        });\n+\n+        ((Button) findViewById(R.id.button_download_image)).setOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View view) {\n+                Intent intent = new Intent(FileShareActivity.this, NetworkActivity.class);\n+                startActivity(intent);\n+            }\n+        });\n+    }\n+\n+    @Override\n+    protected void onActivityResult(int requestCode, int resultCode, Intent returnIntent) {\n+        // 根据结果代码判断是否成功返回\n+        if (resultCode != RESULT_OK) {\n+            return; // 用户取消选择\n+        } else { // 从Intent中取出Uri\n+            Uri returnUri = returnIntent.getData();\n+            try { // 从Uri尝试打开文件 （读权限）\n+                mInputPFD = getContentResolver().openFileDescriptor(returnUri, \"r\");\n+            } catch (FileNotFoundException e) {\n+                e.printStackTrace();\n+                Log.e(TAG, \"文件不存在!\");\n+                return;\n+            }\n+            // 取到该文件的描述\n+            FileDescriptor fd = mInputPFD.getFileDescriptor();\n+\n+            // 获取MIME类型\n+            String mimeType = getContentResolver().getType(returnUri);\n+\n+            // 通过FileProvider的游标获取文件大小等信息\n+            Cursor returnCursor = getContentResolver().query(returnUri, null, null, null, null);\n+            // 游标中各个列即对应文件的各种信息\n+            int nameIndex = returnCursor.getColumnIndex(OpenableColumns.DISPLAY_NAME);\n+            int sizeIndex = returnCursor.getColumnIndex(OpenableColumns.SIZE);\n+            returnCursor.moveToFirst();\n+            TextView nameView = (TextView) findViewById(R.id.text_filename);\n+            TextView sizeView = (TextView) findViewById(R.id.text_file_size);\n+            nameView.setText(\"选择的文件为: \"+returnCursor.getString(nameIndex));\n+            sizeView.setText(\"大小为: \"+Long.toString(returnCursor.getLong(sizeIndex)/1024) +\"kb\");\n+\n+        }\n+    }\n+}"
  }, {
    "sha" : "743f5f9c1814b049e884f788d3b8b2b8512fab49",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/examples/FileStorageActivity.java",
    "status" : "added",
    "additions" : 196,
    "deletions" : 0,
    "changes" : 196,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/java/edu/hzuapps/androidworks/examples/FileStorageActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/java/edu/hzuapps/androidworks/examples/FileStorageActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/examples/FileStorageActivity.java?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -0,0 +1,196 @@\n+package edu.hzuapps.androidworks.examples;\n+\n+import android.content.Context;\n+import android.os.Bundle;\n+import android.os.Environment;\n+import android.support.v7.app.ActionBarActivity;\n+import android.util.Log;\n+import android.view.View;\n+import android.widget.Button;\n+import android.widget.EditText;\n+import android.widget.TextView;\n+import android.widget.Toast;\n+\n+import java.io.BufferedInputStream;\n+import java.io.BufferedReader;\n+import java.io.File;\n+import java.io.FileInputStream;\n+import java.io.FileNotFoundException;\n+import java.io.FileOutputStream;\n+import java.io.FileReader;\n+import java.io.IOException;\n+\n+import edu.hzuapps.androidworks.R;\n+\n+public class FileStorageActivity extends ActionBarActivity {\n+\n+    public static final String DIRECTORY = \"demo\";\n+    public static final String FILENAME = \"file_demo.txt\";\n+\n+    public static final String TAG = FileStorageActivity.class.getSimpleName();\n+\n+    @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        setContentView(R.layout.activity_file_storage);\n+\n+        ((Button) findViewById(R.id.button_save_internal)).setOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View view) {\n+                String text = ((EditText) findViewById(R.id.text_content)).getText().toString();\n+                saveTextIntoInternalStorage(text);\n+            }\n+        });\n+\n+        ((Button) findViewById(R.id.button_save_external)).setOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View view) {\n+                String text = ((EditText) findViewById(R.id.text_content)).getText().toString();\n+                saveTextIntoExternalStorage(text);\n+            }\n+        });\n+    }\n+\n+    // 将文字保存到内部存储\n+    private void saveTextIntoInternalStorage(String text) {\n+        // 获取内部存储目录\n+        File dir = getFilesDir();\n+        //File dir = getCacheDir();\n+\n+        File file = new File(dir, FILENAME);\n+\n+//        try {\n+//            File = File.createTempFile(FILENAME, null, dir);\n+//        } catch (IOException e) {\n+//            e.printStackTrace();\n+//        }\n+\n+        if (file.exists()) { // 判断文件是否存在\n+            Log.i(TAG, file.getAbsolutePath());\n+            Log.i(TAG, file.length() + \"\");\n+            Log.i(TAG, file.isFile() + \"\");\n+        }\n+\n+        FileOutputStream fos = null;\n+\n+        try { // 使用API打开输出流\n+            fos = openFileOutput(FILENAME, MODE_PRIVATE);\n+            //FileOutputStream fos = new FileOutputStream(file);\n+            fos.write(text.getBytes()); // 写入内容\n+            fos.close(); // 关闭流\n+        } catch (FileNotFoundException e) {\n+            e.printStackTrace();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        } finally {\n+            try {\n+                fos.close();\n+            } catch (IOException e) {\n+                e.printStackTrace();\n+            }\n+        }\n+\n+        FileReader reader = null;\n+\n+        try {\n+            reader = new FileReader(file.getAbsoluteFile());\n+            BufferedReader bReader = new BufferedReader(reader);\n+            String line = bReader.readLine();\n+            Log.i(TAG, \"从文件读取的内容: \" + line);\n+            bReader.close();\n+            reader.close();\n+        } catch (FileNotFoundException e) {\n+            e.printStackTrace();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+\n+        // 显示结果\n+        showResult(file.getAbsolutePath());\n+\n+        // 删除文件\n+        // file.delete();\n+        // deleteFile(FILENAME);\n+    }\n+\n+    // 将文字保存到外部存储\n+    private void saveTextIntoExternalStorage(String text) {\n+        if (!isExternalStorageWritable()) {\n+            Log.e(TAG, \"外部存储不可写!\");\n+            return;\n+        }\n+\n+        File dir = getPublicExtStorageDir(DIRECTORY, Environment.DIRECTORY_DOCUMENTS);\n+        File file = new File(dir, FILENAME);\n+\n+        try {\n+            FileOutputStream fos = new FileOutputStream(file);\n+            fos.write(text.getBytes());\n+            fos.close();\n+        } catch (FileNotFoundException e) {\n+            e.printStackTrace();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+\n+        // 显示结果\n+        showResult(file.getAbsolutePath());\n+    }\n+\n+    /* Checks if external storage is available for read and write */\n+    private boolean isExternalStorageWritable() {\n+        String state = Environment.getExternalStorageState();\n+        if (Environment.MEDIA_MOUNTED.equals(state)) {\n+            return true;\n+        }\n+        return false;\n+    }\n+\n+    /* Checks if external storage is available to at least read */\n+    private boolean isExternalStorageReadable() {\n+        String state = Environment.getExternalStorageState();\n+        if (Environment.MEDIA_MOUNTED.equals(state) ||\n+                Environment.MEDIA_MOUNTED_READ_ONLY.equals(state)) {\n+            return true;\n+        }\n+        return false;\n+    }\n+\n+    // 创建公开的外部存储目录（App卸载时不会删除）\n+    private File getPublicExtStorageDir(String dirName, String type) {\n+        if (type == null) { // 指定文件类型\n+            type = Environment.DIRECTORY_PICTURES;\n+        }\n+        File dir = new File(Environment //\n+                .getExternalStoragePublicDirectory(type), dirName);\n+        if (!dir.mkdirs()) {\n+            Log.e(TAG, \"目录无法创建!\");\n+        }\n+\n+        long freeSpace = dir.getFreeSpace();\n+        Log.i(TAG, \"剩余空间大小: \" + (freeSpace / 1024 / 1024) + \"MB\");\n+        long totalSpace = dir.getTotalSpace();\n+        Log.i(TAG, \"总空间大小: \" + (totalSpace / 1024 / 1024) + \"MB\");\n+\n+        return dir;\n+    }\n+\n+    // 创建私有的外部存储目录（App卸载时会一同删除）\n+    private File getPrivateExtStorageDir(Context context, String dirName, String type) {\n+        if (type == null) { // 指定文件类型\n+            type = Environment.DIRECTORY_PICTURES;\n+        }\n+        File file = new File(context //\n+                .getExternalFilesDir(type), dirName);\n+        if (!file.mkdirs()) {\n+            Log.e(TAG, \"目录无法创建!\");\n+        }\n+        return file;\n+    }\n+\n+    private void showResult(String result) {\n+        ((TextView) findViewById(R.id.text_path)) //\n+                .setText(result.toCharArray(), 0, result.length());\n+    }\n+\n+}"
  }, {
    "sha" : "f3569de60773b76810d20e51676b0de8c5a9607e",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/examples/NetworkActivity.java",
    "status" : "added",
    "additions" : 158,
    "deletions" : 0,
    "changes" : 158,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/java/edu/hzuapps/androidworks/examples/NetworkActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/java/edu/hzuapps/androidworks/examples/NetworkActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/examples/NetworkActivity.java?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -0,0 +1,158 @@\n+package edu.hzuapps.androidworks.examples;\n+\n+import android.content.Context;\n+import android.graphics.Bitmap;\n+import android.graphics.Color;\n+import android.net.ConnectivityManager;\n+import android.net.NetworkInfo;\n+import android.os.Bundle;\n+import android.support.v7.app.ActionBarActivity;\n+import android.util.Log;\n+import android.view.View;\n+import android.widget.Button;\n+import android.widget.TextView;\n+import android.widget.Toast;\n+\n+import java.io.File;\n+\n+import edu.hzuapps.androidworks.R;\n+import edu.hzuapps.androidworks.homeworks.BackActivity;\n+\n+public class NetworkActivity extends BackActivity\n+        implements View.OnClickListener {\n+\n+    public static final String TAG = NetworkActivity.class.getSimpleName();\n+    public static final String WEB = \"http://www.bing.com\";\n+    public static final String IMAGE_URL_PREFIX = \"https://raw.githubusercontent.com/hzuapps/android-labs/master/app/src/main/res/drawable/\";\n+\n+    static String[] imageNames = {\"image_bmp.png\", \"image_gif.png\", \"image_ico.png\",\n+            \"image_jpeg.png\", \"image_png.png\", \"image_tiff.png\"};\n+\n+    private Button mCheckButton;\n+    private Button mDownloadImageButton;\n+    private Button mDownloadWebButton;\n+    private TextView mNetworkText;\n+    private TextView mResultText;\n+\n+    private boolean mConnected;\n+\n+    private NetworkFileDownloader mFileDownloader;\n+\n+    // App的内部存储目录\n+    private File mPrivateRootDir;\n+    // “images”子目录\n+    private File mImagesDir;\n+\n+    @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        setContentView(R.layout.activity_network);\n+\n+        mCheckButton = (Button) findViewById(R.id.button_check);\n+        mDownloadImageButton = (Button) findViewById(R.id.button_download_image);\n+        mDownloadWebButton = (Button) findViewById(R.id.button_download_web);\n+        mNetworkText = (TextView) findViewById(R.id.text_network);\n+        mResultText = (TextView) findViewById(R.id.text_result);\n+\n+        mCheckButton.setOnClickListener(this);\n+        mDownloadImageButton.setOnClickListener(this);\n+        mDownloadWebButton.setOnClickListener(this);\n+\n+        // 获取内部存储目录: files\n+        mPrivateRootDir = getFilesDir();\n+        // 获取内部存储子目录: files/images\n+        mImagesDir = new File(mPrivateRootDir, \"images\");\n+    }\n+\n+    @Override\n+    public void onClick(View view) {\n+        if (view.getId() == R.id.button_check) {\n+            checkNetworkState(); // 检查网络\n+        } else if (view.getId() == R.id.button_download_image) {\n+            downloadImages(); // 下载图片\n+        } else if (view.getId() == R.id.button_download_web) {\n+            downloadWebPage(); // 下载网页\n+        }\n+    }\n+\n+    // 检查网络状态\n+    private void checkNetworkState() {\n+        // 取得连接管理器\n+        ConnectivityManager connMgr = (ConnectivityManager)\n+                getSystemService(Context.CONNECTIVITY_SERVICE);\n+\n+        // 检查当前激的网络\n+        NetworkInfo networkInfo = connMgr.getActiveNetworkInfo();\n+        if (networkInfo != null && networkInfo.isConnected()) {\n+            mConnected = true;\n+        } else {\n+            mConnected = false;\n+        }\n+\n+        String types = \"\";\n+\n+        // 检查Wi-Fi\n+        networkInfo = connMgr.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\n+        boolean isWifiConn = networkInfo.isConnected();\n+        types += isWifiConn ? \"Wi-Fi\" : \"\";\n+\n+        // 检查数据网络\n+        networkInfo = connMgr.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\n+        boolean isMobileConn = networkInfo.isConnected();\n+        types += isMobileConn ? \"流量\" : \"\";\n+\n+        // 检查蓝牙\n+        networkInfo = connMgr.getNetworkInfo(ConnectivityManager.TYPE_BLUETOOTH);\n+        boolean isBluetoothConn = networkInfo.isConnected();\n+        types += isBluetoothConn ? \", 蓝牙\" : \"\";\n+\n+        mNetworkText.setTextColor(mConnected ? Color.GREEN : Color.RED);\n+        mNetworkText.setText(mConnected ? \"网络正常 (\" +types + \")\" : \"网络未连接!\");\n+    }\n+\n+    // 下载图片\n+    private void downloadImages() {\n+        // 创建下载器\n+        mFileDownloader = new NetworkFileDownloader(new NetworkFileDownloader.OnImageDownloadListener() {\n+            @Override\n+            public void onError(String error) {\n+                Toast.makeText(NetworkActivity.this, error, Toast.LENGTH_LONG).show();\n+            }\n+\n+            @Override\n+            public void onProgressChange(int percent) {\n+                Log.i(TAG, \"当前进度 = \" + percent);\n+            }\n+\n+            @Override\n+            public void onComplete(Bitmap bitmap, String imageUrl) {\n+                // 下载的图片格式为PNG\n+                final Bitmap.CompressFormat format = Bitmap.CompressFormat.PNG;\n+                // 解析出原始文件名\n+                String filename = imageUrl.replace(IMAGE_URL_PREFIX, \"\");\n+                final File imageFile = new File(mImagesDir, filename);\n+                // 将文件保存到磁盘中\n+                NetworkFileDownloader.writeToDisk(imageFile, bitmap, new NetworkFileDownloader.OnBitmapSaveListener() {\n+                    @Override\n+                    public void onBitmapSaved() {\n+                        Toast.makeText(NetworkActivity.this, \"文件已保存: \" + imageFile.getAbsolutePath(), Toast.LENGTH_LONG).show();\n+                    }\n+                    @Override\n+                    public void onBitmapSaveError(String error) {\n+                        Toast.makeText(NetworkActivity.this, error, Toast.LENGTH_LONG).show();\n+                    }\n+                }, format, false);\n+            }\n+        });\n+\n+        // 下载所有文件\n+        for(String imageName : imageNames) {\n+            String imageUrl = IMAGE_URL_PREFIX + imageName;\n+            mFileDownloader.download(imageUrl, true);\n+        }\n+    }\n+\n+    // 下载网页\n+    private void downloadWebPage() {\n+    }\n+}"
  }, {
    "sha" : "5cedfec3f297daa24537ca1975a011ec1a6bbe61",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/examples/NetworkFileDownloader.java",
    "status" : "added",
    "additions" : 226,
    "deletions" : 0,
    "changes" : 226,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/java/edu/hzuapps/androidworks/examples/NetworkFileDownloader.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/java/edu/hzuapps/androidworks/examples/NetworkFileDownloader.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/examples/NetworkFileDownloader.java?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -0,0 +1,226 @@\n+package edu.hzuapps.androidworks.examples;\n+\n+import android.graphics.Bitmap;\n+import android.graphics.BitmapFactory;\n+import android.os.AsyncTask;\n+import android.support.annotation.NonNull;\n+import android.util.Log;\n+\n+import java.io.BufferedInputStream;\n+import java.io.ByteArrayOutputStream;\n+import java.io.File;\n+import java.io.FileOutputStream;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.net.HttpURLConnection;\n+import java.util.HashSet;\n+import java.util.Set;\n+import java.net.URL;\n+\n+/**\n+ * Created by zengsn on 16/4/7.\n+ */\n+public class NetworkFileDownloader {\n+\n+    public static final String TAG = NetworkFileDownloader.class.getSimpleName();\n+    public static final int MAX_SIZE = 8192;\n+\n+    // 记录当前下载的URL\n+    private Set<String> mUrlsInProgress = new HashSet<>();\n+    private OnImageDownloadListener mImageDownloadListener;\n+\n+    public NetworkFileDownloader(@NonNull OnImageDownloadListener listener) {\n+        mImageDownloadListener = listener;\n+    }\n+\n+    /**\n+     * 自定义监听器,供外部处理.\n+     */\n+    public interface OnImageDownloadListener {\n+        void onError(String error);\n+\n+        void onProgressChange(int percent);\n+\n+        void onComplete(Bitmap bitmap, String imageUrl);\n+    }\n+\n+    /**\n+     * 使用多线程下载文件.\n+     * @param imageUrl\n+     * @param displayProgress\n+     */\n+    public void download(@NonNull final String imageUrl, final boolean displayProgress) {\n+        if (mUrlsInProgress.contains(imageUrl)) {\n+            Log.w(TAG, \"该图片已经在下载列表中!\");\n+            return;\n+        }\n+\n+        // 启动异步线程下载图片\n+        new AsyncTask<Void, Integer, Bitmap>() {\n+            private String error;\n+\n+            @Override\n+            protected void onPreExecute() {\n+                mUrlsInProgress.add(imageUrl);\n+                Log.d(TAG, \"开始下载……\");\n+            }\n+\n+            @Override\n+            protected void onCancelled() {\n+                mUrlsInProgress.remove(imageUrl);\n+                mImageDownloadListener.onError(error);\n+            }\n+\n+            @Override\n+            protected void onProgressUpdate(Integer... values) {\n+                mImageDownloadListener.onProgressChange(values[0]);\n+            }\n+\n+            @Override\n+            protected Bitmap doInBackground(Void... params) {\n+                Bitmap bitmap = null;\n+                HttpURLConnection connection = null;\n+                InputStream is = null;\n+                ByteArrayOutputStream out = null;\n+                try { // 创建连接\n+                    connection = (HttpURLConnection) new URL(imageUrl).openConnection();\n+                    if (displayProgress) {\n+                        connection.connect(); // 建立连接\n+                        final int length = connection.getContentLength();\n+                        if (length <= 0) {\n+                            error = \"URL不正确!\";\n+                            this.cancel(true);\n+                        }\n+                        is = new BufferedInputStream(connection.getInputStream(), MAX_SIZE);\n+                        out = new ByteArrayOutputStream();\n+                        byte bytes[] = new byte[MAX_SIZE];\n+                        int count;\n+                        long read = 0;\n+                        while ((count = is.read(bytes)) != -1) {\n+                            read += count;\n+                            out.write(bytes, 0, count);\n+                            publishProgress((int) ((read * 100) / length));\n+                        }\n+                        bitmap = BitmapFactory.decodeByteArray(out.toByteArray(), 0, out.size());\n+                    } else {\n+                        is = connection.getInputStream();\n+                        bitmap = BitmapFactory.decodeStream(is);\n+                    }\n+                } catch (Throwable e) {\n+                    if (!this.isCancelled()) {\n+                        error = \"网络错误!\";\n+                        this.cancel(true);\n+                    }\n+                } finally {\n+                    try {\n+                        if (connection != null)\n+                            connection.disconnect();\n+                        if (out != null) {\n+                            out.flush();\n+                            out.close();\n+                        }\n+                        if (is != null)\n+                            is.close();\n+                    } catch (Exception e) {\n+                        e.printStackTrace();\n+                    }\n+                }\n+                return bitmap;\n+            }\n+\n+            @Override\n+            protected void onPostExecute(Bitmap result) {\n+                if (result == null) {\n+                    Log.e(TAG, \"下载结果为空!\");\n+                    mImageDownloadListener.onError(\"文件无法解码!\");\n+                } else {\n+                    Log.d(TAG, \"下载完成,大小为 \" + result.getByteCount());\n+                    mImageDownloadListener.onComplete(result, imageUrl);\n+                }\n+                mUrlsInProgress.remove(imageUrl);\n+                System.gc();\n+            }\n+        }.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);\n+    }\n+\n+\n+    // 将下载的文件保存到磁盘中\n+    public interface OnBitmapSaveListener {\n+        void onBitmapSaved();\n+        void onBitmapSaveError(String error);\n+    }\n+    // 声明为静态方式,直接使用.\n+    public static void writeToDisk(@NonNull final File imageFile, @NonNull final Bitmap image,\n+                                   @NonNull final OnBitmapSaveListener listener,\n+                                   @NonNull final Bitmap.CompressFormat format, boolean shouldOverwrite) {\n+\n+        if (imageFile.isDirectory()) {\n+            listener.onBitmapSaveError(\"存在同名目录!\");\n+            return;\n+        }\n+\n+        if (imageFile.exists()) {\n+            if (!shouldOverwrite) {\n+                listener.onBitmapSaveError(\"文件已存在!\");\n+                return;\n+            } else if (!imageFile.delete()) {\n+                listener.onBitmapSaveError(\"无法删除原始同名文件!\");\n+                return;\n+            }\n+        }\n+\n+        File parent = imageFile.getParentFile();\n+        if (!parent.exists() && !parent.mkdirs()) {\n+            listener.onBitmapSaveError(\"无法创建上级目录!\");\n+            return;\n+        }\n+\n+        try {\n+            if (!imageFile.createNewFile()) {\n+                listener.onBitmapSaveError(\"无法创建文件!\");\n+                return;\n+            }\n+        } catch (IOException e) {\n+            listener.onBitmapSaveError(\"写入文件失败!\");\n+            return;\n+        }\n+\n+        new AsyncTask<Void, Void, Void>() {\n+\n+            private String error;\n+\n+            @Override\n+            protected Void doInBackground(Void... params) {\n+                FileOutputStream fos = null;\n+                try {\n+                    fos = new FileOutputStream(imageFile);\n+                    image.compress(format, 100, fos);\n+                } catch (IOException e) {\n+                    error = \"写入文件失败!\";\n+                    this.cancel(true);\n+                } finally {\n+                    if (fos != null) {\n+                        try {\n+                            fos.flush();\n+                            fos.close();\n+                        } catch (IOException e) {\n+                            e.printStackTrace();\n+                        }\n+                    }\n+                }\n+                return null;\n+            }\n+\n+            @Override\n+            protected void onCancelled() {\n+                listener.onBitmapSaveError(error);\n+            }\n+\n+            @Override\n+            protected void onPostExecute(Void result) {\n+                listener.onBitmapSaved();\n+            }\n+        }.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);\n+    }\n+\n+}"
  }, {
    "sha" : "3c8f21803bee89fcf561769d9a0e34476600e505",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/examples/SharedPreferencesActivity.java",
    "status" : "added",
    "additions" : 61,
    "deletions" : 0,
    "changes" : 61,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/java/edu/hzuapps/androidworks/examples/SharedPreferencesActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/java/edu/hzuapps/androidworks/examples/SharedPreferencesActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/examples/SharedPreferencesActivity.java?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -0,0 +1,61 @@\n+package edu.hzuapps.androidworks.examples;\n+\n+import android.content.Context;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.support.v7.app.ActionBarActivity;\n+import android.view.View;\n+import android.widget.EditText;\n+import android.widget.TextView;\n+\n+import edu.hzuapps.androidworks.R;\n+\n+public class SharedPreferencesActivity extends ActionBarActivity {\n+\n+    public static final String CFG_KEY = \"edu.hzuapps.androidworks.examples.CONFIGS\";\n+\n+    public static final String SHOW_ITEMS = \"showItems\";\n+\n+    private SharedPreferences mSharedPref = null;\n+\n+    @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        setContentView(R.layout.activity_shared_preferences);\n+\n+        findViewById(R.id.button_save).setOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View view) {\n+                saveValueToPreferences();\n+                showValueToPreferences();\n+            }\n+        });\n+    }\n+\n+    /**\n+     * 保存设置值\n+     */\n+    private void saveValueToPreferences() {\n+        if (mSharedPref == null) {\n+            mSharedPref = this.getSharedPreferences(CFG_KEY, Context.MODE_PRIVATE);\n+            //mSharedPref = this.getPreferences(Context.MODE_PRIVATE);\n+        }\n+        SharedPreferences.Editor editor = mSharedPref.edit();\n+        editor.putString(SHOW_ITEMS, // 将配置值保存到首选项存储中\n+                ((EditText) findViewById(R.id.show_items)).getText().toString());\n+        editor.commit();\n+    }\n+\n+    /**\n+     * 读取设置值\n+     */\n+    private void showValueToPreferences() {\n+        if (mSharedPref != null) {\n+            String showItems = mSharedPref.getString(SHOW_ITEMS, \"\");\n+            showItems = \"显示条数: \" + showItems;\n+            ((TextView) findViewById(R.id.text_content)) //\n+                    .setText(showItems.toCharArray(), 0, showItems.length());\n+        }\n+    }\n+\n+}"
  }, {
    "sha" : "01de10b2c3efb5d75164b160d6069329951311e3",
    "filename" : "app/src/main/res/layout/activity_file_select.xml",
    "status" : "added",
    "additions" : 26,
    "deletions" : 0,
    "changes" : 26,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/layout/activity_file_select.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/layout/activity_file_select.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/layout/activity_file_select.xml?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -0,0 +1,26 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<LinearLayout\n+    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:tools=\"http://schemas.android.com/tools\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"match_parent\"\n+    android:orientation=\"horizontal\"\n+    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n+    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n+    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n+    android:paddingTop=\"@dimen/activity_vertical_margin\"\n+    tools:context=\"edu.hzuapps.androidworks.examples.FileSelectActivity\">\n+\n+    <GridView\n+        android:id=\"@+id/file_list\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:columnWidth=\"90dp\"\n+        android:gravity=\"center\"\n+        android:horizontalSpacing=\"10dp\"\n+        android:numColumns=\"auto_fit\"\n+        android:stretchMode=\"columnWidth\"\n+        android:verticalSpacing=\"10dp\">\n+    </GridView>\n+\n+</LinearLayout>"
  }, {
    "sha" : "ebeede10993721b2dd3834ed69792bafac65c88a",
    "filename" : "app/src/main/res/layout/activity_file_select_item.xml",
    "status" : "added",
    "additions" : 6,
    "deletions" : 0,
    "changes" : 6,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/layout/activity_file_select_item.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/layout/activity_file_select_item.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/layout/activity_file_select_item.xml?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -0,0 +1,6 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<ImageView\n+    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    android:id=\"@+id/file_item\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"match_parent\"/>"
  }, {
    "sha" : "b6da687642db4579adaf94c69331325af36b3a9c",
    "filename" : "app/src/main/res/layout/activity_file_share.xml",
    "status" : "added",
    "additions" : 45,
    "deletions" : 0,
    "changes" : 45,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/layout/activity_file_share.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/layout/activity_file_share.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/layout/activity_file_share.xml?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -0,0 +1,45 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<RelativeLayout\n+    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:tools=\"http://schemas.android.com/tools\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"match_parent\"\n+    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n+    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n+    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n+    android:paddingTop=\"@dimen/activity_vertical_margin\"\n+    tools:context=\"edu.hzuapps.androidworks.examples.FileShareActivity\">\n+\n+    <Button\n+        android:id=\"@+id/button_download_image\"\n+        android:layout_width=\"wrap_content\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_centerHorizontal=\"true\"\n+        android:text=\"下载文件\"/>\n+\n+    <Button\n+        android:id=\"@+id/button_share\"\n+        android:layout_width=\"wrap_content\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_below=\"@+id/button_download_image\"\n+        android:layout_centerHorizontal=\"true\"\n+        android:text=\"选择文件\"/>\n+\n+    <TextView\n+        android:id=\"@+id/text_filename\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_below=\"@+id/button_share\"\n+        android:layout_marginTop=\"20dp\"\n+        android:layout_centerHorizontal=\"true\"\n+        android:textColor=\"#0000ff\"/>\n+\n+    <TextView\n+        android:id=\"@+id/text_file_size\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_below=\"@+id/text_filename\"\n+        android:layout_centerHorizontal=\"true\"\n+        android:textColor=\"#0000ff\"/>\n+\n+</RelativeLayout>"
  }, {
    "sha" : "68ce03ab038d9e7927955298d0477bf31f2a4620",
    "filename" : "app/src/main/res/layout/activity_file_storage.xml",
    "status" : "added",
    "additions" : 36,
    "deletions" : 0,
    "changes" : 36,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/layout/activity_file_storage.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/layout/activity_file_storage.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/layout/activity_file_storage.xml?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -0,0 +1,36 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<LinearLayout\n+    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:tools=\"http://schemas.android.com/tools\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"match_parent\"\n+    android:orientation=\"vertical\"\n+    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n+    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n+    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n+    android:paddingTop=\"@dimen/activity_vertical_margin\"\n+    tools:context=\"edu.hzuapps.androidworks.examples.FileStorageActivity\">\n+\n+    <EditText\n+        android:id=\"@+id/text_content\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"/>\n+\n+    <Button\n+        android:id=\"@+id/button_save_internal\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:text=\"保存到内部存储\"/>\n+\n+    <Button\n+        android:id=\"@+id/button_save_external\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:text=\"保存到外部存储\"/>\n+\n+    <TextView\n+        android:id=\"@+id/text_path\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"/>\n+\n+</LinearLayout>"
  }, {
    "sha" : "b5b89c30bfac156c7503fe98d34924f588ce72c7",
    "filename" : "app/src/main/res/layout/activity_network.xml",
    "status" : "added",
    "additions" : 44,
    "deletions" : 0,
    "changes" : 44,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/layout/activity_network.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/layout/activity_network.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/layout/activity_network.xml?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -0,0 +1,44 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<LinearLayout\n+    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:tools=\"http://schemas.android.com/tools\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"match_parent\"\n+    android:orientation=\"vertical\"\n+    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n+    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n+    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n+    android:paddingTop=\"@dimen/activity_vertical_margin\"\n+    tools:context=\"edu.hzuapps.androidworks.examples.NetworkActivity\">\n+\n+    <Button\n+        android:id=\"@+id/button_check\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:text=\"检查网络\"/>\n+\n+    <TextView\n+        android:id=\"@+id/text_network\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:textAlignment=\"center\"/>\n+\n+    <Button\n+        android:id=\"@+id/button_download_image\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:text=\"下载图片\"/>\n+\n+    <Button\n+        android:id=\"@+id/button_download_web\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:text=\"下载网页\"/>\n+\n+    <TextView\n+        android:id=\"@+id/text_result\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:textAlignment=\"center\"/>\n+\n+</LinearLayout>"
  }, {
    "sha" : "7e9175c581fdc5f7274e50ff6d7d321b89faacfa",
    "filename" : "app/src/main/res/layout/activity_shared_preferences.xml",
    "status" : "added",
    "additions" : 71,
    "deletions" : 0,
    "changes" : 71,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/layout/activity_shared_preferences.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/layout/activity_shared_preferences.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/layout/activity_shared_preferences.xml?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -0,0 +1,71 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<LinearLayout\n+    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:tools=\"http://schemas.android.com/tools\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"match_parent\"\n+    android:orientation=\"vertical\"\n+    android:paddingBottom=\"@dimen/activity_vertical_margin0\"\n+    android:paddingLeft=\"@dimen/activity_horizontal_margin0\"\n+    android:paddingRight=\"@dimen/activity_horizontal_margin0\"\n+    android:paddingTop=\"@dimen/activity_vertical_margin0\"\n+    tools:context=\"edu.hzuapps.androidworks.examples.SharedPreferencesActivity\">\n+\n+    <TextView\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:paddingTop=\"5dp\"\n+        android:paddingBottom=\"5dp\"\n+        android:paddingLeft=\"5dp\"\n+        android:text=\"配置项\"\n+        android:background=\"#464646\"\n+        android:textColor=\"#fff\"/>\n+\n+    <LinearLayout\n+        android:orientation=\"horizontal\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\">\n+\n+        <TextView\n+            android:layout_width=\"0dp\"\n+            android:layout_height=\"wrap_content\"\n+            android:layout_weight=\"0.25\"\n+            android:paddingLeft=\"5dp\"\n+            android:text=\"显示条数\"/>\n+\n+        <EditText\n+            android:id=\"@+id/show_items\"\n+            android:layout_width=\"0dp\"\n+            android:layout_height=\"wrap_content\"\n+            android:layout_weight=\"0.75\"\n+            android:ems=\"10\"/>\n+\n+    </LinearLayout>\n+\n+    <LinearLayout\n+        android:orientation=\"horizontal\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\">\n+\n+        <TextView\n+            android:layout_width=\"0dp\"\n+            android:layout_height=\"wrap_content\"\n+            android:layout_weight=\"0.25\"/>\n+\n+        <Button\n+            android:id=\"@+id/button_save\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\"\n+            android:text=\"保存\"\n+            android:ems=\"10\"/>\n+\n+    </LinearLayout>\n+\n+    <TextView\n+        android:id=\"@+id/text_content\"\n+        android:layout_width=\"wrap_content\"\n+        android:layout_height=\"wrap_content\"\n+        android:textColor=\"#ff0000\"\n+        android:text=\"\"/>\n+\n+</LinearLayout>"
  }, {
    "sha" : "d17208e99cd48b64cce8b6d862d491ba783df3b4",
    "filename" : "app/src/main/res/menu/menu_select_image.xml",
    "status" : "added",
    "additions" : 10,
    "deletions" : 0,
    "changes" : 10,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/menu/menu_select_image.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/menu/menu_select_image.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/menu/menu_select_image.xml?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -0,0 +1,10 @@\n+<menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\"\n+    tools:context=\"edu.hzuapps.androidworks.MainActivity\">\n+    <item\n+        android:id=\"@+id/action_share\"\n+        android:orderInCategory=\"100\"\n+        android:title=\"分享\"\n+        app:showAsAction=\"always\" />\n+</menu>"
  }, {
    "sha" : "c9891900549b67e955db98702afcb745ddfd4de7",
    "filename" : "app/src/main/res/values/dimens.xml",
    "status" : "modified",
    "additions" : 2,
    "deletions" : 0,
    "changes" : 2,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/values/dimens.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/values/dimens.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/values/dimens.xml?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -2,4 +2,6 @@\n     <!-- Default screen margins, per the Android Design guidelines. -->\n     <dimen name=\"activity_horizontal_margin\">16dp</dimen>\n     <dimen name=\"activity_vertical_margin\">16dp</dimen>\n+    <dimen name=\"activity_horizontal_margin0\">0dp</dimen>\n+    <dimen name=\"activity_vertical_margin0\">0dp</dimen>\n </resources>"
  }, {
    "sha" : "47716b1ca0dc7ec8678abbd62e3facdfec99d0db",
    "filename" : "app/src/main/res/values/strings.xml",
    "status" : "modified",
    "additions" : 5,
    "deletions" : 0,
    "changes" : 5,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/values/strings.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/values/strings.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/values/strings.xml?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -28,4 +28,9 @@\n     <string name=\"title_activity_view_demo\">ViewDemoActivity</string>\n     <string name=\"title_activity_grid_view\">GridViewActivity</string>\n     <string name=\"title_activity_grid_view_one\">GridViewOneActivity</string>\n+    <string name=\"title_activity_shared_preferences\">SharedPreferencesActivity</string>\n+    <string name=\"title_activity_file_storage\">FileStorageActivity</string>\n+    <string name=\"title_activity_file_select\">FileSelectActivity</string>\n+    <string name=\"title_activity_file_share\">FileShareActivity</string>\n+    <string name=\"title_activity_network\">NetworkActivity</string>\n </resources>"
  }, {
    "sha" : "49378525c66510b3dd24d1b2d4c86b76b2b01065",
    "filename" : "app/src/main/res/values/styles.xml",
    "status" : "modified",
    "additions" : 6,
    "deletions" : 6,
    "changes" : 12,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/values/styles.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/values/styles.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/values/styles.xml?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -2,12 +2,12 @@\n \n     <!-- Base application theme. -->\n     <style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\">\n-        <item name=\"android:layout_width\">fill_parent</item>\n-        <item name=\"android:layout_height\">wrap_content</item>\n-        <item name=\"android:capitalize\">characters</item>\n-        <item name=\"android:typeface\">monospace</item>\n-        <item name=\"android:textSize\">12pt</item>\n-        <item name=\"android:textColor\">#00FF00</item>/>\n+        <!--<item name=\"android:layout_width\">fill_parent</item>-->\n+        <!--<item name=\"android:layout_height\">wrap_content</item>-->\n+        <!--<item name=\"android:capitalize\">characters</item>-->\n+        <!--<item name=\"android:typeface\">monospace</item>-->\n+        <!--<item name=\"android:textSize\">12pt</item>-->\n+        <!--<item name=\"android:textColor\">#00FF00</item>/>-->\n     </style>\n     <style name=\"CustomFontStyle\">\n     </style>"
  }, {
    "sha" : "a879b542d52807ed521f389c5df060e8e8d42807",
    "filename" : "app/src/main/res/xml/file_paths.xml",
    "status" : "added",
    "additions" : 6,
    "deletions" : 0,
    "changes" : 6,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/xml/file_paths.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889/app/src/main/res/xml/file_paths.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/res/xml/file_paths.xml?ref=bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
    "patch" : "@@ -0,0 +1,6 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<paths>\n+    <files-path\n+        name=\"myimages\"\n+        path=\"images/\"/>\n+</paths>\n\\ No newline at end of file"
  } ],
  "sha" : "bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
  "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/bee7c9d6c0495eeaa2f403b0fb9d16b624e57889",
  "parents" : [ {
    "sha" : "1f3881f3c3a3d5034374a0119c16372fba9bb844",
    "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/1f3881f3c3a3d5034374a0119c16372fba9bb844",
    "html_url" : "https://github.com/hzuapps/android-labs/commit/1f3881f3c3a3d5034374a0119c16372fba9bb844"
  } ]
}