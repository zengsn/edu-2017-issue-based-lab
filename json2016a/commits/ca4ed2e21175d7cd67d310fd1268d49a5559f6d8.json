{
  "committer" : null,
  "stats" : {
    "total" : 1148,
    "additions" : 1148,
    "deletions" : 0
  },
  "author" : null,
  "html_url" : "https://github.com/hzuapps/android-labs/commit/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8",
  "commit" : {
    "author" : {
      "name" : "unknown",
      "email" : "廖慧莉",
      "date" : "2016-06-07T02:02:54Z"
    },
    "committer" : {
      "name" : "unknown",
      "email" : "廖慧莉",
      "date" : "2016-06-07T02:02:54Z"
    },
    "message" : "#95 By #239",
    "tree" : {
      "sha" : "83ecdea2e3fd0fe9f4fe618cfb98a0d9c2748563",
      "url" : "https://api.github.com/repos/hzuapps/android-labs/git/trees/83ecdea2e3fd0fe9f4fe618cfb98a0d9c2748563"
    },
    "url" : "https://api.github.com/repos/hzuapps/android-labs/git/commits/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/android-labs/commits/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/comments",
  "files" : [ {
    "sha" : "d678f73d328e40bdc783f03d86f9311b4585c808",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/AndroidManifest.xml",
    "status" : "added",
    "additions" : 27,
    "deletions" : 0,
    "changes" : 27,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/AndroidManifest.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/AndroidManifest.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/AndroidManifest.xml?ref=ca4ed2e21175d7cd67d310fd1268d49a5559f6d8",
    "patch" : "@@ -0,0 +1,27 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    package=\"edu.hzuapps.androidworks.homeworks.net1314080903117\">\n+\n+    <uses-sdk\n+        android:minSdkVersion=\"15\"\n+        android:targetSdkVersion=\"21\" />\n+\n+    <application\n+        android:allowBackup=\"true\"\n+        android:icon=\"@mipmap/ic_launcher\"\n+        android:label=\"@string/app_name\"\n+        android:supportsRtl=\"true\"\n+        android:theme=\"@style/AppTheme\">\n+        <activity\n+            android:name=\".Net1314080903117Activity\"\n+            android:label=\"@string/app_name\" >\n+            <intent-filter>\n+                <action android:name=\"android.intent.action.MAIN\" />\n+\n+                <category android:name=\"android.intent.category.LAUNCHER\" />\n+            </intent-filter>\n+        </activity>\n+\n+    </application>\n+\n+</manifest>\n\\ No newline at end of file"
  }, {
    "sha" : "fb30e5b4d9952ce47d92e7564b5a258afdfba47e",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117Activity.java",
    "status" : "added",
    "additions" : 283,
    "deletions" : 0,
    "changes" : 283,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117Activity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117Activity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117Activity.java?ref=ca4ed2e21175d7cd67d310fd1268d49a5559f6d8",
    "patch" : "@@ -0,0 +1,283 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903117;\n+\n+\n+\n+import android.graphics.Color;\n+import android.os.Bundle;\n+import android.support.v4.app.Fragment;\n+import android.support.v4.app.FragmentActivity;\n+import android.support.v4.app.FragmentManager;\n+import android.support.v4.app.FragmentTransaction;\n+import android.view.View;\n+import android.view.View.OnClickListener;\n+import android.view.Window;\n+import android.widget.ImageButton;\n+import android.widget.LinearLayout;\n+import android.widget.TextView;\n+\n+/**\n+ * �����ǳ����MainActivity\n+ * �̳���FragmentActivity\n+ * ʵ���˵������¼�\n+ * @author Charlie\n+ *\n+ */\n+public class Net1314080903117Activity extends FragmentActivity implements OnClickListener {\n+\t//���ײ����ּ���\n+\tprivate LinearLayout mTabHome;\n+\tprivate LinearLayout mTabMessage;\n+\tprivate LinearLayout mTabSendMsg;\n+\tprivate LinearLayout mTabSearch;\n+\tprivate LinearLayout mTabMy;\n+\t\n+\t//�ײ�Tab��ť��ͼ�갴ť\n+\tprivate ImageButton mImgHome;\n+\tprivate ImageButton mImgMessage;\n+\tprivate ImageButton mImgSendMsg;\n+\tprivate ImageButton mImgSearch;\n+\tprivate ImageButton mImgMy;\n+\n+\t//�ײ�Tab��ť�����ֿؼ�\n+\tprivate TextView mTextHome;\n+\tprivate TextView mTextMessage;\n+\tprivate TextView mTextSearch;\n+\tprivate TextView mTextMy;\n+\n+\t//�������Fragment\n+\tprivate Fragment mFrgHome;\n+\tprivate Fragment mFrgMessage;\n+\tprivate Fragment mFrgSendMsg;\n+\tprivate Fragment mFrgSearch;\n+\tprivate Fragment mFrgMy;\n+\t\n+\t\n+\n+\t@Override\n+\tprotected void onCreate(Bundle savedInstanceState) {\n+\t\tsuper.onCreate(savedInstanceState);\n+\t\trequestWindowFeature(Window.FEATURE_NO_TITLE);\n+\t\tsetContentView(R.layout.activity_net1314080903117);\n+\t\n+\t\t//ʵ��ؼ�\n+\t\tinitView();\n+\t\t//���ڳ�ʼ���¼�\n+\t\tinitEvent();\n+\t\t//�����������Ĭ�ϼ���Home��ҳ�Ľ���\n+\t\tsetSelect(0);\n+\t\t\n+\t}\n+\n+\n+\t/**\n+\t * ������Ҫ���ڿؼ��ĳ�ʼ����������֣��͸��ť\n+\t */\n+\tprivate void initView() {\n+\t\t/**\n+\t\t * Tab LinearLayout���ֲ���\n+\t\t */\n+\t\tmTabHome = (LinearLayout) findViewById(R.id.tab_home);\n+\t\tmTabMessage = (LinearLayout) findViewById(R.id.tab_message);\n+\t\tmTabSendMsg = (LinearLayout) findViewById(R.id.tab_sendmessage);\n+\t\tmTabSearch = (LinearLayout) findViewById(R.id.tab_search);\n+\t\tmTabMy = (LinearLayout) findViewById(R.id.tab_myself);\n+\t\t\n+\t\t/**\n+\t\t * Tab ��ť�е�ͼ��Button����\n+\t\t */\n+\t\tmImgHome = (ImageButton) findViewById(R.id.tab_home_img);\n+\t\tmImgMessage = (ImageButton) findViewById(R.id.tab_message_img);\n+\t\tmImgSendMsg = (ImageButton) findViewById(R.id.tab_sendmessage_img);\n+\t\tmImgSearch = (ImageButton) findViewById(R.id.tab_search_img);\n+\t\tmImgMy = (ImageButton) findViewById(R.id.tab_myself_img);\n+\n+\t\t/**\n+\t\t * Tab ��ť�еײ�������TextView����\n+\t\t */\n+\t\tmTextHome = (TextView) findViewById(R.id.tab_home_tv);\n+\t\tmTextMessage = (TextView) findViewById(R.id.tab_message_tv);\n+\t\tmTextSearch = (TextView) findViewById(R.id.tab_search_tv);\n+\t\tmTextMy = (TextView) findViewById(R.id.tab_myself_tv);\n+\n+\n+\t}\n+\t\n+\t/**\n+\t * �ؼ������¼���ע��\n+\t */\n+\tprivate void initEvent() {\n+\t\tmTabHome.setOnClickListener(this);\n+\t\tmTabMessage.setOnClickListener(this);\n+\t\tmTabSendMsg.setOnClickListener(this);\n+\t\tmTabSearch.setOnClickListener(this);\n+\t\tmTabMy.setOnClickListener(this);\n+\t\t\n+\t}\n+\t\n+\t/**\n+\t * ѡ��ǰ����\n+\t * @param i\n+\t */\n+\tprivate void setSelect(int i){\n+\t\tFragmentManager fm = getSupportFragmentManager();\n+\t\tFragmentTransaction transaction = fm.beginTransaction();\n+\t\t/**\n+\t\t * ����ʵ�µĽ����ʱ��������֮ǰ�Ľ���\n+\t\t * ͨ��Switch�ж�\n+\t\t */\n+\t\thideFragment(transaction);\n+\t\t\n+\t\tswitch (i) {\n+\t\tcase 0:\n+\t\t\t/**\n+\t\t\t * ���жϵ�ǰ�����Ƿ���ڣ��ٽ��н�����ƣ���ֹ�ڴ��˷�\n+\t\t\t * 1.��ǰ��ͼ�����ڣ��ʹ���\n+\t\t\t * 2.��ͼ���ڣ���ֱ����ʾ\n+\t\t\t * ����case Ҳһ��\n+\t\t\t */\n+\t\t\tif (mFrgHome == null) {\n+\t\t\t\tmFrgHome = new Net1314080903117HomeFragment();\n+\n+\t\t\t\t\n+\t\t\t\ttransaction.add(R.id.id_content, mFrgHome);\n+\t\t\t}else {\n+\t\t\t\ttransaction.show(mFrgHome);\n+\t\t\t}\n+\t\t\t//ѡ���˸ý��棬���Ӧ��ͼ�껻������ɫ��\n+\t\t\tmImgHome.setImageResource(R.mipmap.tabbar_home_highlighted);\n+\t\t\t//ѡ���˸ý��棬���Ӧ��������ɫҲ�ı�\n+\t\t\tmTextHome.setTextColor(Color.parseColor(\"#FF8E29\"));\n+\t\t\tbreak;\n+\t\tcase 1:\n+\t\t\tif (mFrgMessage == null) {\n+\t\t\t\tmFrgMessage = new Net1314080903117MessageFragment();\n+\t\t\t\ttransaction.add(R.id.id_content, mFrgMessage);\n+\t\t\t\t\n+\t\t\t}else {\n+\t\t\t\ttransaction.show(mFrgMessage);\n+\t\t\t}\n+\t\t\tmImgMessage.setImageResource(R.mipmap.tabbar_message_center_highlighted);\n+\t\t\tmTextMessage.setTextColor(Color.parseColor(\"#FF8E29\"));\n+\t\t\tbreak;\n+\t\t\t\n+\t\tcase 2:\n+\t\t\tif (mFrgSendMsg == null) {\n+\t\t\t\tmFrgSendMsg = new Net1314080903117SendMsgFragment();\n+\t\t\t\ttransaction.add(R.id.id_content, mFrgSendMsg);\n+\t\t\t}else {\n+\t\t\t\ttransaction.show(mFrgSendMsg);\n+\t\t\t}\n+\t\t\tmImgSendMsg.setImageResource(R.mipmap.navigationbar_subsribe_manage_highlighted);\n+\t\t\tbreak;\n+\t\t\t\n+\t\tcase 3:\n+\t\t\tif (mFrgSearch == null) {\n+\t\t\t\tmFrgSearch = new Net1314080903117SearchFragment();\n+\t\t\t\ttransaction.add(R.id.id_content, mFrgSearch);\n+\t\t\t\t\n+\t\t\t}else {\n+\t\t\t\ttransaction.show(mFrgSearch);\n+\t\t\t}\n+\t\t\tmImgSearch.setImageResource(R.mipmap.tabbar_discover_highlighted);\n+\t\t\tmTextSearch.setTextColor(Color.parseColor(\"#FF8E29\"));\n+\t\t\tbreak;\n+\t\tcase 4:\n+\t\t\tif (mFrgMy == null) {\n+\t\t\t\tmFrgMy = new Net1314080903117MyFragment();\n+\t\t\t\ttransaction.add(R.id.id_content, mFrgMy);\n+\t\t\t}else {\n+\t\t\t\ttransaction.show(mFrgMy);\n+\t\t\t}\n+\t\t\tmImgMy.setImageResource(R.mipmap.tabbar_profile_highlighted);\n+\t\t\tmTextMy.setTextColor(Color.parseColor(\"#FF8E29\"));\n+\t\t\tbreak;\n+\t\t\n+\n+\t\tdefault:\n+\t\t\tbreak;\n+\t\t}\n+\t\t//�ύ����\n+\t\ttransaction.commit();\n+\t}\n+\t\n+\t/**\n+\t * ӵ������Fragment����ֹ�����ص�\n+\t * @param transaction\n+\t */\n+\tprivate void hideFragment(FragmentTransaction transaction)\n+\t{\n+\t\t/**\n+\t\t * �жϵ�ǰ��ʾ�����Ƿ�Ϊ�գ���Ϊ�վ���Ҫ���أ��ձ�ʾ�ý��沢δ��ʾ���������ز���\n+\t\t */\n+\t\tif (mFrgHome != null)\n+\t\t{\n+\t\t\ttransaction.hide(mFrgHome);\n+\t\t}\n+\t\tif (mFrgMessage != null)\n+\t\t{\n+\t\t\ttransaction.hide(mFrgMessage);\n+\t\t}\n+\t\tif (mFrgSendMsg != null)\n+\t\t{\n+\t\t\ttransaction.hide(mFrgSendMsg);\n+\t\t}\n+\t\tif (mFrgSearch != null)\n+\t\t{\n+\t\t\ttransaction.hide(mFrgSearch);\n+\t\t}\n+\t\tif (mFrgMy != null)\n+\t\t{\n+\t\t\ttransaction.hide(mFrgMy);\n+\t\t}\n+\t}\n+\t\n+\t/**\n+\t * ÿ��ѡ����ǰ�����ʱ����Ҫ���ø÷��������ڽ���ײ�Tab���tab��ͼ���ʼ�����ָ�������ɫ״̬\n+\t */\n+\tprivate void resetImgs(){\n+\t\tmImgHome.setImageResource(R.mipmap.tabbar_home);\n+\t\tmImgMessage.setImageResource(R.mipmap.tabbar_message_center);\n+\t\tmImgSendMsg.setImageResource(R.mipmap.navigationbar_subsribe_manage);\n+\t\tmImgSearch.setImageResource(R.mipmap.tabbar_discover);\n+\t\tmImgMy.setImageResource(R.mipmap.tabbar_profile);\n+\n+\t\t/**\n+\t\t * �趨�ײ�����ɫΪ��ɫ\n+\t\t */\n+\t\tmTextHome.setTextColor(Color.BLACK);\n+\t\tmTextMessage.setTextColor(Color.BLACK);\n+\t\tmTextSearch.setTextColor(Color.BLACK);\n+\t\tmTextMy.setTextColor(Color.BLACK);\n+\t}\n+\n+\n+/**\n+ * �����¼��Ĵ�����ݵ��İ�ť���ѡ��Ҫ��ʾ�Ľ���\n+ */\n+\t@Override\n+\tpublic void onClick(View v) {\n+\t\tresetImgs();//��ʼ�����ͼ�����ɫ���Ƚ����ͼ������Ϊ����ɫͼ��\n+\t\tswitch (v.getId()) {\n+\t\tcase R.id.tab_home:\n+\t\t\tsetSelect(0);\n+\t\t\tbreak;\n+\t\tcase R.id.tab_message:\n+\t\t\tsetSelect(1);\n+\t\t\tbreak;\n+\t\tcase R.id.tab_sendmessage:\n+\t\t\tsetSelect(2);\n+\t\t\tbreak;\n+\t\tcase R.id.tab_search:\n+\t\t\tsetSelect(3);\n+\t\t\tbreak;\n+\t\tcase R.id.tab_myself:\n+\t\t\tsetSelect(4);\n+\t\t\tbreak;\n+\n+\t\tdefault:\n+\t\t\tbreak;\n+\t\t}\n+\t\t\n+\t}\n+\n+\t\n+}"
  }, {
    "sha" : "bda71f8233f6ea47783ccbd198a9167ae9689643",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117HomeFragment.java",
    "status" : "added",
    "additions" : 201,
    "deletions" : 0,
    "changes" : 201,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117HomeFragment.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117HomeFragment.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117HomeFragment.java?ref=ca4ed2e21175d7cd67d310fd1268d49a5559f6d8",
    "patch" : "@@ -0,0 +1,201 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903117;\n+\n+import android.annotation.SuppressLint;\n+import android.os.Bundle;\n+import android.os.Handler;\n+import android.support.v4.app.Fragment;\n+import android.view.LayoutInflater;\n+import android.view.View;\n+import android.view.ViewGroup;\n+\n+import java.text.SimpleDateFormat;\n+import java.util.ArrayList;\n+import java.util.Date;\n+import java.util.List;\n+import java.util.Random;\n+\n+import edu.hzuapps.androidworks.homeworks.net1314080903117.Net1314080903117ReflashListView.IReflashListener;\n+\n+/**\n+ * �ý���Ϊ��ҳ���棬ʵ�����Զ���ListView�е����ˢ�µĽӿ�\n+ * @author Charlie\n+ *\n+ */\n+@SuppressLint(\"SimpleDateFormat\")\n+public class Net1314080903117HomeFragment extends Fragment implements IReflashListener {\n+\n+\tprivate List<Net1314080903117Message> mList;//List��������΢����Ϣ��ݵ����\n+\tprivate Net1314080903117MessageAdapter mAdapter;//ListView��Adapter������\n+\tprivate Net1314080903117ReflashListView mReflashListView;//�Զ����ListView\n+\t/**\n+\t * ���ڻ�ȡ��ǰʱ���ʱ���ʽ��ת��\n+\t */\n+\tprivate Date date ;\n+\tprivate SimpleDateFormat format;\n+\t\n+\t@Override\n+\tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n+\t\t/**\n+\t\t * �����ԴID �󶨵�ǰ����Ĳ����ļ�\n+\t\t */\n+\t\tView view = inflater.inflate(R.layout.net1314080903117fragment_home, container,false);\n+\t\t/*\n+\t\t * �Զ���ListView�ؼ��Ĳ���\n+\t\t */\n+\t\tmReflashListView = (Net1314080903117ReflashListView) view.findViewById(R.id.id_reflash_Listview);\n+\t\t/**\n+\t\t * ��ǰϵͳʱ��ĳ�ʼ��\n+\t\t * formatʱ��ת��Ϊ��yyyy-MM-dd HH:mm:ss��ʽ\n+\t\t */\n+\t\tdate = new Date();\n+\t\tformat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n+\t\t//���ڳ�ʼ��΢����Ϣ���\n+\t\tinitData();\n+\t\t/**\n+\t\t * mAdapter ΪListView��������������г�ʼ�������뵱ǰ�����ģ���װ��΢����Ϣ��ݵ�List����\n+\t\t */\n+\t\tmAdapter = new Net1314080903117MessageAdapter(getContext(), mList);\n+\t\t//ΪListView������������������ˢ�ºͼ��ظ��ļ���\n+\t\tmReflashListView.setAdapter(mAdapter);\n+\t\tmReflashListView.setReflashListener(this);\n+\t\treturn view;\n+\t}\n+\n+\t/**\n+\t * ���ڳ�ʼ��΢����ҳ΢����Ϣ����ʾ���\n+\t */\n+\tprivate void initData() {\n+\t\tmList = new ArrayList<>();\n+\t\tNet1314080903117Message msg = null ;\n+\t\tfor (int i = 0; i < 15; i++) {\n+\t\t\tmsg = new Net1314080903117Message();\n+\t\t\t/**\n+\t\t\t * ΢����Ϣͷ�����getRandomIcon���������һ��ͷ��\n+\t\t\t */\n+\t\t\tmsg.setMessageIcon(getRandomIcon());\n+\t\t\tmsg.setMessageUser(\"Charlie\");\n+\t\t\tmsg.setMessageContent(\"����΢�������ݣ������\"+i);\n+\t\t\tmsg.setMessageTime(format.format(date));\n+\t\t\tmList.add(msg);//��΢����Ϣ��ӵ�List������\n+\t\t}\n+\t\t\n+\t\t\n+\t}\n+\t/**\n+\t * ����0-6�������\n+\t * ��ݲ��������������һ��ͷ����ԴId\n+\t * @return\n+\t */\n+\tprivate int getRandomIcon(){\n+\t\tRandom rand = new Random();\n+\t\tint randNum = rand.nextInt(6);\n+\t\tif (randNum==0) {\n+\t\t\treturn R.drawable.net1314080903117icon1;\n+\t\t}\n+\t\tif (randNum==1) {\n+\t\t\treturn R.drawable.net1314080903117icon2;\n+\t\t}\n+\t\tif (randNum==2) {\n+\t\t\treturn R.drawable.net1314080903117icon3;\n+\t\t}\n+\t\tif (randNum==3) {\n+\t\t\treturn R.drawable.net1314080903117icon4;\n+\t\t}\n+\t\tif (randNum==4) {\n+\t\t\treturn R.drawable.net1314080903117icon5;\n+\t\t}\n+\t\tif (randNum==5) {\n+\t\t\treturn R.drawable.net1314080903117icon6;\n+\t\t}\n+\t\treturn R.drawable.net1314080903117icon3;\n+\t}\n+\n+\t/**\n+\t * ʵ�����ˢ�º�ķ���\n+\t */\n+\t@Override\n+\tpublic void onReflash() {\n+\t\t/*\n+\t\t * ���Ȼ�ȡ�������\n+\t\t * ����ִ�и÷���������������\n+\t\t * Ȼ��֪ͨ������ʾ\n+\t\t * ���ListViewˢ��������\n+\t\t */\n+\t\tHandler handler = new Handler();\n+\t\thandler.postDelayed(new Runnable() {\n+\t\t\t\n+\t\t\t@Override\n+\t\t\tpublic void run() {\n+\t\t\t\t//���ø÷������ˢ�����\n+\t\t\t\tmList = addNewData(mList);\n+\t\t\t\t//ˢ�����\n+\t\t\t\tmReflashListView.reflashComplete();\n+\t\t\t\t//����������\n+\t\t\t\tmAdapter.notifyDataSetChanged();\n+\t\t\t}\n+\t\t}, 2000);\n+\t}\n+\n+\t/**\n+\t * ����������\n+\t */\n+\t@Override\n+\tpublic void onLoad() {\n+\t\t/*\n+\t\t * ���Ȼ�ȡ�������\n+\t\t * ����ִ�и÷���������������\n+\t\t * Ȼ��֪ͨ������ʾ\n+\t\t * ���ListViewˢ��������\n+\t\t */\n+\t\t\n+\t\tHandler handler = new Handler();\n+\t\thandler.postDelayed(new Runnable() {\n+\t\t\t\n+\t\t\t@Override\n+\t\t\tpublic void run() {\n+\t\t\t\t//���ü�����ݵķ���\n+\t\t\t\tmList = addLoadData(mList);\n+\t\t\t\tmReflashListView.reflashComplete();\n+\t\t\t\tmAdapter.notifyDataSetChanged();\n+\t\t\t}\n+\t\t}, 2000);\n+\t}\n+\t\n+\t/**\n+\t * ����������µ���ݵ�List������\n+\t * \n+\t * @param list ԭ�ȵ��������������ϼ������\n+\t * @return\n+\t */\n+\tprivate List<Net1314080903117Message> addNewData(List<Net1314080903117Message> list){\n+\t\tNet1314080903117Message msg= null;\n+\t\tfor (int i = 0; i < 3; i++) {\n+\t\t\tmsg = new Net1314080903117Message();\n+\t\t\tmsg.setMessageIcon(R.drawable.net1314080903117icon1);\n+\t\t\tmsg.setMessageUser(\"Charlieˢ��\");\n+\t\t\tmsg.setMessageTime(format.format(date));\n+\t\t\tmsg.setMessageContent(\"�������ˢ�³����������\"+i);\n+\t\t\tlist.add(0,msg);//��0��ʼ��ӣ��Ϳ��Խ������ӵ�������ʾ\n+\t\t}\n+\t\treturn list;\n+\t\t\n+\t}\n+\t/**\n+\t * ���ڼ����������ݣ���ӵ�ԭ��������\n+\t * @param list\n+\t * @return\n+\t */\n+\tprivate List<Net1314080903117Message> addLoadData(List<Net1314080903117Message> list){\n+\t\tNet1314080903117Message msg= null;\n+\t\tfor (int i = 0; i < 3; i++) {\n+\t\t\tmsg = new Net1314080903117Message();\n+\t\t\tmsg.setMessageIcon(R.drawable.net13140809031117iconload);\n+\t\t\tmsg.setMessageUser(\"��Charlie\");\n+\t\t\tmsg.setMessageTime(format.format(date));\n+\t\t\tmsg.setMessageContent(\"���Ǽ��ص�������\"+i);\n+\t\t\tlist.add(msg);\n+\t\t}\n+\t\treturn list;\n+\t}\n+\n+}"
  }, {
    "sha" : "022bdddf755792deeb44e28c53001bbd24502bb8",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117Message.java",
    "status" : "added",
    "additions" : 41,
    "deletions" : 0,
    "changes" : 41,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117Message.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117Message.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117Message.java?ref=ca4ed2e21175d7cd67d310fd1268d49a5559f6d8",
    "patch" : "@@ -0,0 +1,41 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903117;\n+/**\n+ * ������ʾ΢����Ϣ��ʵ����\n+ * ʵ����set��get����\n+ * @author Charlie\n+ *\n+ */\n+public class Net1314080903117Message {\n+\tprivate int messageIcon;//΢����Ϣ��ͷ��\n+\tprivate String messageUser;//΢����Ϣ�������û���\n+\tprivate String messageTime;//΢����Ϣ������ʱ��\n+\tprivate String messageContent;//΢����Ϣ����������\n+\tpublic int getMessageIcon() {\n+\t\treturn messageIcon;\n+\t}\n+\tpublic void setMessageIcon(int messageIcon) {\n+\t\tthis.messageIcon = messageIcon;\n+\t}\n+\tpublic String getMessageUser() {\n+\t\treturn messageUser;\n+\t}\n+\tpublic void setMessageUser(String messageUser) {\n+\t\tthis.messageUser = messageUser;\n+\t}\n+\tpublic String getMessageTime() {\n+\t\treturn messageTime;\n+\t}\n+\tpublic void setMessageTime(String messageTime) {\n+\t\tthis.messageTime = messageTime;\n+\t}\n+\tpublic String getMessageContent() {\n+\t\treturn messageContent;\n+\t}\n+\tpublic void setMessageContent(String messageContent) {\n+\t\tthis.messageContent = messageContent;\n+\t}\n+\t\n+\t\n+\t\n+\n+}"
  }, {
    "sha" : "c2ba078b68d6e619aaf6b99721940363bf611800",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117MessageAdapter.java",
    "status" : "added",
    "additions" : 106,
    "deletions" : 0,
    "changes" : 106,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117MessageAdapter.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117MessageAdapter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117MessageAdapter.java?ref=ca4ed2e21175d7cd67d310fd1268d49a5559f6d8",
    "patch" : "@@ -0,0 +1,106 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903117;\n+\n+import android.content.Context;\n+import android.view.View;\n+import android.view.ViewGroup;\n+import android.widget.BaseAdapter;\n+import android.widget.ImageView;\n+import android.widget.TextView;\n+\n+import java.util.List;\n+\n+/**\n+ * ����ΪReflashListview��������\n+ * �̳���BaseAdapter\n+ * ��дBaseAdapter���ĸ��\n+ * @author Charlie\n+ *\n+ */\n+public class Net1314080903117MessageAdapter extends BaseAdapter {\n+\tprivate List<Net1314080903117Message> mList;//΢����Ϣ�������\n+\tprivate Context mContext;//��ȡ�����Ķ���\n+\t\n+\t\n+\t/**\n+\t * ����������Ĺ��췽��\n+\t * @param context �����Ķ���\n+\t * @param list  ��Ϣ���\n+\t */\n+\tpublic Net1314080903117MessageAdapter(Context context, List<Net1314080903117Message> list) {\n+\t\tmContext = context;\n+\t\tmList = list;\n+\t}\n+\t/**\n+\t * ��ȡItem �ĸ���\n+\t */\n+\t@Override\n+\tpublic int getCount() {   return mList.size();  }\n+\n+\t/**\n+\t * ��ʾ��ǰ�������ʾ�����\n+\t */\n+\t@Override\n+\tpublic Object getItem(int position) {\n+\t\t\n+\t\treturn mList.get(position);\n+\t}\n+\n+\t/**\n+\t * ��ȡ��ǰλ��\n+\t */\n+\t@Override\n+\tpublic long getItemId(int position) {\n+\t\t// TODO Auto-generated method stub\n+\t\treturn position;\n+\t}\n+\n+\t/**\n+\t * ��ȡ��ǰ��View\n+\t * Ϊ�˷�ֹ�ڴ���Ĺ��ʹ��MessageViewHolder�ʵ��\n+\t * �����Դ������\n+\t */\n+\t@Override\n+\tpublic View getView(final int position, View convertView, ViewGroup parent) {\n+\t\tfinal MessageViewHolder viewHolder;\n+\t\tif (convertView == null) {\n+\t\t\tviewHolder = new MessageViewHolder();\n+\t\t\t//��ȡListView��Item����Ĳ���item_listview\n+\t\t\tconvertView = View.inflate(mContext, R.layout.net1314080903117item_listview, null);\n+\t\t\t//ͨ��View ����Ҷ�Ӧ�Ŀؼ�\n+\t\t\tviewHolder.messageIcon = (ImageView) convertView.findViewById(R.id.id_message_icon);\n+\t\t\tviewHolder.messageUser = (TextView) convertView.findViewById(R.id.id_message_User);\n+\t\t\tviewHolder.messageTime = (TextView) convertView.findViewById(R.id.id_message_Time);\n+\t\t\tviewHolder.messageContent = (TextView) convertView.findViewById(R.id.id_message_content);\n+\t\t\tconvertView.setTag(viewHolder);\n+\t\t}else {\n+\t\t\tviewHolder = (MessageViewHolder) convertView.getTag();\n+\t\t}\n+\t\t/**\n+\t\t * Ϊ���ؼ����и�ֵ�����position���ȡ��ǰҪ��ʾ����ݣ�����ʾ���\n+\t\t */\n+\t    viewHolder.messageIcon.setImageResource(mList.get(position).getMessageIcon());\n+\t\tviewHolder.messageUser.setText(mList.get(position).getMessageUser());\n+\t\tviewHolder.messageTime.setText(mList.get(position).getMessageTime());\n+\t\tviewHolder.messageContent.setText(mList.get(position).getMessageContent());\n+\t\treturn convertView;\n+\t}\n+\t\n+\t/**\n+\t * ʹ��ViewHolder�����Բ���ÿ��������getView��ʱ�򶼴����µĶ���\n+\t * ��������������\n+\t * ���ҽ������ڴ����\n+\t * @author Charlie\n+\t *\n+\t */\n+\tclass MessageViewHolder{\n+\t\t/**\n+\t\t * ListView ��Item�еĿؼ�\n+\t\t */\n+\t\tpublic ImageView messageIcon;\n+\t\tpublic TextView messageUser;\n+\t\tpublic TextView messageTime;\n+\t\tpublic TextView messageContent;\n+\t\t\n+\t}\n+\n+}"
  }, {
    "sha" : "59bd6761f15dc3e5ebcf76d7880dc2b1d9c29fc3",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117MessageFragment.java",
    "status" : "added",
    "additions" : 21,
    "deletions" : 0,
    "changes" : 21,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117MessageFragment.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117MessageFragment.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117MessageFragment.java?ref=ca4ed2e21175d7cd67d310fd1268d49a5559f6d8",
    "patch" : "@@ -0,0 +1,21 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903117;\n+\n+import android.os.Bundle;\n+import android.support.v4.app.Fragment;\n+import android.view.LayoutInflater;\n+import android.view.View;\n+import android.view.ViewGroup;\n+\n+/**\n+ * ��Ϣ�������\n+ * @author Charlie\n+ *\n+ */\n+public class Net1314080903117MessageFragment extends Fragment {\n+\t\n+\t@Override\n+\tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n+\t\treturn inflater.inflate(R.layout.net1314080903117fragment_message,container, false);\n+\t}\n+\n+}"
  }, {
    "sha" : "d95fb2c99cb0c746d3e9e072c66e616eca4c57c4",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117MyFragment.java",
    "status" : "added",
    "additions" : 21,
    "deletions" : 0,
    "changes" : 21,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117MyFragment.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117MyFragment.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117MyFragment.java?ref=ca4ed2e21175d7cd67d310fd1268d49a5559f6d8",
    "patch" : "@@ -0,0 +1,21 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903117;\n+\n+import android.os.Bundle;\n+import android.support.v4.app.Fragment;\n+import android.view.LayoutInflater;\n+import android.view.View;\n+import android.view.ViewGroup;\n+\n+/**\n+ * �ҵ������\n+ * @author Charlie\n+ *\n+ */\n+public class Net1314080903117MyFragment extends Fragment {\n+\t@Override\n+\tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n+\t\t// TODO Auto-generated method stub\n+\t\treturn inflater.inflate(R.layout.net1314080903117fragment_my, container,false);\n+\t}\n+\n+}"
  }, {
    "sha" : "c340dc1600a1108ca1855efe4e210b8b2b4a962d",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117ReflashListView.java",
    "status" : "added",
    "additions" : 406,
    "deletions" : 0,
    "changes" : 406,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117ReflashListView.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117ReflashListView.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117ReflashListView.java?ref=ca4ed2e21175d7cd67d310fd1268d49a5559f6d8",
    "patch" : "@@ -0,0 +1,406 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903117;\n+\n+import android.annotation.SuppressLint;\n+import android.content.Context;\n+import android.util.AttributeSet;\n+import android.view.LayoutInflater;\n+import android.view.MotionEvent;\n+import android.view.View;\n+import android.view.ViewGroup;\n+import android.view.animation.RotateAnimation;\n+import android.widget.AbsListView;\n+import android.widget.AbsListView.OnScrollListener;\n+import android.widget.ImageView;\n+import android.widget.ListView;\n+import android.widget.ProgressBar;\n+import android.widget.TextView;\n+\n+import java.text.SimpleDateFormat;\n+import java.util.Date;\n+\n+@SuppressLint({ \"InflateParams\", \"ClickableViewAccessibility\", \"SimpleDateFormat\" })\n+public class Net1314080903117ReflashListView extends ListView implements OnScrollListener {\n+\t\n+\tView header;//����һ��ȫ��View��Ϊ���������ļ���\n+\tView footer;//����һ��ȫ�ֵ�View��Ϊ�ײ������ļ�\n+\t\n+\tint headerHeight;//���������ļ��ĸ߶�\n+\tint firstVisibleItem;//��ǰ�����һ��ɼ��item��λ�ã�\n+\tboolean isRemark;//��ǣ��ж��Ƿ���ListView���������ģ�\n+\tint startY;//��ʼ���ʱ��Yֵ\n+\t\n+\tint state;//��ǰ��״̬\n+\tfinal int NONE = 0;//��״̬\n+\tfinal int PULL = 1; //���ʱ����ʾ�����ˢ�µ�״̬\n+\tfinal int RELESE = 2; //�����һ���߶Ⱥ���ʾ�ɿ�����ˢ�µ�״̬\n+\tfinal int REFLASHING = 3; // �ɿ��Ժ�����ˢ���е�״̬��\n+\t\n+\tint scrollState;//ListView��ǰ�Ĺ�״̬\n+\n+\tIReflashListener iReflashListener;\n+\t\n+\t\n+\tint totalItemCount;\n+\tint lastVisibleItem;\n+\tboolean isLoading;\n+\tprivate TextView loading = null;\n+\tprivate ProgressBar pBarLoading = null;\n+\t\n+\t\n+\n+\tpublic Net1314080903117ReflashListView(Context context, AttributeSet attrs, int defStyleAttr) {\n+\t\tsuper(context, attrs, defStyleAttr);\n+\t\t// TODO Auto-generated constructor stub\n+\t\tinitView(context);\n+\t}\n+\tpublic Net1314080903117ReflashListView(Context context, AttributeSet attrs) {\n+\t\tsuper(context, attrs);\n+\t\t// TODO Auto-generated constructor stub\n+\t\tinitView(context);\n+\t}\n+\tpublic Net1314080903117ReflashListView(Context context) {\n+\t\tsuper(context);\n+\t\t// TODO Auto-generated constructor stub\n+\t\tinitView(context);\n+\t}\n+\t\n+\t/*\n+\t * ��ʼ�������ļ�����Ӳ����ļ���ListView�У�����ÿ���췽���е���\n+\t */\n+\tprivate void initView(Context context){\n+\t\t//�����������ļ����,�ײ��ļ����\n+\t\tLayoutInflater inflater = LayoutInflater.from(context);\n+\t\theader = inflater.inflate(R.layout.net1314080903117header_layout, null);\n+\t\t\n+\t\t\n+\t\tfooter = inflater.inflate(R.layout.net1314080903117footer,null);\n+\t\t//��Ҫ�Ƚ��ײ���������\n+\t\tfooter.setVisibility(View.GONE);\n+\n+\n+\t\t/**\n+\t\t * ����������ֵĸ߶ȺͿ��\n+\t\t */\n+\t\tmeasureView(header);\n+\t\t\n+\t\t//���������ֵĸ߶ȵĸ�ֵ�ȴ���topPadding����\n+\t\theaderHeight = header.getMeasuredHeight();\n+\t\ttopPadding(-headerHeight);//���븺ֵ������ʾ�����˶�����ˢ�²���\n+\t\t\n+\t\t//������Ĳ����ļ���ӵ�ListView�У�ͨ��addHeaderView()�ķ���\n+\t\t/**\n+\t\t * ��Ӷ����͵ײ�����\n+\t\t */\n+\t\tthis.addHeaderView(header);\n+\t\tthis.addFooterView(footer);\n+\t\t\n+\t\t//�趨ListView�Ĺ�����¼�\n+\t\tthis.setOnScrollListener(this);\n+\t\t\n+\t\tloading = (TextView) footer.findViewById(R.id.loading);\n+\t\tpBarLoading = (ProgressBar) footer.findViewById(R.id.progressbar);\n+\t\t\n+\t}\n+\t\n+\t/**\n+\t * ֪ͨ������ListView�������ļ�����Ҫ�Ŀ�Ⱥ͸߶�\n+\t * @param view\n+\t */\n+\tprivate void measureView(View view){\n+\t\t\n+\t\tViewGroup.LayoutParams p = view.getLayoutParams();\n+\t\tif (p == null) {\n+\t\t\tp = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,\n+\t\t\t\t\tViewGroup.LayoutParams.WRAP_CONTENT);\n+\t\t}\n+\t\t/*\n+\t\t * ����һ���ȣ���ȡ�Ӳ��ֵĿ��\n+\t\t * spec Ϊ��ǰheader�����ұ߾�\n+\t\t * padding Ϊ��ǰheader���ڱ߾�\n+\t\t * childDimension Ϊ�Ӳ��ֵĿ��\n+\t\t */\n+\t\tint width = ViewGroup.getChildMeasureSpec(0, 0, p.width);\n+\t\tint height;\n+\t\tint tempHeight = p.height;\n+\t\tif (tempHeight > 0) {\n+\t\t\t/*\n+\t\t\t * mode ģʽΪMeasureSpec.EXACTLY\n+\t\t\t * �߶Ȳ�Ϊ�յ�ʱ����䲼��\n+\t\t\t */\n+\t\t\theight = MeasureSpec.makeMeasureSpec(tempHeight, MeasureSpec.EXACTLY);\n+\t\t\t\n+\t\t}else {\n+\t\t\t//�߶�Ϊ0ʱ�����������\n+\t\t\theight = MeasureSpec.makeMeasureSpec(0, MeasureSpec.UNSPECIFIED);\n+\t\t}\n+\t\tview.measure(width, height);\n+\t\t\n+\t}\n+\t\n+\t/**\n+\t * ����ķ���������һ��߶�\n+\t * �����ö������ֵ��ϱ߾�\n+\t * ��߾ࡢ�ұ߾ࡢ�ױ߾಻�䣬�ϱ߾���Ϊ����ĸ߶�\n+\t * @param topPadding\n+\t */\n+\tprivate void topPadding(int topPadding) {\n+\t\t// TODO Auto-generated method stub\n+\t\theader.setPadding(header.getPaddingLeft(), topPadding, \n+\t\t\t\theader.getPaddingRight(), header.getPaddingBottom());\n+\t\t/**\n+\t\t * ���»��ƽ���\n+\t\t */\n+\t\theader.invalidate();\n+\t\t\n+\t\t\n+\t}\n+\n+\t/**\n+\t * ��д��״̬�ı�ķ���\n+\t * @param view\n+\t * @param scrollState\n+     */\n+    @Override\n+\tpublic void onScrollStateChanged(AbsListView view, int scrollState) {\n+\t\t// TODO Auto-generated method stub\n+\t\tthis.scrollState = scrollState;\n+\t\t/**\n+\t\t * SCROLL_STATE_IDLE��ʾ��ǰ��״̬Ϊ����\n+\t\t */\n+\t\tif (totalItemCount == lastVisibleItem && scrollState == SCROLL_STATE_IDLE) {\n+\t\t\tif (!isLoading) {\n+\t\t\t\tisLoading = true;\n+\t\t\t\tfooter.setVisibility(View.VISIBLE);\n+\t\t\t\tloading.setText(\"���ظ��\");\n+\t\t\t\tiReflashListener.onLoad();\n+\t\t\t}\n+\t\t}\n+\t\t\n+\t\t\n+\t}\n+\n+\t@Override\n+\tpublic void onScroll(AbsListView view, int firstVisibleItem, int visibleItemCount, int totalItemCount) {\n+\t\t// TODO Auto-generated method stub\n+\t\tthis.firstVisibleItem = firstVisibleItem;\n+\t\tthis.totalItemCount = totalItemCount;\n+\t\tthis.lastVisibleItem = firstVisibleItem+visibleItemCount;\n+\t\t\n+\t}\n+\t\n+\t/**\n+\t * ���ü������ƴ����¼�\n+\t */\n+\t@Override\n+\tpublic boolean onTouchEvent(MotionEvent ev) {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t\tswitch (ev.getAction()) {\n+\t\tcase MotionEvent.ACTION_DOWN:\n+\t\t\t//�жϵ�ǰ�����Ƿ��ڽ������\n+\t\t\tif (firstVisibleItem == 0) {\n+\t\t\t\tisRemark = true;\n+\t\t\t\t//��¼���ʱ��ʼ��Yֵ\n+\t\t\t\tstartY = (int) ev.getY();\n+\t\t\t\t\n+\t\t\t}\n+\t\t\t\n+\t\t\tbreak;\n+\n+\t\tcase MotionEvent.ACTION_UP:\n+\t\t\t//�жϵ�ǰ״̬\n+\t\t\tif (state == RELESE) {\n+\t\t\t\tstate = REFLASHING;\n+\t\t\t\t//�����������\n+\t\t\t\treflashViewByState();\n+\t\t\t\t//���ýӿڵ�ˢ�·���\n+\t\t\t\tiReflashListener.onReflash();\n+\t\t\t}else if(state == PULL){\n+\t\t\t\t//����ˢ�µ�״̬�Ļ����Ͳ�������ݣ���״̬��Ϊ���״̬\n+\t\t\t\tstate =NONE;\n+\t\t\t\tisRemark = false;\n+\t\t\t\treflashViewByState();\n+\t\t\t}\n+\t\t\t\n+\t\t\t\n+\t\t\tbreak;\n+\t\tcase MotionEvent.ACTION_MOVE:\n+\t\t\t\n+\t\t\tonMove(ev);\n+\t\t\tbreak;\n+\t\t}\n+\t\treturn super.onTouchEvent(ev);\n+\t}\n+\t\n+\t/**\n+\t * �ж������ƶ�����еĲ���\n+\t */\n+\tprivate void onMove(MotionEvent ev) {\n+\t\t// TODO Auto-generated method stub\n+\t\tif (!isRemark) {\n+\t\t\treturn ;\n+\t\t}\n+\t\t//��ȡ��ǰ�����λ��\n+\t\tint tempY =(int) ev.getY();\n+\t\t//��ȡ�����ʼ�ƶ��˵ľ���\n+\t\tint space = tempY - startY;\n+\t\t//�趨���ƶ���̶������ֵ�topPadding��ֵ�����������ʾ��������\n+\t\tint topPadding = space - headerHeight;\n+\t\tswitch (state) {\n+\t\tcase NONE:\n+\t\t\tif (space > 0) {\n+\t\t\t\tstate =PULL;\n+\t\t\t\treflashViewByState();\n+\t\t\t}\n+\t\t\tbreak;\n+\t\tcase PULL:\n+\t\t\ttopPadding(topPadding);\n+\t\t\t//����������һ���߶ȵ�ʱ�򣬲��ҹ�״̬Ϊ���ڹ���\n+\t\t\tif (space > headerHeight+30 && scrollState == SCROLL_STATE_TOUCH_SCROLL) {\n+\t\t\t\tstate = RELESE;\n+\t\t\t\treflashViewByState();\n+\t\t\t}\n+\t\t\tbreak;\n+\t\tcase RELESE:\n+\t\t\ttopPadding(topPadding);\n+\t\t\t//���С��һ���ĸ߶ȣ�״̬����������ˢ��״̬\n+\t\t\tif (space < headerHeight+30) {\n+\t\t\t\tstate = PULL;\n+\t\t\t\treflashViewByState();\n+\t\t\t}else if (space <=0) {\n+\t\t\t\tstate = NONE;\n+\t\t\t\tisRemark = false;\n+\t\t\t\treflashViewByState();\n+\t\t\t}\n+\t\t\tbreak;\n+\t\t}\n+\t\t\n+\t}\n+\t/**\n+\t * ��ݵ�ǰ��״̬�ˢ����ʾ����\n+\t */\n+\tprivate void reflashViewByState(){\n+\t\t\n+\t\tTextView tip = (TextView) header.findViewById(R.id.tip);\n+\t\tImageView arrow = (ImageView) header.findViewById(R.id.arrow);\n+\t\tProgressBar progressBar = (ProgressBar) header.findViewById(R.id.progressbar);\n+\t\t\n+\t\t/**\n+\t\t * ���ͷ��Ӷ���Ч��\n+\t\t * һ��ʼ��0--180�ȱ仯\n+\t\t */\n+\t\tRotateAnimation rotateAnimation = new RotateAnimation(0,180,\n+\t\t\t\tRotateAnimation.RELATIVE_TO_SELF,0.5f,\n+\t\t\t\tRotateAnimation.RELATIVE_TO_SELF,0.5F);\n+\t\t//�趨����֮���ʱ����\n+\t\trotateAnimation.setDuration(800);\n+\t\trotateAnimation.setFillAfter(true);\n+\t\t\n+\t\t//����תЧ��\n+\t\tRotateAnimation rotateAnimation1 = new RotateAnimation(180,0,\n+\t\t\t\tRotateAnimation.RELATIVE_TO_SELF,0.5f,\n+\t\t\t\tRotateAnimation.RELATIVE_TO_SELF,0.5F);\n+\t\t//�趨����֮���ʱ����\n+\t\trotateAnimation1.setDuration(800);\n+\t\trotateAnimation1.setFillAfter(true);\n+\t\t\n+\t\tswitch (state) {\n+\t\tcase NONE:\n+\t\t\t//��״̬����ʾ������topPadding��ֵΪ��ֵ����\n+\t\t\ttopPadding(-headerHeight);\n+\t\t\tarrow.clearAnimation();\n+\t\t\tbreak;\n+\t\tcase PULL:\n+\t\t\t//���״̬����ʾ��ͷΪ���״̬�������Ϊ����״̬\n+\t\t\tarrow.setVisibility(View.VISIBLE);\n+\t\t\tprogressBar.setVisibility(View.GONE);\n+\t\t\ttip.setText(\"=���أ�=���ˢ���\");\n+\t\t\t//�����Ч�������ö���Ч���ͷ��180��0�ȱ仯\n+\t\t\tarrow.clearAnimation();\n+\t\t\tarrow.setAnimation(rotateAnimation1);\n+\t\t\tbreak;\n+\t\tcase RELESE:\n+\t\t\t//�ɿ�����ˢ�µ�״̬����ʾ��ʾ�ļ�ͷ�������״̬�����������\n+\t\t\tarrow.setVisibility(View.VISIBLE);\n+\t\t\tprogressBar.setVisibility(View.GONE);\n+\t\t\ttip.setText(\"�ҷſ����Ҿͱ����\");\n+\t\t\tarrow.clearAnimation();\n+\t\t\tarrow.setAnimation(rotateAnimation);\n+\t\t\tbreak;\n+\n+\t\tcase REFLASHING:\n+\t\t\t//����ˢ�µ�״̬���ڹ̶��ĸ߶���ʾ��������ʧ����ʾ��ͷ���أ������Ϊ��ʾ״̬\n+\t\t\ttopPadding(30);\n+\t\t\tarrow.setVisibility(View.GONE);\n+\t\t\tprogressBar.setVisibility(View.VISIBLE);\n+\t\t\ttip.setText(\"������...\");\n+\t\t\tarrow.clearAnimation();\n+\t\t\tbreak;\n+\t\t}\n+\t\t\n+\t\t\n+\t}\n+\t\n+\t//���ˢ������Ժ��������\n+\tpublic void reflashComplete(){\n+\t\tstate = NONE;\n+\t\tisRemark = false;\n+\t\t//ˢ�µ�ǰ����\n+\t\treflashViewByState();\n+\t\t//�趨�ϴθ���ʱ��\n+\t\tTextView lastupdatatime = (TextView) header.findViewById(R.id.lastupdate_time);\n+\t\tSimpleDateFormat format = new SimpleDateFormat(\"HH:mm:ss\");\n+\t\tDate date = new Date();\n+\t\tString time = format.format(date);\n+\t\tlastupdatatime.setText(\"�ϴθ��£�\"+time);\n+\t}\n+\t\n+\tpublic void allDataReflashComplete(){\n+\t\tisRemark =false;\n+\t\tTextView tip = (TextView) header.findViewById(R.id.tip);\n+\t\ttip.setText(\"ľ������ݿ����ȵȹ�\");\n+\t\t\n+\t}\n+\t\n+\tpublic void GoneHeader() {\n+\t\ttopPadding(-headerHeight);\n+\t\theader.setVisibility(View.GONE);\n+\t}\n+\t\n+\tpublic void loadingComplete(){\n+\t\tisLoading = false;\n+\t\tfooter.setVisibility(View.GONE);\n+\t\t\n+\t}\n+\tpublic void addDataLoadingComplete(){\n+\t\tisLoading =false;\n+\t\tloading.setText(\"ȫ������Ѽ������\");\n+\t\tpBarLoading.setVisibility(View.GONE);\n+\t}\n+\t\n+\t\n+\t\n+\t\n+\t\n+\t//�趨һ��������ӿ�������\n+\tpublic void setReflashListener(IReflashListener iReflashListener){\n+\t\tthis.iReflashListener =iReflashListener;\n+\t}\n+\t\n+\t\n+\t/*\n+\t * ������һ��ˢ����ݵĽӿ�\n+\t * ��Ҫ��MainActivity��ȥʵ�����ӿ�\n+\t */\n+\tpublic interface IReflashListener{\n+\t\t/*\n+\t\t * �ӿ��ж�������\n+\t\t * onReflash���������ˢ�µķ���\n+\t\t * onLoad����������Զ����ظ��ķ���\n+\t\t */\n+\t\tpublic void onReflash();\n+\t\tpublic void onLoad();\n+\t\t\n+\t}\n+\n+}"
  }, {
    "sha" : "943a14e3c10612b88e5ffef391d486c2ecfb6e56",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117SearchFragment.java",
    "status" : "added",
    "additions" : 21,
    "deletions" : 0,
    "changes" : 21,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117SearchFragment.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117SearchFragment.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117SearchFragment.java?ref=ca4ed2e21175d7cd67d310fd1268d49a5559f6d8",
    "patch" : "@@ -0,0 +1,21 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903117;\n+\n+import android.os.Bundle;\n+import android.support.v4.app.Fragment;\n+import android.view.LayoutInflater;\n+import android.view.View;\n+import android.view.ViewGroup;\n+\n+/**\n+ * ���ֵ������\n+ * @author Charlie\n+ *\n+ */\n+public class Net1314080903117SearchFragment extends Fragment {\n+\t@Override\n+\tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n+\t\t\n+\t\treturn inflater.inflate(R.layout.net1314080903117fragment_search, container,false);\n+\t}\n+\n+}"
  }, {
    "sha" : "b74cd43f4fe3a6a539a073abde4b57658fe2b55d",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117SendMsgFragment.java",
    "status" : "added",
    "additions" : 21,
    "deletions" : 0,
    "changes" : 21,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117SendMsgFragment.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117SendMsgFragment.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903117/Net1314080903117SendMsgFragment.java?ref=ca4ed2e21175d7cd67d310fd1268d49a5559f6d8",
    "patch" : "@@ -0,0 +1,21 @@\n+package edu.hzuapps.androidworks.homeworks.net1314080903117;\n+\n+import android.os.Bundle;\n+import android.support.v4.app.Fragment;\n+import android.view.LayoutInflater;\n+import android.view.View;\n+import android.view.ViewGroup;\n+\n+/**\n+ * ����΢���������\n+ * @author Charlie\n+ *\n+ */\n+public class Net1314080903117SendMsgFragment extends Fragment {\n+\t@Override\n+\tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n+\t\t// TODO Auto-generated method stub\n+\t\treturn inflater.inflate(R.layout.net1314080903117fragment_search, container,false);\n+\t}\n+\n+}"
  } ],
  "sha" : "ca4ed2e21175d7cd67d310fd1268d49a5559f6d8",
  "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/ca4ed2e21175d7cd67d310fd1268d49a5559f6d8",
  "parents" : [ {
    "sha" : "c4e6a10932d317efeef1846967f401b839fbc783",
    "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/c4e6a10932d317efeef1846967f401b839fbc783",
    "html_url" : "https://github.com/hzuapps/android-labs/commit/c4e6a10932d317efeef1846967f401b839fbc783"
  } ]
}