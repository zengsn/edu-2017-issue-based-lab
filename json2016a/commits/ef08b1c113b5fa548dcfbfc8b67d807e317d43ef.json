{
  "committer" : {
    "login" : "zengsn",
    "id" : 627946,
    "avatar_url" : "https://avatars.githubusercontent.com/u/627946?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/zengsn",
    "html_url" : "https://github.com/zengsn",
    "followers_url" : "https://api.github.com/users/zengsn/followers",
    "following_url" : "https://api.github.com/users/zengsn/following{/other_user}",
    "gists_url" : "https://api.github.com/users/zengsn/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/zengsn/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/zengsn/subscriptions",
    "organizations_url" : "https://api.github.com/users/zengsn/orgs",
    "repos_url" : "https://api.github.com/users/zengsn/repos",
    "events_url" : "https://api.github.com/users/zengsn/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/zengsn/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "stats" : {
    "total" : 806,
    "additions" : 806,
    "deletions" : 0
  },
  "author" : {
    "login" : "zengsn",
    "id" : 627946,
    "avatar_url" : "https://avatars.githubusercontent.com/u/627946?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/zengsn",
    "html_url" : "https://github.com/zengsn",
    "followers_url" : "https://api.github.com/users/zengsn/followers",
    "following_url" : "https://api.github.com/users/zengsn/following{/other_user}",
    "gists_url" : "https://api.github.com/users/zengsn/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/zengsn/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/zengsn/subscriptions",
    "organizations_url" : "https://api.github.com/users/zengsn/orgs",
    "repos_url" : "https://api.github.com/users/zengsn/repos",
    "events_url" : "https://api.github.com/users/zengsn/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/zengsn/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "html_url" : "https://github.com/hzuapps/android-labs/commit/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef",
  "commit" : {
    "author" : {
      "name" : "Zeng Shaoning",
      "email" : "shaoning.zeng@gmail.com",
      "date" : "2016-05-09T13:59:44Z"
    },
    "committer" : {
      "name" : "Zeng Shaoning",
      "email" : "shaoning.zeng@gmail.com",
      "date" : "2016-05-09T13:59:44Z"
    },
    "message" : "Merge pull request #644 from 13WZH/master\n\n#88 #121 net1314080903238实验二",
    "tree" : {
      "sha" : "afb7a47659e2a9bc9cef6f733d1a40b2d959e83a",
      "url" : "https://api.github.com/repos/hzuapps/android-labs/git/trees/afb7a47659e2a9bc9cef6f733d1a40b2d959e83a"
    },
    "url" : "https://api.github.com/repos/hzuapps/android-labs/git/commits/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/android-labs/commits/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/comments",
  "files" : [ {
    "sha" : "c23790c9a3e3528772da757cd20648359fcd33a8",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238AlarmReceiver.java",
    "status" : "added",
    "additions" : 23,
    "deletions" : 0,
    "changes" : 23,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238AlarmReceiver.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238AlarmReceiver.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238AlarmReceiver.java?ref=ef08b1c113b5fa548dcfbfc8b67d807e317d43ef",
    "patch" : "@@ -0,0 +1,23 @@\n+package app.src.main.java.edu.hzuapps.androidworks.homeworks.net1314080903238;\n+\n+import android.app.AlarmManager;\n+import android.app.PendingIntent;\n+import android.content.BroadcastReceiver;\n+import android.content.Context;\n+import android.content.Intent;\n+\n+public class Net1314080903238AlarmReceiver extends BroadcastReceiver {\n+\n+\t@Override\n+\tpublic void onReceive(Context context, Intent intent) {\n+\t\tSystem.out.println(\"����ʱ\");\n+\t\t\n+\t\tAlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n+\t\tam.cancel(PendingIntent.getBroadcast(context, getResultCode(), new Intent(context, Net1314080903238AlarmReceiver.class), 0));\n+\t\t\n+\t\tIntent i = new Intent(context, Net1314080903238PlayAlarmAty.class);\n+\t\ti.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n+\t\tcontext.startActivity(i);\n+\t}\n+\n+}"
  }, {
    "sha" : "19dd58f4331f463d1eaf943a06a1d12db700b2ec",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238AlarmView.java",
    "status" : "added",
    "additions" : 213,
    "deletions" : 0,
    "changes" : 213,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238AlarmView.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238AlarmView.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238AlarmView.java?ref=ef08b1c113b5fa548dcfbfc8b67d807e317d43ef",
    "patch" : "@@ -0,0 +1,213 @@\n+package app.src.main.java.edu.hzuapps.androidworks.homeworks.net1314080903238;\n+\n+import java.util.Calendar;\n+\n+import com.jikexueyuan.jkxyclock.R;\n+\n+import android.app.AlarmManager;\n+import android.app.AlertDialog;\n+import android.app.PendingIntent;\n+import android.app.TimePickerDialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.Intent;\n+import android.content.SharedPreferences;\n+import android.content.SharedPreferences.Editor;\n+import android.util.AttributeSet;\n+import android.view.View;\n+import android.widget.AdapterView;\n+import android.widget.ArrayAdapter;\n+import android.widget.Button;\n+import android.widget.LinearLayout;\n+import android.widget.ListView;\n+import android.widget.TimePicker;\n+\n+public class Net1314080903238AlarmView extends LinearLayout {\n+\n+\t//\tpublic AlarmView(Context context, AttributeSet attrs, int defStyle) {\n+\t//\t\tsuper(context, attrs, defStyle);\n+\t//\t\t// TODO Auto-generated constructor stub\n+\t//\t}\n+\n+\tpublic Net1314080903238AlarmView(Context context, AttributeSet attrs) {\n+\t\tsuper(context, attrs);\n+\t\tinit();\n+\t}\n+\n+\tpublic Net1314080903238AlarmView(Context context) {\n+\t\tsuper(context);\n+\t\tinit();\n+\t}\n+\n+\tprivate void init(){\n+\t\talarmManager = (AlarmManager) getContext().getSystemService(Context.ALARM_SERVICE);\n+\t}\n+\n+\t@Override\n+\tprotected void onFinishInflate() {\n+\t\tsuper.onFinishInflate();\n+\n+\t\tbtnAddAlarm = (Button) findViewById(R.id.btnAddAlarm);\n+\t\tlvAlarmList = (ListView) findViewById(R.id.lvAlarmList);\n+\n+\t\tadapter = new ArrayAdapter<Net1314080903238AlarmView.AlarmData>(getContext(), android.R.layout.simple_list_item_1);\n+\t\tlvAlarmList.setAdapter(adapter);\n+\t\treadSavedAlarmList();\n+\n+\t\tbtnAddAlarm.setOnClickListener(new View.OnClickListener() {\n+\n+\t\t\t@Override\n+\t\t\tpublic void onClick(View v) {\n+\t\t\t\taddAlarm();\n+\t\t\t}\n+\t\t});\n+\n+\t\tlvAlarmList.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {\n+\n+\t\t\t@Override\n+\t\t\tpublic boolean onItemLongClick(AdapterView<?> parent, View view,\n+\t\t\t\t\tfinal int position, long id) {\n+\t\t\t\tnew AlertDialog.Builder(getContext()).setTitle(\"�Ƿ�ɾ�������\").setItems(new CharSequence[]{\"ȷ��ɾ��\"}, new DialogInterface.OnClickListener() {\n+\n+\t\t\t\t\t@Override\n+\t\t\t\t\tpublic void onClick(DialogInterface dialog, int which) {\n+\n+\t\t\t\t\t\tswitch (which) {\n+\t\t\t\t\t\tcase 0:\n+\t\t\t\t\t\t\tdeleteAlarm(position);\n+\t\t\t\t\t\t\tbreak;\n+\t\t\t\t\t\tdefault:\n+\t\t\t\t\t\t\tbreak;\n+\t\t\t\t\t\t}\n+\n+\t\t\t\t\t}\n+\t\t\t\t}).setNegativeButton(\"ȡ��\", null).show();\n+\n+\t\t\t\treturn true;\n+\t\t\t}\n+\t\t});\n+\t}\n+\n+\n+\tprivate void deleteAlarm(int position){\n+\t\tAlarmData ad = adapter.getItem(position);\n+\t\tadapter.remove(ad);\n+\t\tsaveAlarmList();\n+\t\t\n+\t\talarmManager.cancel(PendingIntent.getBroadcast(getContext(), ad.getId(), new Intent(getContext(), Net1314080903238AlarmReceiver.class), 0));\n+\t}\n+\n+\n+\tprivate void addAlarm(){\n+\t\t//TODO \n+\t\t\n+\t\tCalendar c = Calendar.getInstance();\n+\n+\t\tnew TimePickerDialog(getContext(), new TimePickerDialog.OnTimeSetListener() {\n+\n+\t\t\t@Override\n+\t\t\tpublic void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n+\n+\t\t\t\tCalendar calendar = Calendar.getInstance();\n+\t\t\t\tcalendar.set(Calendar.HOUR_OF_DAY, hourOfDay);\n+\t\t\t\tcalendar.set(Calendar.MINUTE, minute);\n+\t\t\t\tcalendar.set(Calendar.SECOND, 0);\n+\t\t\t\tcalendar.set(Calendar.MILLISECOND, 0);\n+\n+\t\t\t\tCalendar currentTime = Calendar.getInstance();\n+\n+\t\t\t\tif (calendar.getTimeInMillis()<=currentTime.getTimeInMillis()) {\n+\t\t\t\t\tcalendar.setTimeInMillis(calendar.getTimeInMillis()+24*60*60*1000);\n+\t\t\t\t}\n+\n+\t\t\t\tAlarmData ad = new AlarmData(calendar.getTimeInMillis());\n+\t\t\t\tadapter.add(ad);\n+\t\t\t\talarmManager.setRepeating(AlarmManager.RTC_WAKEUP, \n+\t\t\t\t\t\tad.getTime(), \n+\t\t\t\t\t\t5*60*1000, \n+\t\t\t\t\t\tPendingIntent.getBroadcast(getContext(), ad.getId(), new Intent(getContext(), Net1314080903238AlarmReceiver.class), 0));\n+\t\t\t\tsaveAlarmList();\n+\t\t\t\t\n+\t\t\t}\n+\t\t}, c.get(Calendar.HOUR_OF_DAY), c.get(Calendar.MINUTE), true).show();\n+\t}\n+\n+\tprivate void saveAlarmList(){\n+\t\tEditor editor = getContext().getSharedPreferences(Net1314080903238AlarmView.class.getName(), Context.MODE_PRIVATE).edit();\n+\n+\t\tStringBuffer sb = new StringBuffer();\n+\t\tfor (int i = 0; i < adapter.getCount(); i++) {\n+\t\t\tsb.append(adapter.getItem(i).getTime()).append(\",\");\n+\t\t}\n+\n+\t\tif (sb.length()>1) {\n+\t\t\tString content = sb.toString().substring(0, sb.length()-1);\n+\n+\t\t\teditor.putString(KEY_ALARM_LIST, content);\n+\n+\t\t\tSystem.out.println(content);\n+\t\t}else{\n+\t\t\teditor.putString(KEY_ALARM_LIST, null);\n+\t\t}\n+\n+\t\teditor.commit();\n+\t}\n+\n+\tprivate void readSavedAlarmList(){\n+\t\tSharedPreferences sp = getContext().getSharedPreferences(Net1314080903238AlarmView.class.getName(), Context.MODE_PRIVATE);\n+\t\tString content = sp.getString(KEY_ALARM_LIST, null);\n+\n+\t\tif (content!=null) {\n+\t\t\tString[] timeStrings = content.split(\",\");\n+\t\t\tfor (String string : timeStrings) {\n+\t\t\t\tadapter.add(new AlarmData(Long.parseLong(string)));\n+\t\t\t}\n+\t\t}\n+\t}\n+\n+\n+\tprivate Button btnAddAlarm;\n+\tprivate ListView lvAlarmList;\n+\tprivate static final String KEY_ALARM_LIST = \"alarmList\";\n+\tprivate ArrayAdapter<AlarmData> adapter;\n+\tprivate AlarmManager alarmManager;\n+\n+\tprivate static class AlarmData{\n+\t\tpublic AlarmData(long time) {\n+\t\t\tthis.time = time;\n+\n+\t\t\tdate = Calendar.getInstance();\n+\t\t\tdate.setTimeInMillis(time);\n+\n+\t\t\ttimeLabel = String.format(\"%d��%d��%d:%d\", \n+\t\t\t\t\tdate.get(Calendar.MONTH)+1,\n+\t\t\t\t\tdate.get(Calendar.DAY_OF_MONTH),\n+\t\t\t\t\tdate.get(Calendar.HOUR_OF_DAY),\n+\t\t\t\t\tdate.get(Calendar.MINUTE));\n+\t\t}\n+\n+\t\tpublic long getTime() {\n+\t\t\treturn time;\n+\t\t}\n+\n+\t\tpublic String getTimeLabel() {\n+\t\t\treturn timeLabel;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\treturn getTimeLabel();\n+\t\t}\n+\t\t\n+\t\tpublic int getId(){\n+\t\t\treturn (int)(getTime()/1000/60);\n+\t\t}\n+\n+\t\tprivate String timeLabel=\"\";\n+\t\tprivate long time = 0;\n+\t\tprivate Calendar date;\n+\t}\n+\n+\n+\n+}"
  }, {
    "sha" : "cca8c891a54b1f3fbe6329ffb3d430601df904ba",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238MainActivity.java",
    "status" : "added",
    "additions" : 38,
    "deletions" : 0,
    "changes" : 38,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238MainActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238MainActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238MainActivity.java?ref=ef08b1c113b5fa548dcfbfc8b67d807e317d43ef",
    "patch" : "@@ -0,0 +1,38 @@\n+package app.src.main.java.edu.hzuapps.androidworks.homeworks.net1314080903238;\n+\n+import com.jikexueyuan.jkxyclock.R;\n+\n+import android.app.Activity;\n+import android.os.Bundle;\n+import android.widget.TabHost;\n+\n+public class Net1314080903238MainActivity extends Activity {\n+\n+    @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        setContentView(R.layout.activity_main_net1314080903238);\n+        \n+        tabHost = (TabHost) findViewById(android.R.id.tabhost);\n+        tabHost.setup();\n+        \n+        tabHost.addTab(tabHost.newTabSpec(\"tabTime\").setIndicator(\"ʱ��\").setContent(R.id.tabTime));\n+        tabHost.addTab(tabHost.newTabSpec(\"tabAlarm\").setIndicator(\"����\").setContent(R.id.tabAlarm));\n+        tabHost.addTab(tabHost.newTabSpec(\"tabTimer\").setIndicator(\"����ʱ\").setContent(R.id.tabTimer));\n+        tabHost.addTab(tabHost.newTabSpec(\"tabStopWatch\").setIndicator(\"���\").setContent(R.id.tabStopWatch));\n+        \n+        net1314080903238StopWatchView = (Net1314080903238StopWatchView) findViewById(R.id.tabStopWatch);\n+    }\n+    \n+    @Override\n+    protected void onDestroy() {\n+    \t\n+    \tnet1314080903238StopWatchView.onDestory();\n+    \t\n+    \tsuper.onDestroy();\n+    }\n+    \n+    private Net1314080903238StopWatchView net1314080903238StopWatchView;\n+    private TabHost tabHost;\n+\n+}"
  }, {
    "sha" : "b9615252b2b8d6ad210d10e234cdf86161c2fbb0",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238PlayAlarmAty.java",
    "status" : "added",
    "additions" : 37,
    "deletions" : 0,
    "changes" : 37,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238PlayAlarmAty.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238PlayAlarmAty.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238PlayAlarmAty.java?ref=ef08b1c113b5fa548dcfbfc8b67d807e317d43ef",
    "patch" : "@@ -0,0 +1,37 @@\n+package app.src.main.java.edu.hzuapps.androidworks.homeworks.net1314080903238;\n+\n+import com.jikexueyuan.jkxyclock.R;\n+\n+import android.app.Activity;\n+import android.media.MediaPlayer;\n+import android.os.Bundle;\n+\n+public class Net1314080903238PlayAlarmAty extends Activity{\n+\n+\t\n+\t@Override\n+\tprotected void onCreate(Bundle savedInstanceState) {\n+\t\tsuper.onCreate(savedInstanceState);\n+\t\tsetContentView(R.layout.alarm_player_aty_net1314080903238);\n+\t\t\n+\t\tmp = MediaPlayer.create(this, R.raw.music);\n+\t\tmp.start();\n+\t}\n+\t\n+\t@Override\n+\tprotected void onPause() {\n+\t\tsuper.onPause();\n+\t\t\n+\t\tfinish();\n+\t}\n+\t\n+\t@Override\n+\tprotected void onDestroy() {\n+\t\tsuper.onDestroy();\n+\t\t\n+\t\tmp.stop();\n+\t\tmp.release();\n+\t}\n+\t\n+\tprivate MediaPlayer mp;\n+}"
  }, {
    "sha" : "60f945beac5649b7072fcaf3dd87b9b94f319e89",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238StopWatchView.java",
    "status" : "added",
    "additions" : 170,
    "deletions" : 0,
    "changes" : 170,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238StopWatchView.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238StopWatchView.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238StopWatchView.java?ref=ef08b1c113b5fa548dcfbfc8b67d807e317d43ef",
    "patch" : "@@ -0,0 +1,170 @@\n+package app.src.main.java.edu.hzuapps.androidworks.homeworks.net1314080903238;\n+\n+import java.util.Timer;\n+import java.util.TimerTask;\n+\n+import com.jikexueyuan.jkxyclock.R;\n+\n+import android.content.Context;\n+import android.os.Handler;\n+import android.util.AttributeSet;\n+import android.view.View;\n+import android.widget.ArrayAdapter;\n+import android.widget.Button;\n+import android.widget.LinearLayout;\n+import android.widget.ListView;\n+import android.widget.TextView;\n+\n+public class Net1314080903238StopWatchView extends LinearLayout {\n+\n+\tpublic Net1314080903238StopWatchView(Context context, AttributeSet attrs) {\n+\t\tsuper(context, attrs);\n+\t}\n+\t\n+\t@Override\n+\tprotected void onFinishInflate() {\n+\t\tsuper.onFinishInflate();\n+\t\t\n+\t\ttvHour = (TextView) findViewById(R.id.timeHour);\n+\t\ttvHour.setText(\"0\");\n+\t\ttvMin = (TextView) findViewById(R.id.timeMin);\n+\t\ttvMin.setText(\"0\");\n+\t\ttvSec = (TextView) findViewById(R.id.timeSec);\n+\t\ttvSec.setText(\"0\");\n+\t\ttvMSec = (TextView) findViewById(R.id.timeMSec);\n+\t\ttvMSec.setText(\"0\");\n+\t\t\n+\t\tbtnLap = (Button) findViewById(R.id.btnSWLap);\n+\t\tbtnLap.setOnClickListener(new View.OnClickListener() {\n+\t\t\t\n+\t\t\t@Override\n+\t\t\tpublic void onClick(View v) {\n+\t\t\t\tadapter.insert(String.format(\"%d:%d:%d.%d\", tenMSecs/100/60/60,tenMSecs/100/60%60,tenMSecs/100%60,tenMSecs%100), 0);\n+\t\t\t}\n+\t\t});\n+\t\tbtnPause = (Button) findViewById(R.id.btnSWPause);\n+\t\tbtnPause.setOnClickListener(new View.OnClickListener() {\n+\t\t\t\n+\t\t\t@Override\n+\t\t\tpublic void onClick(View v) {\n+\t\t\t\t\n+\t\t\t\tstopTimer();\n+\t\t\t\t\n+\t\t\t\tbtnPause.setVisibility(View.GONE);\n+\t\t\t\tbtnResume.setVisibility(View.VISIBLE);\n+\t\t\t\tbtnLap.setVisibility(View.GONE);\n+\t\t\t\tbtnReset.setVisibility(View.VISIBLE);\n+\t\t\t}\n+\t\t});\n+\t\tbtnReset = (Button) findViewById(R.id.btnSWReset);\n+\t\tbtnReset.setOnClickListener(new View.OnClickListener() {\n+\t\t\t\n+\t\t\t@Override\n+\t\t\tpublic void onClick(View v) {\n+\t\t\t\t\n+\t\t\t\tstopTimer();\n+\t\t\t\ttenMSecs = 0;\n+\t\t\t\tadapter.clear();\n+\t\t\t\t\n+\t\t\t\tbtnLap.setVisibility(View.GONE);\n+\t\t\t\tbtnPause.setVisibility(View.GONE);\n+\t\t\t\tbtnReset.setVisibility(View.GONE);\n+\t\t\t\tbtnResume.setVisibility(View.GONE);\n+\t\t\t\tbtnStart.setVisibility(View.VISIBLE);\n+\t\t\t}\n+\t\t});\n+\t\tbtnResume = (Button) findViewById(R.id.btnSWResume);\n+\t\tbtnResume.setOnClickListener(new View.OnClickListener() {\n+\t\t\t\n+\t\t\t@Override\n+\t\t\tpublic void onClick(View v) {\n+\t\t\t\t\n+\t\t\t\tstartTimer();\n+\t\t\t\tbtnResume.setVisibility(View.GONE);\n+\t\t\t\tbtnPause.setVisibility(View.VISIBLE);\n+\t\t\t\tbtnReset.setVisibility(View.GONE);\n+\t\t\t\tbtnLap.setVisibility(View.VISIBLE);\n+\t\t\t}\n+\t\t});\n+\t\tbtnStart = (Button) findViewById(R.id.btnSWStart);\n+\t\tbtnStart.setOnClickListener(new View.OnClickListener() {\n+\t\t\t\n+\t\t\t@Override\n+\t\t\tpublic void onClick(View v) {\n+\t\t\t\tstartTimer();\n+\t\t\t\t\n+\t\t\t\tbtnStart.setVisibility(View.GONE);\n+\t\t\t\tbtnPause.setVisibility(View.VISIBLE);\n+\t\t\t\tbtnLap.setVisibility(View.VISIBLE);\n+\t\t\t}\n+\t\t});\n+\t\tbtnLap.setVisibility(View.GONE);\n+\t\tbtnPause.setVisibility(View.GONE);\n+\t\tbtnReset.setVisibility(View.GONE);\n+\t\tbtnResume.setVisibility(View.GONE);\n+\t\t\n+\t\tlvTimeList=(ListView) findViewById(R.id.lvWatchTimeList);\n+\t\tadapter = new ArrayAdapter<String>(getContext(), android.R.layout.simple_list_item_1);\n+\t\tlvTimeList.setAdapter(adapter);\n+\t\t\n+\t\tshowTimeTask = new TimerTask() {\n+\t\t\t\n+\t\t\t@Override\n+\t\t\tpublic void run() {\n+\t\t\t\thander.sendEmptyMessage(MSG_WHAT_SHOW_TIME);\n+\t\t\t}\n+\t\t};\n+\t\ttimer.schedule(showTimeTask, 200, 200);\n+\t}\n+\t\n+\tprivate void startTimer(){\n+\t\tif (timerTask==null) {\n+\t\t\ttimerTask = new TimerTask() {\n+\t\t\t\t\n+\t\t\t\t@Override\n+\t\t\t\tpublic void run() {\n+\t\t\t\t\ttenMSecs++;\n+\t\t\t\t}\n+\t\t\t};\n+\t\t\ttimer.schedule(timerTask, 10, 10);\n+\t\t}\n+\t}\n+\t\n+\tprivate void stopTimer(){\n+\t\tif (timerTask!=null) {\n+\t\t\ttimerTask.cancel();\n+\t\t\ttimerTask=null;\n+\t\t}\n+\t}\n+\t\n+\tprivate int tenMSecs = 0;\n+\tprivate Timer timer = new Timer();\n+\tprivate TimerTask timerTask = null;\n+\tprivate TimerTask showTimeTask = null;\n+\n+\tprivate TextView tvHour,tvMin,tvSec,tvMSec;\n+\tprivate Button btnStart,btnResume,btnReset,btnPause,btnLap;\n+\tprivate ListView lvTimeList;\n+\tprivate ArrayAdapter<String> adapter;\n+\t\n+\tprivate Handler hander = new Handler(){\n+\t\tpublic void handleMessage(android.os.Message msg) {\n+\t\t\tswitch (msg.what) {\n+\t\t\tcase MSG_WHAT_SHOW_TIME:\n+\t\t\t\ttvHour.setText(tenMSecs/100/60/60+\"\");\n+\t\t\t\ttvMin.setText(tenMSecs/100/60%60+\"\");\n+\t\t\t\ttvSec.setText(tenMSecs/100%60+\"\");\n+\t\t\t\ttvMSec.setText(tenMSecs%100+\"\");\n+\t\t\t\tbreak;\n+\t\t\tdefault:\n+\t\t\t\tbreak;\n+\t\t\t}\n+\t\t};\n+\t};\n+\t\n+\tprivate static final int MSG_WHAT_SHOW_TIME = 1;\n+\n+\tpublic void onDestory() {\n+\t\ttimer.cancel();\n+\t}\n+}"
  }, {
    "sha" : "d85491e2b83caf365f4a4a830af29b3ac2a2c7b2",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238TimeView.java",
    "status" : "added",
    "additions" : 70,
    "deletions" : 0,
    "changes" : 70,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238TimeView.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238TimeView.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238TimeView.java?ref=ef08b1c113b5fa548dcfbfc8b67d807e317d43ef",
    "patch" : "@@ -0,0 +1,70 @@\n+package app.src.main.java.edu.hzuapps.androidworks.homeworks.net1314080903238;\n+\n+import java.util.Calendar;\n+\n+import com.jikexueyuan.jkxyclock.R;\n+\n+import android.content.Context;\n+import android.os.Handler;\n+import android.util.AttributeSet;\n+import android.view.View;\n+import android.widget.LinearLayout;\n+import android.widget.TextView;\n+\n+public class Net1314080903238TimeView extends LinearLayout {\n+\n+\tpublic Net1314080903238TimeView(Context context, AttributeSet attrs, int defStyle) {\n+\t\tsuper(context, attrs, defStyle);\n+\t}\n+\n+\tpublic Net1314080903238TimeView(Context context, AttributeSet attrs) {\n+\t\tsuper(context, attrs);\n+\t}\n+\n+\tpublic Net1314080903238TimeView(Context context) {\n+\t\tsuper(context);\n+\t}\n+\n+\t\n+\t@Override\n+\tprotected void onFinishInflate() {\n+\t\tsuper.onFinishInflate();\n+\t\t\n+\t\ttvTime = (TextView) findViewById(R.id.tvTime);\n+\t\ttvTime.setText(\"Hello\");\n+\t\t\n+\t\ttimerHandler.sendEmptyMessage(0);\n+\t}\n+\t\n+\t\n+\t@Override\n+\tprotected void onVisibilityChanged(View changedView, int visibility) {\n+\t\tsuper.onVisibilityChanged(changedView, visibility);\n+\t\t\n+\t\tif (visibility==View.VISIBLE) {\n+\t\t\ttimerHandler.sendEmptyMessage(0);\n+\t\t}else{\n+\t\t\ttimerHandler.removeMessages(0);\n+\t\t}\n+\t}\n+\t\n+\t\n+\tprivate void refreshTime(){\n+\t\tCalendar c = Calendar.getInstance();\n+\t\t\n+\t\ttvTime.setText(String.format(\"%d:%d:%d\", c.get(Calendar.HOUR_OF_DAY),c.get(Calendar.MINUTE),c.get(Calendar.SECOND)));\n+\t}\n+\t\n+\tprivate Handler timerHandler = new Handler(){\n+\t\t\n+\t\tpublic void handleMessage(android.os.Message msg) {\n+\t\t\trefreshTime();\n+\t\t\t\n+\t\t\tif (getVisibility()==View.VISIBLE) {\n+\t\t\t\ttimerHandler.sendEmptyMessageDelayed(0, 1000);\n+\t\t\t}\n+\t\t};\n+\t};\n+\t\n+\tprivate TextView tvTime;\n+}"
  }, {
    "sha" : "b667bc08aa5542521bbea1e681d89617b52ae6cb",
    "filename" : "app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238TimerView.java",
    "status" : "added",
    "additions" : 255,
    "deletions" : 0,
    "changes" : 255,
    "blob_url" : "https://github.com/hzuapps/android-labs/blob/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238TimerView.java",
    "raw_url" : "https://github.com/hzuapps/android-labs/raw/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238TimerView.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs/contents/app/src/main/java/edu/hzuapps/androidworks/homeworks/net1314080903238/Net1314080903238TimerView.java?ref=ef08b1c113b5fa548dcfbfc8b67d807e317d43ef",
    "patch" : "@@ -0,0 +1,255 @@\n+package app.src.main.java.edu.hzuapps.androidworks.homeworks.net1314080903238;\n+\n+import java.util.Timer;\n+import java.util.TimerTask;\n+\n+import com.jikexueyuan.jkxyclock.R;\n+\n+import android.app.AlertDialog;\n+import android.content.Context;\n+import android.os.Handler;\n+import android.text.Editable;\n+import android.text.TextUtils;\n+import android.text.TextWatcher;\n+import android.util.AttributeSet;\n+import android.view.View;\n+import android.widget.Button;\n+import android.widget.EditText;\n+import android.widget.LinearLayout;\n+\n+public class Net1314080903238TimerView extends LinearLayout {\n+\n+\tpublic Net1314080903238TimerView(Context context, AttributeSet attrs) {\n+\t\tsuper(context, attrs);\n+\t}\n+\n+\tpublic Net1314080903238TimerView(Context context) {\n+\t\tsuper(context);\n+\t}\n+\n+\n+\t@Override\n+\tprotected void onFinishInflate() {\n+\t\tsuper.onFinishInflate();\n+\n+\t\tbtnPause = (Button) findViewById(R.id.btnPause);\n+\t\tbtnPause.setOnClickListener(new View.OnClickListener() {\n+\t\t\t\n+\t\t\t@Override\n+\t\t\tpublic void onClick(View v) {\n+\t\t\t\t\n+\t\t\t\tstopTimer();\n+\t\t\t\t\n+\t\t\t\tbtnPause.setVisibility(View.GONE);\n+\t\t\t\tbtnResume.setVisibility(View.VISIBLE);\n+\t\t\t}\n+\t\t});\n+\t\tbtnReset = (Button) findViewById(R.id.btnReset);\n+\t\tbtnReset.setOnClickListener(new View.OnClickListener() {\n+\t\t\t\n+\t\t\t@Override\n+\t\t\tpublic void onClick(View v) {\n+\t\t\t\t\n+\t\t\t\tstopTimer();\n+\t\t\t\t\n+\t\t\t\tetHour.setText(\"0\");\n+\t\t\t\tetMin.setText(\"0\");\n+\t\t\t\tetSec.setText(\"0\");\n+\t\t\t\t\n+\t\t\t\tbtnReset.setVisibility(View.GONE);\n+\t\t\t\tbtnResume.setVisibility(View.GONE);\n+\t\t\t\tbtnPause.setVisibility(View.GONE);\n+\t\t\t\tbtnStart.setVisibility(View.VISIBLE);\n+\t\t\t}\n+\t\t});\n+\t\tbtnResume = (Button) findViewById(R.id.btnResume);\n+\t\tbtnResume.setOnClickListener(new View.OnClickListener() {\n+\t\t\t\n+\t\t\t@Override\n+\t\t\tpublic void onClick(View v) {\n+\t\t\t\t\n+\t\t\t\tstartTimer();\n+\t\t\t\t\n+\t\t\t\tbtnResume.setVisibility(View.GONE);\n+\t\t\t\tbtnPause.setVisibility(View.VISIBLE);\n+\t\t\t}\n+\t\t});\n+\t\tbtnStart = (Button) findViewById(R.id.btnStart);\n+\t\tbtnStart.setOnClickListener(new View.OnClickListener() {\n+\t\t\t\n+\t\t\t@Override\n+\t\t\tpublic void onClick(View v) {\n+\t\t\t\tstartTimer();\n+\t\t\t\t\n+\t\t\t\tbtnStart.setVisibility(View.GONE);\n+\t\t\t\tbtnPause.setVisibility(View.VISIBLE);\n+\t\t\t\tbtnReset.setVisibility(View.VISIBLE);\n+\t\t\t}\n+\t\t});\n+\t\t\n+\n+\t\tetHour = (EditText) findViewById(R.id.etHour);\n+\t\tetMin = (EditText) findViewById(R.id.etMin);\n+\t\tetSec = (EditText) findViewById(R.id.etSec);\n+\n+\t\tetHour.setText(\"00\");\n+\t\tetHour.addTextChangedListener(new TextWatcher() {\n+\n+\t\t\t@Override\n+\t\t\tpublic void onTextChanged(CharSequence s, int start, int before, int count) {\n+\t\t\t\tif (!TextUtils.isEmpty(s)) {\n+\t\t\t\t\tint value = Integer.parseInt(s.toString());\n+\n+\t\t\t\t\tif (value>59) {\n+\t\t\t\t\t\tetHour.setText(\"59\");\n+\t\t\t\t\t}else if (value<0) {\n+\t\t\t\t\t\tetHour.setText(\"0\");\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t\tcheckToEnableBtnStart();\n+\t\t\t}\n+\n+\t\t\t@Override\n+\t\t\tpublic void beforeTextChanged(CharSequence s, int start, int count,\n+\t\t\t\t\tint after) {\n+\t\t\t}\n+\n+\t\t\t@Override\n+\t\t\tpublic void afterTextChanged(Editable s) {\n+\t\t\t}\n+\t\t});\n+\t\tetMin.setText(\"00\");\n+\t\tetMin.addTextChangedListener(new TextWatcher() {\n+\n+\t\t\t@Override\n+\t\t\tpublic void onTextChanged(CharSequence s, int start, int before, int count) {\n+\t\t\t\tif (!TextUtils.isEmpty(s)) {\n+\t\t\t\t\tint value = Integer.parseInt(s.toString());\n+\n+\t\t\t\t\tif (value>59) {\n+\t\t\t\t\t\tetMin.setText(\"59\");\n+\t\t\t\t\t}else if (value<0) {\n+\t\t\t\t\t\tetMin.setText(\"0\");\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t\tcheckToEnableBtnStart();\n+\t\t\t}\n+\n+\t\t\t@Override\n+\t\t\tpublic void beforeTextChanged(CharSequence s, int start, int count,\n+\t\t\t\t\tint after) {\n+\t\t\t}\n+\n+\t\t\t@Override\n+\t\t\tpublic void afterTextChanged(Editable s) {\n+\t\t\t}\n+\t\t});\n+\t\tetSec.setText(\"00\");\n+\t\tetSec.addTextChangedListener(new TextWatcher() {\n+\n+\t\t\t@Override\n+\t\t\tpublic void onTextChanged(CharSequence s, int start, int before, int count) {\n+\t\t\t\tif (!TextUtils.isEmpty(s)) {\n+\t\t\t\t\tint value = Integer.parseInt(s.toString());\n+\n+\t\t\t\t\tif (value>59) {\n+\t\t\t\t\t\tetSec.setText(\"59\");\n+\t\t\t\t\t}else if (value<0) {\n+\t\t\t\t\t\tetSec.setText(\"0\");\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t\tcheckToEnableBtnStart();\n+\t\t\t}\n+\n+\t\t\t@Override\n+\t\t\tpublic void beforeTextChanged(CharSequence s, int start, int count,\n+\t\t\t\t\tint after) {\n+\t\t\t}\n+\n+\t\t\t@Override\n+\t\t\tpublic void afterTextChanged(Editable s) {\n+\t\t\t}\n+\t\t});\n+\n+\t\tbtnStart.setVisibility(View.VISIBLE);\n+\t\tbtnStart.setEnabled(false);\n+\t\tbtnPause.setVisibility(View.GONE);\n+\t\tbtnResume.setVisibility(View.GONE);\n+\t\tbtnReset.setVisibility(View.GONE);\n+\t}\n+\n+\tprivate void checkToEnableBtnStart(){\n+\t\tbtnStart.setEnabled((!TextUtils.isEmpty(etHour.getText())&&Integer.parseInt(etHour.getText().toString())>0)||\n+\t\t\t\t(!TextUtils.isEmpty(etMin.getText())&&Integer.parseInt(etMin.getText().toString())>0)||\n+\t\t\t\t(!TextUtils.isEmpty(etSec.getText())&&Integer.parseInt(etSec.getText().toString())>0));\n+\t}\n+\t\n+\t\n+\tprivate void startTimer(){\n+\t\tif (timerTask==null) {\n+\t\t\tallTimerCount = Integer.parseInt(etHour.getText().toString())*60*60+Integer.parseInt(etMin.getText().toString())*60+Integer.parseInt(etSec.getText().toString());\n+\t\t\ttimerTask = new TimerTask() {\n+\t\t\t\t\n+\t\t\t\t@Override\n+\t\t\t\tpublic void run() {\n+\t\t\t\t\tallTimerCount--;\n+\t\t\t\t\t\n+\t\t\t\t\thandler.sendEmptyMessage(MSG_WHAT_TIME_TICK);\n+\t\t\t\t\t\n+\t\t\t\t\tif (allTimerCount<=0) {\n+\t\t\t\t\t\thandler.sendEmptyMessage(MSG_WHAT_TIME_IS_UP);\n+\t\t\t\t\t\tstopTimer();\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t};\n+\t\t\t\n+\t\t\ttimer.schedule(timerTask, 1000, 1000);\n+\t\t}\n+\t}\n+\t\n+\tprivate void stopTimer(){\n+\t\tif (timerTask!=null) {\n+\t\t\ttimerTask.cancel();\n+\t\t\ttimerTask = null;\n+\t\t}\n+\t}\n+\t\n+\tprivate Handler handler = new Handler(){\n+\t\tpublic void handleMessage(android.os.Message msg) {\n+\t\t\tswitch (msg.what) {\n+\t\t\tcase MSG_WHAT_TIME_TICK:\n+\t\t\t\t\n+\t\t\t\tint hour = allTimerCount/60/60;\n+\t\t\t\tint min = (allTimerCount/60)%60;\n+\t\t\t\tint sec = allTimerCount%60;\n+\t\t\t\t\n+\t\t\t\tetHour.setText(hour+\"\");\n+\t\t\t\tetMin.setText(min+\"\");\n+\t\t\t\tetSec.setText(sec+\"\");\n+\t\t\t\t\n+\t\t\t\tbreak;\n+\t\t\tcase MSG_WHAT_TIME_IS_UP:\n+\t\t\t\tnew AlertDialog.Builder(getContext()).setTitle(\"Time is up\").setMessage(\"Time is up\").setNegativeButton(\"Cancel\", null).show();\n+\t\t\t\t\n+\t\t\t\tbtnReset.setVisibility(View.GONE);\n+\t\t\t\tbtnResume.setVisibility(View.GONE);\n+\t\t\t\tbtnPause.setVisibility(View.GONE);\n+\t\t\t\tbtnStart.setVisibility(View.VISIBLE);\n+\t\t\t\t\n+\t\t\t\tbreak;\n+\t\t\tdefault:\n+\t\t\t\tbreak;\n+\t\t\t}\n+\t\t};\n+\t};\n+\n+\tprivate static final int MSG_WHAT_TIME_IS_UP = 1;\n+\tprivate static final int MSG_WHAT_TIME_TICK = 2;\n+\t\n+\tprivate int allTimerCount = 0;\n+\tprivate Timer timer=new Timer();\n+\tprivate TimerTask timerTask = null;\n+\tprivate Button btnStart,btnPause,btnResume,btnReset;\n+\tprivate EditText etHour,etMin,etSec;\n+\n+}"
  } ],
  "sha" : "ef08b1c113b5fa548dcfbfc8b67d807e317d43ef",
  "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/ef08b1c113b5fa548dcfbfc8b67d807e317d43ef",
  "parents" : [ {
    "sha" : "1ae20abe7223f12407eda81929e43441a4cc6c1c",
    "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/1ae20abe7223f12407eda81929e43441a4cc6c1c",
    "html_url" : "https://github.com/hzuapps/android-labs/commit/1ae20abe7223f12407eda81929e43441a4cc6c1c"
  }, {
    "sha" : "d277112f1eb90ac0d67adddf911e4f70d8c22c24",
    "url" : "https://api.github.com/repos/hzuapps/android-labs/commits/d277112f1eb90ac0d67adddf911e4f70d8c22c24",
    "html_url" : "https://github.com/hzuapps/android-labs/commit/d277112f1eb90ac0d67adddf911e4f70d8c22c24"
  } ]
}