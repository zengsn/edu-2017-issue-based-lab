{
  "committer" : {
    "login" : "WayhomeChen",
    "id" : 22078881,
    "avatar_url" : "https://avatars.githubusercontent.com/u/22078881?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/WayhomeChen",
    "html_url" : "https://github.com/WayhomeChen",
    "followers_url" : "https://api.github.com/users/WayhomeChen/followers",
    "following_url" : "https://api.github.com/users/WayhomeChen/following{/other_user}",
    "gists_url" : "https://api.github.com/users/WayhomeChen/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/WayhomeChen/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/WayhomeChen/subscriptions",
    "organizations_url" : "https://api.github.com/users/WayhomeChen/orgs",
    "repos_url" : "https://api.github.com/users/WayhomeChen/repos",
    "events_url" : "https://api.github.com/users/WayhomeChen/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/WayhomeChen/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "stats" : {
    "total" : 3618,
    "additions" : 3182,
    "deletions" : 436
  },
  "author" : {
    "login" : "WayhomeChen",
    "id" : 22078881,
    "avatar_url" : "https://avatars.githubusercontent.com/u/22078881?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/WayhomeChen",
    "html_url" : "https://github.com/WayhomeChen",
    "followers_url" : "https://api.github.com/users/WayhomeChen/followers",
    "following_url" : "https://api.github.com/users/WayhomeChen/following{/other_user}",
    "gists_url" : "https://api.github.com/users/WayhomeChen/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/WayhomeChen/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/WayhomeChen/subscriptions",
    "organizations_url" : "https://api.github.com/users/WayhomeChen/orgs",
    "repos_url" : "https://api.github.com/users/WayhomeChen/repos",
    "events_url" : "https://api.github.com/users/WayhomeChen/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/WayhomeChen/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "html_url" : "https://github.com/hzuapps/java-web/commit/293844f5144e78cabfe74d03c90f4396c23caf63",
  "commit" : {
    "author" : {
      "name" : "ABC",
      "email" : "neigh3bor3hood3@sina.com",
      "date" : "2016-11-27T15:42:00Z"
    },
    "committer" : {
      "name" : "ABC",
      "email" : "neigh3bor3hood3@sina.com",
      "date" : "2016-11-27T15:42:00Z"
    },
    "message" : "#7 提交实验六代码\n\nCMS‘s 4th Edition.",
    "tree" : {
      "sha" : "a963c8e05ca4fa66f276292e584bb5570fae6e99",
      "url" : "https://api.github.com/repos/hzuapps/java-web/git/trees/a963c8e05ca4fa66f276292e584bb5570fae6e99"
    },
    "url" : "https://api.github.com/repos/hzuapps/java-web/git/commits/293844f5144e78cabfe74d03c90f4396c23caf63",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/java-web/commits/293844f5144e78cabfe74d03c90f4396c23caf63/comments",
  "files" : [ {
    "sha" : "eacd9209b67905c672ea1a180cecebe9e51c1440",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/Content.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 18,
    "changes" : 18,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Content.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Content.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Content.java?ref=c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb",
    "patch" : "@@ -1,18 +0,0 @@\n-package edu.hzu.javaweb.labs.se1414080902106;\n-\n-public class Content {\n-\tprivate String title;\n-\tprivate String text;\n-\tpublic String getTitle() {\n-\t\treturn title;\n-\t}\n-\tpublic void setTitle(String title) {\n-\t\tthis.title = title;\n-\t}\n-\tpublic String getText() {\n-\t\treturn text;\n-\t}\n-\tpublic void setText(String text) {\n-\t\tthis.text = text;\n-\t}\n-}"
  }, {
    "sha" : "1be8b05cf9dc65076baa0bf238124ded3c596b5f",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/EncodingFilter.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 25,
    "changes" : 25,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/src/edu/hzu/javaweb/labs/se1414080902106/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/src/edu/hzu/javaweb/labs/se1414080902106/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/EncodingFilter.java?ref=c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb",
    "patch" : "@@ -1,25 +0,0 @@\n-package edu.hzu.javaweb.labs.se1414080902106;\n-\n-import java.io.IOException;\n-import javax.servlet.*;\n-import javax.servlet.annotation.WebFilter;\n-\n-@WebFilter(filterName=\"encodingFilter\",urlPatterns=\"/*\")\n-public class EncodingFilter implements Filter {\n-\n-\t@Override\n-\tpublic void destroy() {\n-\t}\n-\n-\t@Override\n-\tpublic void doFilter(ServletRequest request, ServletResponse response,\n-\t\t\tFilterChain chain) throws IOException, ServletException {\n-\t\trequest.setCharacterEncoding(\"utf-8\");\n-\t\tchain.doFilter(request, response);\n-\t}\n-\n-\t@Override\n-\tpublic void init(FilterConfig filterConfig) throws ServletException {\t\t\n-\t}\n-\n-}"
  }, {
    "sha" : "285969915018a69b1acd0ce076417f9ff528c137",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/Login.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 50,
    "changes" : 50,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Login.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Login.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Login.java?ref=c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb",
    "patch" : "@@ -1,50 +0,0 @@\n-package edu.hzu.javaweb.labs.se1414080902106;\n-\n-import java.io.IOException;\n-\n-import javax.servlet.ServletException;\n-import javax.servlet.http.HttpServlet;\n-import javax.servlet.http.HttpServletRequest;\n-import javax.servlet.http.HttpServletResponse;\n-import javax.servlet.http.HttpSession;\n-\n-public class Login extends HttpServlet {\n-\t\n-\tpublic Login() {\n-\t\tsuper();\n-\t}\n-\n-\tpublic void destroy() {\n-\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n-\t\t// Put your code here\n-\t}\n-\n-\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n-\t\t\tthrows ServletException, IOException {\n-\n-\t}\n-\n-\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n-\t\t\tthrows ServletException, IOException {\n-\n-\t\t//获取参数——用户名、密码\n-\t\tString username = request.getParameter(\"username\");\n-\t\tString password = request.getParameter(\"password\");\n-\t\t\n-\t\t//判断是否正确\n-\t\tif(\"test\".equals(username) && \"me\".equals(password)){\t\t\n-\t\t\t//将用户名放到session里\n-\t\t\tHttpSession session = request.getSession();\n-\t\t\tsession.setAttribute(\"username\", username);\n-\t\t\t//将页面跳转到home.jsp\n-\t\t\tresponse.sendRedirect(\"home.jsp\");\n-\t\t}else\n-\t\t\t//错误就返回登录页面\n-\t\t\tresponse.sendRedirect(\"./\");\n-\t}\n-\n-\tpublic void init() throws ServletException {\n-\t\t// Put your code here\n-\t}\n-\n-}"
  }, {
    "sha" : "d53795f449c964e7e0adeeac524f7be1a415b8bb",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/LoginFilter.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 32,
    "changes" : 32,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/src/edu/hzu/javaweb/labs/se1414080902106/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/src/edu/hzu/javaweb/labs/se1414080902106/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/LoginFilter.java?ref=c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb",
    "patch" : "@@ -1,32 +0,0 @@\n-package edu.hzu.javaweb.labs.se1414080902106;\n-\n-import java.io.IOException;\n-import javax.servlet.*;\n-import javax.servlet.http.*;\n-import javax.servlet.annotation.WebFilter;\n-\n-@WebFilter(filterName=\"loginFilter\",urlPatterns=\"/index.jsp\")\n-public class LoginFilter implements Filter {\n-\n-\t@Override\n-\tpublic void destroy() {\n-\t}\n-\n-\t@Override\n-\tpublic void doFilter(ServletRequest request, ServletResponse response,\n-\t\t\tFilterChain chain) throws IOException, ServletException {\n-\t\tHttpServletRequest req = (HttpServletRequest)request;\n-\t\tHttpServletResponse res = (HttpServletResponse)response;\n-\t\tHttpSession session = req.getSession();\n-\t\t//若已经登录则直接进入home.jsp\n-\t\tif(session.getAttribute(\"username\") != null)\n-\t\t\tres.sendRedirect(\"./home.jsp\");\n-\t\telse\n-\t\t\tchain.doFilter(request, response);\n-\t}\n-\n-\t@Override\n-\tpublic void init(FilterConfig filterConfig) throws ServletException {\n-\t}\n-\n-}"
  }, {
    "sha" : "b2ba59c2638239fd0c85b15ac77cadb3f09c2c37",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAO.java",
    "status" : "added",
    "additions" : 249,
    "deletions" : 0,
    "changes" : 249,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAO.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAO.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAO.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,249 @@\n+package edu.hzu.javaweb.labs.se1414080902106;\n+\n+import java.lang.reflect.*;\n+import java.sql.*;\n+import java.util.Vector;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+public class MyDAO<T> implements MyDAOInterface<T> {\n+  private Connection con = null;\n+  private CallableStatement call = null;\n+  private ResultSet res = null;\n+\n+  //T模板类型，即JavaBean的类型\n+  private final Class TClass;\n+\n+  public MyDAO(Class TCLASS) {\n+    TClass = TCLASS;\n+  }\n+\n+  //使字符串的首字母大写\n+  private String firstUpper(String s) {\n+    return s.substring(0, 1).toUpperCase() + s.substring(1);\n+  }\n+\n+  //使完整的类名简化\n+  private String SimpleTypeName(String Tname) {\n+    return Tname.substring(Tname.lastIndexOf(\".\") + 1);\n+  }\n+\n+  //填充SQL语句\n+  private String FillSQL(String SQL, T param, int[] in) throws\n+  SecurityException,\n+  NoSuchMethodException,\n+  IllegalArgumentException,\n+  IllegalAccessException,\n+  InvocationTargetException {\n+\n+    //需要填充的参数个数为0时直接返回\n+    if (in == null)\n+      return SQL;\n+\n+    //获取JavaBean的属性集\n+    Field[] fs = TClass.getDeclaredFields();\n+\n+    //填充开始\n+\n+    String SQLa = null;\n+    String SQLb = SQL;\n+    int firstValueIndex;\n+    String currentSQL = \"\";\n+    for (int i = 0; i < in.length; i++) {\n+      //获取第in[i]个属性的名称，首字母大写\n+      String Aname = firstUpper(fs[in[i]].getName());\n+      //获取JavaBean的get方法\n+      Method get = TClass.getMethod(\"get\" + Aname);\n+      //获取属性值\n+      Object value = get.invoke(param);\n+      //构建SQL语句\n+      firstValueIndex = SQLb.indexOf(\"?\");\n+      //若没有?就结束\n+      if (firstValueIndex == -1)\n+        break;\n+      SQLa = SQLb.substring(0, firstValueIndex);\n+      SQLb = SQLb.substring(firstValueIndex + 1);\n+      currentSQL = currentSQL + SQLa + value;\n+    }\n+    currentSQL += SQLb;\n+    return currentSQL;\n+  }\n+\n+  //简单的更新，更新所需数据在item里，更新所对应的语句是SQL，成功返回true\n+  public boolean SimpleUpdate(T item, String SQL) throws SQLException {\n+    int line = 0;\n+    try {\n+      //获取JavaBean的属性集\n+      Field[] fs = TClass.getDeclaredFields();\n+      //获取相关属性序号数组\n+      int[] in = (int[]) TClass.getField(\"in\").get(item);\n+      //填充参数数据到SQL语句\n+      SQL = FillSQL(SQL, item, in);\n+      //获取对应数据库连接\n+      con = ((MyJavaBean) item).getDBConnection();\n+      //创建SQL执行体\n+      call = con.prepareCall(SQL);\n+      //执行更新语句\n+      line = call.executeUpdate();\n+    } catch (ClassNotFoundException e) {\n+      e.printStackTrace();\n+    } catch (SecurityException e) {\n+      e.printStackTrace();\n+    } catch (NoSuchMethodException e) {\n+      e.printStackTrace();\n+    } catch (IllegalArgumentException e) {\n+      e.printStackTrace();\n+    } catch (InvocationTargetException e) {\n+      e.printStackTrace();\n+    } catch (NoSuchFieldException e) {\n+      e.printStackTrace();\n+    } catch (InstantiationException e) {\n+      e.printStackTrace();\n+    } catch (IllegalAccessException e) {\n+      e.printStackTrace();\n+    }\n+    CloseDB();\n+    return line == 1;\n+  }\n+\n+  @Override\n+  //执行第method号的get操作，所需参数是param\n+  public Vector<T> get(int method, T param) throws SQLException {\n+    Vector<T> result = null;\n+    try {\n+      //获取SQL语句\n+      String SQL = ((MyJavaBean) param).getGetSQL(method);\n+      //获取相关属性序号数组\n+      int[] in = (int[]) TClass.getField(\"in\").get(param);\n+      int[] out = (int[]) TClass.getField(\"out\").get(param);\n+      //填充参数数据到SQL语句\n+      SQL = FillSQL(SQL, param, in);\n+      //获取对应数据库连接\n+      con = ((MyJavaBean) param).getDBConnection();\n+      //创建SQL执行体\n+      call = con.prepareCall(SQL);\n+      //执行SQL语句\n+      res = call.executeQuery();\n+      //创建结果集对象\n+      result = new Vector<T>(0);\n+      //获取JavaBean的属性集\n+      Field[] fs = TClass.getDeclaredFields();\n+      //填充结果\n+      MyJavaBean current = null;\n+      while (res.next()) {\n+        //创建新的记录对象(JavaBean对象)\n+        current = (MyJavaBean) TClass.newInstance();\n+        //把结果集的当前记录写入current\n+        for (int i = 0; i < out.length; i++) {\n+          //获取第i个属性的类型\n+          Class Type = fs[out[i]].getType();\n+          //获取第i个属性的类型名，简洁且首字母大写的类名\n+          String Tname = firstUpper(SimpleTypeName(Type.getName()));\n+          //获取第i个属性的名称，首字母大写\n+          String Aname = firstUpper(fs[out[i]].getName());\n+          //获取JavaBean的set方法\n+          Method set = TClass.getMethod(\"set\" + Aname, Type);\n+          //获取ResultSet的get方法\n+          Method get = null;\n+          if (\"Date\".equals(Tname)) {\n+            Timestamp ts = res.getTimestamp(i + 1);\n+            set.invoke(current, new Date(ts.getTime()));\n+          } else {\n+            get = ResultSet.class.getMethod(\"get\" + Tname, int.class);\n+            //获取结果集并写入current里\n+            set.invoke(current, get.invoke(res, i + 1));\n+          }\n+        }\n+        //把写好的current加入结果集result\n+        result.add((T) current);\n+      }\n+    } catch (ClassNotFoundException e) {\n+      e.printStackTrace();\n+    } catch (SecurityException e) {\n+      e.printStackTrace();\n+    } catch (NoSuchMethodException e) {\n+      e.printStackTrace();\n+    } catch (IllegalArgumentException e) {\n+      e.printStackTrace();\n+    } catch (InvocationTargetException e) {\n+      e.printStackTrace();\n+    } catch (NoSuchFieldException e) {\n+      e.printStackTrace();\n+    } catch (InstantiationException e1) {\n+      e1.printStackTrace();\n+    } catch (IllegalAccessException e1) {\n+      e1.printStackTrace();\n+    }\n+    CloseDB();\n+    return result;\n+  }\n+\n+  //插入记录item\n+  public boolean Insert(T item) throws SQLException {\n+    return SimpleUpdate(item, ((MyJavaBean) item).getInsertSQL());\n+  }\n+\n+  //删除记录item\n+  public boolean Remove(T item) throws SQLException {\n+    return SimpleUpdate(item, ((MyJavaBean) item).getDeleteSQL());\n+  }\n+\n+  /*\t@Override\n+\t//执行第method号的普通操作，参数是param，返回执行结果代号\n+\tpublic int Do(int method,T param) throws SQLException {\n+\t\tint result = -1;\n+\t\ttry {\n+\t\t\t//获取SQL语句\n+\t\t\tString SQL = ((MyJavaBean)param).getDoSQL(method);\n+\t\t\t//获取相关属性序号数组\n+\t\t\tint[] in = (int[])TClass.getField(\"in\").get(param);\n+\t\t\t//填充参数数据到SQL语句\n+\t\t\tSQL = FillSQL(SQL,param,in);\n+\t\t\t//获取对应数据库连接\n+\t\t\tcon = ((MyJavaBean)param).getDBConnection();\n+\t\t\t//创建SQL执行体\n+\t\t\tcall = con.prepareCall(SQL);\n+\t\t\tcall.registerOutParameter(1,Types.INTEGER);\n+\t\t\t//执行SQL语句\n+\t\t\tcall.execute();\n+\t\t\t//返回返回值\n+\t\t\tresult = call.getInt(1);\n+\t\t} catch (InstantiationException e) {\n+\t\t\te.printStackTrace();\n+\t\t} catch (IllegalAccessException e) {\n+\t\t\te.printStackTrace();\n+\t\t} catch (ClassNotFoundException e) {\n+\t\t\te.printStackTrace();\n+\t\t} catch (IllegalArgumentException e) {\n+\t\t\te.printStackTrace();\n+\t\t} catch (SecurityException e) {\n+\t\t\te.printStackTrace();\n+\t\t} catch (NoSuchFieldException e) {\n+\t\t\te.printStackTrace();\n+\t\t} catch (NoSuchMethodException e) {\n+\t\t\te.printStackTrace();\n+\t\t} catch (InvocationTargetException e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\tCloseDB();\n+\t\treturn result;\n+\t}\n+   */\n+  @Override\n+  //关闭现有的数据库连接\n+  public void CloseDB() {\n+    try {\n+      MyJavaBean main = (MyJavaBean) TClass.newInstance();\n+      main.closeDB(con, call, res);\n+      con = null;\n+      call = null;\n+      res = null;\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    } catch (InstantiationException e) {\n+      e.printStackTrace();\n+    } catch (IllegalAccessException e) {\n+      e.printStackTrace();\n+    }\n+  }\n+\n+}"
  }, {
    "sha" : "ae07c6d3826a57a174f1705245d22cad713a9348",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAOInterface.java",
    "status" : "added",
    "additions" : 12,
    "deletions" : 0,
    "changes" : 12,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAOInterface.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAOInterface.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAOInterface.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,12 @@\n+package edu.hzu.javaweb.labs.se1414080902106;\n+\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+public interface MyDAOInterface<T> {\n+  public abstract boolean Insert(T item) throws SQLException;\n+  public abstract boolean Remove(T item) throws SQLException;\n+  public abstract Vector<T> get(int method, T param) throws SQLException;\n+  // public abstract int Do(int method, T param) throws SQLException;\n+  public abstract void CloseDB();\n+}"
  }, {
    "sha" : "ed9b6f411a676a30da857d1992f5bbaeb9665344",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL Server2008数据库部属文件/1.创建数据库和表.sql",
    "status" : "added",
    "additions" : 67,
    "deletions" : 0,
    "changes" : 67,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/1.%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E8%A1%A8.sql",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/1.%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E8%A1%A8.sql",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/1.%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E8%A1%A8.sql?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,67 @@\n+--������ݿ�\n+CREATE DATABASE CMSDB;\n+go\n+\n+use CMSDB;\n+\n+--�����˻���\n+CREATE TABLE Account(\n+\tID int PRIMARY KEY,\n+\tUsername nvarchar(64) UNIQUE not null,\t--�û���\n+\tPassword nvarchar(32) not null,\t\t\t--����\n+\tName nvarchar(256) not null\t\t\t\t--�ǳ�\n+)\n+go\n+\n+--�������ӱ�\n+CREATE TABLE Posts(\n+\tID int PRIMARY KEY,\n+\tAID int not null,\t\t\t\t\t--�����˻�ID\n+\tTitle nvarchar(128) not null,\t\t--����\n+\tText nvarchar(max) not null,\t\t--����\n+\tCreateDateTime datetime not null,\t--����ʱ��\n+\tReplyCount int not null,\t\t\t--�ظ���\n+\tFOREIGN KEY(AID) REFERENCES Account(ID)\n+)\n+go\n+\n+--����1���ظ���\n+CREATE TABLE Reply1(\n+\tID int PRIMARY KEY,\n+\tAID int not null,\t\t\t\t\t--�����˻�ID\n+\tPID int not null,\t\t\t\t\t--��ظ�����ID\n+\tText nvarchar(max) not null,\t\t--����\n+\tCreateDateTime datetime not null,\t--����ʱ��\n+\tFOREIGN KEY(AID) REFERENCES Account(ID),\n+\tFOREIGN KEY(PID) REFERENCES Posts(ID)\n+)\n+go\n+\n+--����2���ظ���\n+CREATE TABLE Reply2(\n+\tID int PRIMARY KEY,\n+\tAID int not null,\t\t\t\t\t--�����˻�ID\n+\tRID int not null,\t\t\t\t\t--��ظ���1���ظ���ID\n+\tText nvarchar(max) not null,\t\t--����\n+\tCreateDateTime datetime not null,\t--����ʱ��\n+\tFOREIGN KEY(AID) REFERENCES Account(ID),\n+\tFOREIGN KEY(RID) REFERENCES Reply1(ID)\n+)\n+go\n+\n+--�����˻���Ŀ���ID��\n+CREATE TABLE R_AID(\n+\tID int PRIMARY KEY\n+)\n+--�������ӱ�Ŀ���ID��\n+CREATE TABLE R_PID(\n+\tID int PRIMARY KEY\n+)\n+--����1���ظ���Ŀ���ID��\n+CREATE TABLE R_R1ID(\n+\tID int PRIMARY KEY\n+)\n+--����2���ظ���Ŀ���ID��\n+CREATE TABLE R_R2ID(\n+\tID int PRIMARY KEY\n+)"
  }, {
    "sha" : "c503633954a092e88237bd74d9083177b932839b",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL Server2008数据库部属文件/2.创建触发器.sql",
    "status" : "added",
    "additions" : 152,
    "deletions" : 0,
    "changes" : 152,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/2.%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8.sql",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/2.%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8.sql",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/2.%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8.sql?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,152 @@\n+use CMSDB\n+go\n+\n+--����������Reply2���¼������\n+CREATE TRIGGER Insert_Reply2\n+ON Reply2\n+AFTER INSERT\n+AS\n+BEGIN\n+\t--��ȡ��Reply2��¼���������ID\n+\tDECLARE @pid int\n+\tSET @pid = (\n+\t\tSELECT PID\n+\t\tFROM Reply1\n+\t\tWHERE ID = (\n+\t\t\tSELECT RID\n+\t\t\tFROM inserted\n+\t\t)\n+\t)\n+\t--������Ӽ�¼�ۼӻظ���\n+\tUPDATE Posts\n+\tSET ReplyCount = ReplyCount + 1\n+\tWHERE ID = @pid\n+END\n+go\n+\n+--����������Reply1���¼������\n+CREATE TRIGGER Insert_Reply1\n+ON Reply1\n+AFTER INSERT\n+AS\n+BEGIN\n+\t--��ȡ��Reply1��¼���������ID\n+\tDECLARE @pid int\n+\tSET @pid = (\n+\t\tSELECT PID\n+\t\tFROM inserted\n+\t)\n+\t--������Ӽ�¼�ۼӻظ���\n+\tUPDATE Posts\n+\tSET ReplyCount = ReplyCount + 1\n+\tWHERE ID = @pid\n+END\n+go\n+\n+--������ɾ��Reply2���¼������\n+CREATE TRIGGER Delete_Reply2\n+ON Reply2\n+INSTEAD OF DELETE\n+AS\n+BEGIN\n+\t--����ɾ��ÿ��2���ظ�\n+\tDELETE Reply2\n+\tWHERE ID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--��¼����ID\n+\tINSERT INTO R_R2ID(ID)\n+\t\tSELECT id\n+\t\tFROM deleted\n+END\n+go\n+\n+--������ɾ��Reply1���¼������\n+CREATE TRIGGER Delete_Reply1\n+ON Reply1\n+INSTEAD OF DELETE\n+AS\n+BEGIN\n+\t--ɾ��Դ�1���ظ����еĻظ�\n+\tDELETE Reply2\n+\tWHERE RID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--END\n+\t--����ɾ��1���ظ�\n+\tDELETE Reply1\n+\tWHERE ID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--��¼����ID\n+\tINSERT INTO R_R1ID(ID)\n+\t\tSELECT ID\n+\t\tFROM deleted\n+END\n+go\n+\n+--������ɾ��Posts���¼������\n+CREATE TRIGGER Delete_Posts\n+ON Posts\n+INSTEAD OF DELETE\n+AS\n+BEGIN\n+\t--ɾ��Դ����ӽ��еĻظ�\n+\tDELETE Reply1\n+\tWHERE PID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--END\n+\t--����ɾ������\n+\tDELETE Posts\n+\tWHERE ID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--��¼����ID\n+\tINSERT INTO R_PID(ID)\n+\t\tSELECT ID\n+\t\tFROM deleted\n+END\n+go\n+\n+--������ɾ��Account���¼������\n+CREATE TRIGGER Delete_Account\n+ON Account\n+INSTEAD OF DELETE\n+AS\n+BEGIN\n+\t--ɾ����˻�����������\n+\tDELETE Posts\n+\tWHERE AID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--ɾ����˻�������1���ظ�\n+\tDELETE Reply1\n+\tWHERE AID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--ɾ����˻�������2���ظ�\n+\tDELETE Reply2\n+\tWHERE AID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--����ɾ���˻�\n+\tDELETE Account\n+\tWHERE ID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--��¼����ID\n+\tINSERT INTO R_AID(ID)\n+\t\tSELECT ID\n+\t\tFROM deleted\n+END\n+go\n\\ No newline at end of file"
  }, {
    "sha" : "9b94652f0f8e83295763cd695cc2e2907f7f442a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL Server2008数据库部属文件/3.创建Create型存储过程.sql",
    "status" : "added",
    "additions" : 219,
    "deletions" : 0,
    "changes" : 219,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/3.%E5%88%9B%E5%BB%BACreate%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/3.%E5%88%9B%E5%BB%BACreate%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/3.%E5%88%9B%E5%BB%BACreate%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,219 @@\n+use CMSDB\n+go\n+\n+--������ע��(�û������룬�ǳ�)\n+CREATE PROCEDURE CreateAccount(@username nvarchar(64),@password nvarchar(32),@name nvarchar(256))\n+AS\n+BEGIN\n+\t--���\n+\tIF @username IS NULL or @username = ''\n+\tBEGIN\n+\t\tRAISERROR(N'�û�����Ϊ�գ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\tIF @password IS NULL or @password = ''\n+\tBEGIN\n+\t\tRAISERROR(N'���벻��Ϊ�գ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\tIF @name IS NULL or @name = ''\n+\tBEGIN\n+\t\tRAISERROR(N'�ǳƲ���Ϊ�գ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\t--�ж��û����Ƿ��ظ�\n+\tIF EXISTS (\n+\t\tSELECT *\n+\t\tFROM Account\n+\t\tWHERE Username = @username\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�û����Ѵ��ڣ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\t--��ȡ����ID\n+\tDECLARE @id int;\n+\tSET @id = (\n+\t\tSELECT TOP(1) ID\n+\t\tFROM R_AID\n+\t)\n+\t--�ж��Ƿ��п���ID,��û�����Ե�ǰ��¼��ΪID\n+\tIF @id IS NULL\n+\tBEGIN\n+\t\tSET @id = (\n+\t\t\tSELECT COUNT(*)\n+\t\t\tFROM Account\n+\t\t)\n+\tEND\n+\tELSE\n+\tBEGIN\n+\t\tDELETE R_AID\n+\t\tWHERE ID = @id\n+\tEND\n+\t--�����¼�¼\n+\tINSERT INTO Account(ID,Username,Password,Name)\n+\tVALUES (@id,@username,@password,@name)\n+\treturn 0;\n+END\n+go\n+\n+--����������(�����˻�ID�����⣬����)\n+CREATE PROCEDURE CreatePosts(@aid int,@title nvarchar(128),@text nvarchar(max))\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Account\n+\t\tWHERE ID = @aid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'��������˻������ڣ�',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--���\n+\tIF @title IS NULL or @title = ''\n+\tBEGIN\n+\t\tRAISERROR(N'���ⲻ��Ϊ�գ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\t\n+\tIF @text IS NULL or @text = ''\n+\tBEGIN\n+\t\tRAISERROR(N'���ݲ���Ϊ�գ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\t\n+\t--��ȡ����ID\n+\tDECLARE @id int;\n+\tSET @id = (\n+\t\tSELECT TOP(1) ID\n+\t\tFROM R_PID\n+\t)\n+\t--�ж��Ƿ��п���ID,��û�����Ե�ǰ��¼��ΪID\n+\tIF @id IS NULL\n+\tBEGIN\n+\t\tSET @id = (\n+\t\t\tSELECT COUNT(*)\n+\t\t\tFROM Posts\n+\t\t)\n+\tEND\n+\tELSE\n+\tBEGIN\n+\t\tDELETE R_PID\n+\t\tWHERE ID = @id\n+\tEND\n+\t--�����¼�¼\n+\tINSERT INTO Posts(ID,AID,Title,Text,CreateDateTime,ReplyCount)\n+\tVALUES (@id,@aid,@title,@text,GETDATE(),0)\n+\treturn 0;\n+END\n+go\n+\n+--����������1���ظ�(�����˻�ID����Ӧ����ID������)\n+CREATE PROCEDURE CreateReply1(@aid int,@pid int,@text nvarchar(max))\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Account\n+\t\tWHERE ID = @aid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�û��������޷�����ظ���',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Posts\n+\t\tWHERE ID = @pid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'���Ӳ������޷�����ظ���',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--���\n+\tIF @text IS NULL or @text = ''\n+\tBEGIN\n+\t\tRAISERROR(N'�ظ����ݲ���Ϊ�գ�',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\t\t\n+\tEND\n+\t--��ȡ����ID\n+\tDECLARE @id int;\n+\tSET @id = (\n+\t\tSELECT TOP(1) ID\n+\t\tFROM R_R1ID\n+\t)\n+\t--�ж��Ƿ��п���ID,��û�����Ե�ǰ��¼��ΪID\n+\tIF @id IS NULL\n+\tBEGIN\n+\t\tSET @id = (\n+\t\t\tSELECT COUNT(*)\n+\t\t\tFROM Reply1\n+\t\t)\n+\tEND\n+\tELSE\n+\tBEGIN\n+\t\tDELETE R_R1ID\n+\t\tWHERE ID = @id\n+\tEND\n+\t--��¼1���ظ�\n+\tINSERT INTO Reply1(ID,AID,PID,Text,CreateDateTime)\n+\tVALUES (@id,@aid,@pid,@text,GETDATE())\n+\treturn 0;\n+END\n+go\n+\n+--����������2���ظ�(�����˻�ID����Ӧ1���ظ�ID������)\n+CREATE PROCEDURE CreateReply2(@aid int,@rid int,@text nvarchar(max))\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Account\n+\t\tWHERE ID = @aid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�˻��������޷�����ظ���',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Reply1\n+\t\tWHERE ID = @rid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�ظ��������޷�����ظ���',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--���\n+\tIF @text IS NULL or @text = ''\n+\tBEGIN\n+\t\tRAISERROR(N'�ظ����ݲ���Ϊ�գ�',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\t\t\n+\tEND\n+\t--��ȡ����ID\n+\tDECLARE @id int;\n+\tSET @id = (\n+\t\tSELECT TOP(1) ID\n+\t\tFROM R_R2ID\n+\t)\n+\t--�ж��Ƿ��п���ID,��û�����Ե�ǰ��¼��ΪID\n+\tIF @id IS NULL\n+\tBEGIN\n+\t\tSET @id = (\n+\t\t\tSELECT COUNT(*)\n+\t\t\tFROM Reply2\n+\t\t)\n+\tEND\n+\tELSE\n+\tBEGIN\n+\t\tDELETE R_R2ID\n+\t\tWHERE ID = @id\n+\tEND\n+\t--��¼2���ظ�\n+\tINSERT INTO Reply2(ID,AID,RID,Text,CreateDateTime)\n+\tVALUES (@id,@aid,@rid,@text,GETDATE())\n+\treturn 0;\n+END\n+go\n\\ No newline at end of file"
  }, {
    "sha" : "a6731f21954b10d596003268d61cd6a1f270bda2",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL Server2008数据库部属文件/4.创建Delete型存储过程.sql",
    "status" : "added",
    "additions" : 93,
    "deletions" : 0,
    "changes" : 93,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/4.%E5%88%9B%E5%BB%BADelete%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/4.%E5%88%9B%E5%BB%BADelete%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/4.%E5%88%9B%E5%BB%BADelete%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,93 @@\n+use CMSDB\n+go\n+\n+--������ɾ��2���ظ�(�ظ�ID)\n+CREATE PROCEDURE DeleteReply2(@id int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Reply2\n+\t\tWHERE ID = @id\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'��ɾ��Ļظ������ڣ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\t--ɾ���2���ظ�\n+\tDELETE Reply2\n+\tWHERE ID = @id\n+\treturn 0;\n+END\n+go\n+\n+--������ɾ��1���ظ�(�ظ�ID)\n+CREATE PROCEDURE DeleteReply1(@id int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Reply1\n+\t\tWHERE ID = @id\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'��ɾ��Ļظ������ڣ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\t--ɾ��ûظ�\n+\tDELETE Reply1\n+\tWHERE ID = @id\n+\treturn 0;\n+END\n+go\n+\n+--������ɾ������(����ID)\n+CREATE PROCEDURE DeletePosts(@id int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Posts\n+\t\tWHERE ID = @id\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'��ɾ������Ӳ����ڣ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\t--ɾ�������\n+\tDELETE Posts\n+\tWHERE ID = @id\n+\treturn 0;\n+END\n+go\n+\n+--������ע��(�û���)\n+CREATE PROCEDURE DeleteAccount(@username nvarchar(64))\n+AS\n+BEGIN\n+\tDECLARE @id int\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Account\n+\t\tWHERE Username = @username\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'��ע����˻������ڣ�',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--��ȡID\n+\tSET @id = (\n+\t\tSELECT ID\n+\t\tFROM Account\n+\t\tWHERE Username = @username\n+\t)\n+\t--ɾ���˻�\n+\tDELETE Account\n+\tWHERE Username = @username\n+\treturn 0;\n+END\n+go\n\\ No newline at end of file"
  }, {
    "sha" : "9c744e3df092fe453a03f530f4b721e307fc9260",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL Server2008数据库部属文件/5.创建Get型存储过程.sql",
    "status" : "added",
    "additions" : 169,
    "deletions" : 0,
    "changes" : 169,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/5.%E5%88%9B%E5%BB%BAGet%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/5.%E5%88%9B%E5%BB%BAGet%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/5.%E5%88%9B%E5%BB%BAGet%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,169 @@\n+use CMSDB\n+go\n+\n+--��������ȡ����(����ID)\n+CREATE PROCEDURE GetPosts(@id int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Posts\n+\t\tWHERE ID = @id\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'���Ӳ������޷���ȡ��',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--��ѯ����\n+\tSELECT Posts.*,Name\n+\tFROM Posts,Account\n+\tWHERE Posts.ID = @id and Posts.AID = Account.ID\n+\treturn 0;\n+END\n+go\n+\n+--��������ȡ1���ظ�(�ظ�ID)\n+CREATE PROCEDURE GetReply1(@id int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Reply1\n+\t\tWHERE ID = @id\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�ظ��������޷���ȡ��',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--��ѯ1���ظ�\n+\tSELECT *\n+\tFROM Reply1\n+\tWHERE ID = @id\n+\treturn 0;\n+END\n+go\n+\n+--��������ȡ2���ظ�(�ظ�ID)\n+CREATE PROCEDURE GetReply2(@id int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Reply2\n+\t\tWHERE ID = @id\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�ظ��������޷���ȡ��',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--��ѯ2���ظ�\n+\tSELECT *\n+\tFROM Reply2\n+\tWHERE ID = @id\n+\treturn 0;\n+END\n+go\n+\n+--��������ȡ�������ӵı��⡢���ߺʹ���ʱ�䣬������ʱ�����������\n+CREATE PROCEDURE GetAllPosts\n+AS\n+BEGIN\n+\tSELECT Posts.ID,Title,Account.ID,Name,CreateDateTime,ReplyCount\n+\tFROM Posts,Account\n+\tWHERE Posts.AID = Account.ID\n+\tORDER BY CreateDateTime DESC\n+END\n+go\n+\n+--��������ȡĳ���˻����������ӣ�������ʱ�����������\n+CREATE PROCEDURE GetSomePosts(@aid int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Account\n+\t\tWHERE ID = @aid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�˻������ڣ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\t--��ȡ����\n+\tSELECT ID,Title,CreateDateTime,ReplyCount\n+\tFROM Posts\n+\tWHERE AID = @aid\n+\treturn 0;\n+END\n+go\n+\n+--��������ȡĳ�����ӵ����лظ������ݡ����ߺʹ���ʱ��(����ID)��������ʱ����絽������\n+CREATE PROCEDURE GetSomeReply1(@pid int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Posts\n+\t\tWHERE ID = @pid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'���Ӳ����ڣ�',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--��ȡ�ظ�\n+\tSELECT Reply1.ID,Text,Account.ID,Name,CreateDateTime\n+\tFROM Reply1,Account\n+\tWHERE PID = @pid and AID = Account.ID\n+\tORDER BY CreateDateTime ASC\n+\treturn 0;\n+END\n+go\n+\n+--��������ȡĳ��1���ظ������лظ������ݡ����ߺʹ���ʱ��(1���ظ�ID)��������ʱ����絽������\n+CREATE PROCEDURE GetSomeReply2(@rid int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Reply1\n+\t\tWHERE ID = @rid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�ظ������ڣ�',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--��ȡ�ظ�\n+\tSELECT Reply2.ID,Text,Account.ID,Name,CreateDateTime\n+\tFROM Reply2,Account\n+\tWHERE RID = @rid and AID = Account.ID\n+\tORDER BY CreateDateTime ASC\n+\treturn 0;\n+END\n+go\n+\n+--��������ȡ�˻���Ϣ\n+CREATE PROCEDURE GetAccount(@id int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Account\n+\t\tWHERE ID = @id\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�˻������ڣ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\t--��ȡ��Ϣ\n+\tSELECT Name\n+\tFROM Account\n+\tWHERE ID = @id\n+\treturn 0;\n+END\n+go\n\\ No newline at end of file"
  }, {
    "sha" : "1e1e3f71e8dd03fe9db58c4bfb4ee999b9b5ec2d",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL Server2008数据库部属文件/6.创建操作型存储过程.sql",
    "status" : "added",
    "additions" : 35,
    "deletions" : 0,
    "changes" : 35,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/6.%E5%88%9B%E5%BB%BA%E6%93%8D%E4%BD%9C%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/6.%E5%88%9B%E5%BB%BA%E6%93%8D%E4%BD%9C%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/6.%E5%88%9B%E5%BB%BA%E6%93%8D%E4%BD%9C%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,35 @@\n+use CMSDB\n+go\n+\n+--��������¼(�û�������)���ɹ������˻�ID��ʧ�ܷ���-1\n+CREATE PROCEDURE Login(@username nvarchar(64),@password nvarchar(32))\n+AS\n+BEGIN\n+\t--��������\n+\tDECLARE @aid int;\n+\tSET @aid = (\n+\t\tSELECT ID\n+\t\tFROM Account\n+\t\tWHERE Username = @username\n+\t)\n+\tIF @aid IS NULL\n+\tBEGIN\n+\t\tRAISERROR(N'�˻������ڣ�',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--��������Ƿ���ȷ\n+\tIF @password = (\n+\t\tSELECT Password\n+\t\tFROM Account\n+\t\tWHERE ID = @aid\n+\t)\n+\tBEGIN\n+\t\t--�Բ�ѯ���ķ�ʽ���ؽ��\n+\t\tSELECT ID,Name\n+\t\tFROM Account\n+\t\tWHERE ID = @aid\n+\t\treturn @aid;\n+\tEND\n+\tRAISERROR(N'�������',15,0)--���û����ʹ�����Ϣ\t\n+\treturn -1;\n+END\n\\ No newline at end of file"
  }, {
    "sha" : "cf2e47be66503606aafb98914d8a421cd2214676",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/Se1414080902106Servlet.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 57,
    "changes" : 57,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Se1414080902106Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Se1414080902106Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Se1414080902106Servlet.java?ref=c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb",
    "patch" : "@@ -1,57 +0,0 @@\n-package edu.hzu.javaweb.labs.se1414080902106;\n-\n-import java.io.IOException;\n-import java.util.Vector;\n-\n-import javax.servlet.ServletException;\n-import javax.servlet.http.HttpServlet;\n-import javax.servlet.http.HttpServletRequest;\n-import javax.servlet.http.HttpServletResponse;\n-import javax.servlet.http.HttpSession;\n-\n-public class Se1414080902106Servlet extends HttpServlet {\n-\t\n-\tpublic Se1414080902106Servlet() {\n-\t\tsuper();\n-\t}\n-\n-\tpublic void destroy() {\n-\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n-\t\t// Put your code here\n-\t}\n-\n-\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n-\t\t\tthrows ServletException, IOException {\n-\n-\t}\n-\n-\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n-\t\t\tthrows ServletException, IOException {\n-\n-\t\t//由于设置了编码过滤器，这里不需要额外设置request的编码方式\n-\t\t\n-\t\t//获取参数——标题、内容\n-\t\tString title = request.getParameter(\"title\");\n-\t\tString text = request.getParameter(\"text\");\n-\t\t\n-\t\t//获取已有帖子\n-\t\tHttpSession session = request.getSession();\n-\t\tVector<Content> contents = (Vector<Content>)session.getAttribute(\"content\");\n-\t\tif(contents == null)\n-\t\t\tcontents = new Vector<Content>(0);\n-\t\t//插入新帖子\n-\t\tContent new_content = new Content();\n-\t\tnew_content.setTitle(title);\n-\t\tnew_content.setText(text);\n-\t\tcontents.add(new_content);\n-\t\t//将新的帖子集写入session\n-\t\tsession.setAttribute(\"content\", contents);\t\t\n-\t\t//将页面跳转到index.jsp\n-\t\tresponse.sendRedirect(\"home.jsp\");\n-\t}\n-\n-\tpublic void init() throws ServletException {\n-\t\t// Put your code here\n-\t}\n-\n-}"
  }, {
    "sha" : "5c4c8d9f768dfb9a7eba140e7053fc1cb3a67d62",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/SecurityFilter.java",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 32,
    "changes" : 32,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SecurityFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SecurityFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SecurityFilter.java?ref=c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb",
    "patch" : "@@ -1,32 +0,0 @@\n-package edu.hzu.javaweb.labs.se1414080902106;\n-\n-import java.io.IOException;\n-import javax.servlet.*;\n-import javax.servlet.http.*;\n-import javax.servlet.annotation.WebFilter;\n-\n-@WebFilter(filterName=\"securityFilter\",urlPatterns={\"/home.jsp\",\"/new_content.jsp\",\"/display.jsp\",\"/display.jsp*\"})\n-public class SecurityFilter implements Filter {\n-\n-\t@Override\n-\tpublic void destroy() {\n-\t}\n-\n-\t@Override\n-\tpublic void doFilter(ServletRequest request, ServletResponse response,\n-\t\t\tFilterChain chain) throws IOException, ServletException {\n-\t\tHttpServletRequest req = (HttpServletRequest)request;\n-\t\tHttpServletResponse res = (HttpServletResponse)response;\n-\t\tHttpSession session = req.getSession();\n-\t\t//若没登录则跳转到登录页面\n-\t\tif(session.getAttribute(\"username\") != null)\n-\t\t\tchain.doFilter(request, response);\n-\t\telse\n-\t\t\tres.sendRedirect(\"./\");\n-\t}\n-\n-\t@Override\n-\tpublic void init(FilterConfig filterConfig) throws ServletException {\n-\t}\n-\n-}"
  }, {
    "sha" : "53cc97f688cd95ff3960a488e3b93c7822bffc43",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_0_EncodingFilter.java",
    "status" : "added",
    "additions" : 36,
    "deletions" : 0,
    "changes" : 36,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_0_EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_0_EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_0_EncodingFilter.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,36 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myFilters;\n+\n+import java.io.IOException;\n+import java.util.Enumeration;\n+\n+import javax.servlet.*;\n+import javax.servlet.http.*;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName=\"encodingFilter\", urlPatterns=\"/*\")\n+public class _0_EncodingFilter implements Filter {\n+\n+  public void doFilter(ServletRequest request, ServletResponse response,\n+      FilterChain chain) throws IOException, ServletException {\n+    HttpSession session = ((HttpServletRequest) request).getSession();\n+    Enumeration<String> pns = request.getParameterNames();\n+    //把从浏览器端传来的参数编码都转换成utf-8并写入session\n+    while (pns.hasMoreElements()) {\n+      String Pname = pns.nextElement();\n+      String param = request.getParameter(Pname);\n+      //Tomcat的参数传递的编码是ISO-8859-1\n+      String current = new String(param.getBytes(\"ISO-8859-1\"), \"utf-8\");\n+      session.setAttribute(Pname, current);\n+    }\n+    request.setCharacterEncoding(\"utf-8\");\n+    response.setCharacterEncoding(\"utf-8\");\n+    chain.doFilter(request, response);\n+  }\n+\n+  @Override\n+  public void init(FilterConfig arg0) throws ServletException {\n+  }\n+  @Override\n+  public void destroy() {\n+  }\n+}"
  }, {
    "sha" : "a6174e826518e52f699d582ec674dbe7e1077606",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_1_SecurityFilter.java",
    "status" : "added",
    "additions" : 29,
    "deletions" : 0,
    "changes" : 29,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_1_SecurityFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_1_SecurityFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_1_SecurityFilter.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,29 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myFilters;\n+\n+import java.io.IOException;\n+import javax.servlet.*;\n+import javax.servlet.http.*;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName=\"securityFilter\", urlPatterns={\"/home.jsp\", \"/new_content.jsp\", \"/display.jsp\"})\n+public class _1_SecurityFilter implements Filter {\n+\n+  public void doFilter(ServletRequest request, ServletResponse response,\n+      FilterChain chain) throws IOException, ServletException {\n+    HttpServletRequest req = (HttpServletRequest) request;\n+    HttpServletResponse res = (HttpServletResponse) response;\n+    HttpSession session = req.getSession();\n+    //若没登录则跳转到登录页面\n+    if (session.getAttribute(\"hasLogined\") != null)\n+      chain.doFilter(request, response);\n+    else\n+      res.sendRedirect(\"./\");\n+  }\n+\n+  @Override\n+  public void init(FilterConfig filterConfig) throws ServletException {\n+  }\n+  @Override\n+  public void destroy() {\n+  }\n+}"
  }, {
    "sha" : "08a223fce84e9b9ddf1c3881ce93391cc4857c92",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_2_LoginFilter.java",
    "status" : "added",
    "additions" : 29,
    "deletions" : 0,
    "changes" : 29,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_2_LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_2_LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_2_LoginFilter.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,29 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myFilters;\n+\n+import java.io.IOException;\n+import javax.servlet.*;\n+import javax.servlet.http.*;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName=\"loginFilter\", urlPatterns=\"/index.jsp\")\n+public class _2_LoginFilter implements Filter {\n+\n+  public void doFilter(ServletRequest request, ServletResponse response,\n+      FilterChain chain) throws IOException, ServletException {\n+    HttpServletRequest req = (HttpServletRequest) request;\n+    HttpServletResponse res = (HttpServletResponse) response;\n+    HttpSession session = req.getSession();\n+    //若已经登录则直接进入home.jsp\n+    if (session.getAttribute(\"hasLogined\") != null)\n+      res.sendRedirect(\"./home.jsp\");\n+    else\n+      chain.doFilter(request, response);\n+  }\n+\n+  @Override\n+  public void init(FilterConfig filterConfig) throws ServletException {\n+  }\n+  @Override\n+  public void destroy() {\n+  }\n+}"
  }, {
    "sha" : "09c75ba81977d336b2023f59f18cbad439a6edcf",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_3_HomeFilter.java",
    "status" : "added",
    "additions" : 41,
    "deletions" : 0,
    "changes" : 41,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_3_HomeFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_3_HomeFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_3_HomeFilter.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,41 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myFilters;\n+\n+import java.io.IOException;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.*;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpSession;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebFilter(filterName=\"homeFilter\", urlPatterns=\"/home.jsp\")\n+public class _3_HomeFilter implements Filter {\n+\n+  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+    HttpSession session = ((HttpServletRequest) request).getSession();\n+    //使用DAO获取所有帖子列表\n+    MyDAO<Posts> dao = new MyDAO<Posts>(Posts.class);\n+    Vector<Posts> result = null;\n+    Posts param = new Posts();\n+    try {\n+      //执行获取所有帖子的操作\n+      result = dao.get(1, param);\n+      //把结果写入session\n+      session.setAttribute(\"posts\", result);\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    }\n+    chain.doFilter(request, response);\n+  }\n+\n+  @Override\n+  public void init(FilterConfig arg0) throws ServletException {\n+  }\n+  @Override\n+  public void destroy() {\n+  }\n+}"
  }, {
    "sha" : "13e887a1e291a77c7002de3e34a69262679c53cc",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_4_DisplayFilter.java",
    "status" : "added",
    "additions" : 53,
    "deletions" : 0,
    "changes" : 53,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_4_DisplayFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_4_DisplayFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_4_DisplayFilter.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,53 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myFilters;\n+\n+import java.io.IOException;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.*;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebFilter(filterName=\"displayFilter\", urlPatterns=\"/display.jsp\")\n+public class _4_DisplayFilter implements Filter {\n+\n+  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+    HttpSession session = ((HttpServletRequest) request).getSession();\n+    //获取参数\n+    int id = Integer.parseInt((String) session.getAttribute(\"id\"));\n+    session.removeAttribute(\"id\");\n+    //使用DAO获取帖子信息\n+    MyDAO<Posts> dao1 = new MyDAO<Posts>(Posts.class);\n+    Vector<Posts> posts = null;\n+    Posts param1 = new Posts();\n+    param1.setId(id);\n+    try {\n+      posts = dao1.get(0, param1);\n+      session.setAttribute(\"posts\", posts.get(0));\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    }\n+    //获取帖子的1级回复信息\n+    MyDAO<Reply1> dao2 = new MyDAO<Reply1>(Reply1.class);\n+    Vector<Reply1> reply1 = null;\n+    Reply1 param2 = new Reply1();\n+    param2.setPid(id);\n+    try {\n+      reply1 = dao2.get(1, param2);\n+      session.setAttribute(\"reply1\", reply1);\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    }\n+    chain.doFilter(request, response);\n+  }\n+\n+  @Override\n+  public void init(FilterConfig arg0) throws ServletException {\n+  }\n+  @Override\n+  public void destroy() {\n+  }\n+}"
  }, {
    "sha" : "8258d790fdb8441f46276ed3487a9183a40452a0",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_5_AccountFilter.java",
    "status" : "added",
    "additions" : 56,
    "deletions" : 0,
    "changes" : 56,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_5_AccountFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_5_AccountFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_5_AccountFilter.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,56 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myFilters;\n+\n+import java.io.IOException;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.*;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpSession;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebFilter(\"/account.jsp\")\n+public class _5_AccountFilter implements Filter {\n+\n+  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+    HttpSession session = ((HttpServletRequest) request).getSession();\n+    //获取参数\n+    int id = Integer.parseInt((String) session.getAttribute(\"id\"));\n+    session.removeAttribute(\"id\");\n+    //组装数据\n+    Account param1 = new Account();\n+    param1.setId(id);\n+    Posts param2 = new Posts();\n+    param2.setAid(id);\n+    //使用DAO获取账户信息\n+    MyDAO<Account> dao1 = new MyDAO<Account>(Account.class);\n+    Vector<Account> result1 = null;\n+    try {\n+      result1 = dao1.get(1, param1);\n+      result1.get(0).setId(id);\n+      session.setAttribute(\"other\", result1.get(0));\n+    } catch (SQLException e1) {\n+      e1.printStackTrace();\n+    }\n+    //使用DAO获取账户发表的帖子\n+    MyDAO<Posts> dao2 = new MyDAO<Posts>(Posts.class);\n+    Vector<Posts> result2 = null;\n+    try {\n+      result2 = dao2.get(2, param2);\n+      session.setAttribute(\"posts\", result2);\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    }\n+    chain.doFilter(request, response);\n+  }\n+\n+  @Override\n+  public void init(FilterConfig arg0) throws ServletException {\n+  }\n+  @Override\n+  public void destroy() {\n+  }\n+}"
  }, {
    "sha" : "ca61cd4581808c8402c8acaaaac9e3956db69378",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Account.java",
    "status" : "added",
    "additions" : 75,
    "deletions" : 0,
    "changes" : 75,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Account.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Account.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Account.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,75 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myJavaBeans;\n+\n+//负责提供注册、登录、注销操作的相关内容\n+public class Account extends MyJavaBean {\n+  private int id;\n+  private String username;\n+  private String password;\n+  private String name;\n+  public int getId() {\n+    return id;\n+  }\n+  public void setId(int id) {\n+    this.id = id;\n+  }\n+  public String getUsername() {\n+    return username;\n+  }\n+  public void setUsername(String username) {\n+    this.username = username;\n+  }\n+  public String getPassword() {\n+    return password;\n+  }\n+  public void setPassword(String password) {\n+    this.password = password;\n+  }\n+  public String getName() {\n+    return name;\n+  }\n+  public void setName(String name) {\n+    this.name = name;\n+  }\n+  @Override\n+  public String getGetSQL(int method) {\n+    switch (method) {\n+    case 0:\n+      in = new int[2];\n+      in[0] = 1;\n+      in[1] = 2;\n+      out = new int[2];\n+      out[0] = 0;\n+      out[1] = 3;\n+      return \"Login @username='?',@password='?'\";\n+    case 1:\n+      in = new int[1];\n+      in[0] = 0;\n+      out = new int[1];\n+      out[0] = 3;\n+      return \"GetAccount @id=?\";\n+    }\n+    return null;\n+  }\n+  @Override\n+  public String getInsertSQL() {\n+    in = new int[3];\n+    in[0] = 1;\n+    in[1] = 2;\n+    in[2] = 3;\n+    return \"CreateAccount @username='?',@password='?',@name='?'\";\n+  }\n+  @Override\n+  public String getDeleteSQL() {\n+    in = new int[1];\n+    in[0] = 1;\n+    return \"DeleteAccount @username='?'\";\n+  }\n+  @Override\n+  public String toString() {\n+    return \"{\" +\n+        \"\\\"id\\\" : \\\"\" + id + \"\\\", \" +\n+        \"\\\"username\\\" : \\\"\" + username + \"\\\", \" +\n+        \"\\\"password\\\" : \\\"\" + password + \"\\\", \" +\n+        \"\\\"name\\\" : \\\"\" + name + \"\\\"}\";\n+  }\n+}"
  }, {
    "sha" : "bee5779f720cd95815ef2deaaed9c7430e083449",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBean.java",
    "status" : "added",
    "additions" : 61,
    "deletions" : 0,
    "changes" : 61,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBean.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBean.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBean.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,61 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myJavaBeans;\n+\n+import java.sql.*;\n+import java.text.SimpleDateFormat;\n+\n+public abstract class MyJavaBean implements MyJavaBeanInterface {\n+  public int[] in;\t\t//用来表示接下来执行SQL操作时使用哪些属性作为输入\n+  public int[] out;\t\t//用来表示接下来执行SQL操作时使用哪些属性作为输出\n+  public final String myDFS = \"yyyy-MM-dd HH:mm:ss\"; //时间格式字符串\n+\n+  //格式化DateTime\n+  final public String formatDT(Date datetime) {\n+    SimpleDateFormat sdf = new SimpleDateFormat(myDFS);\n+    return sdf.format(datetime);\n+  }\n+\n+  public final Connection getDBConnection() throws InstantiationException,\n+  IllegalAccessException, ClassNotFoundException, SQLException {\n+    //装载驱动程序\n+    Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\").newInstance();\n+    //连接字符串\n+    String url =\"jdbc:sqlserver://localhost:1433;DatabaseName=CMSDB\";\n+    //建立连接\n+    Connection con = DriverManager.getConnection(url, \"me\", \"me\");\n+    return con;\n+  }\n+\n+  public final void closeDB(Connection con, CallableStatement call, ResultSet rs) throws SQLException {\n+    //关闭结果集\n+    if (rs != null)\n+      rs.close();\n+    //关闭操作对象\n+    if (call != null)\n+      call.close();\n+    //关闭连接\n+    if (con != null)\n+      con.close();\n+  }\n+  public final void closeDB(Connection con, PreparedStatement ps, ResultSet rs) throws SQLException {\n+    //关闭结果集\n+    if (rs != null)\n+      rs.close();\n+    //关闭操作对象\n+    if (ps != null)\n+      ps.close();\n+    //关闭连接\n+    if (con != null)\n+      con.close();\n+  }\n+  public final void closeDB(Connection con, Statement stmt, ResultSet rs) throws SQLException {\n+    //关闭结果集\n+    if (rs != null)\n+      rs.close();\n+    //关闭操作对象\n+    if (stmt != null)\n+      stmt.close();\n+    //关闭连接\n+    if (con != null)\n+      con.close();\n+  }\n+}"
  }, {
    "sha" : "92d5a75de3fdc2f130805ab19986b051c8a395e3",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBeanInterface.java",
    "status" : "added",
    "additions" : 14,
    "deletions" : 0,
    "changes" : 14,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBeanInterface.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBeanInterface.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBeanInterface.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,14 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myJavaBeans;\n+\n+import java.sql.*;\n+\n+public interface MyJavaBeanInterface {\n+  public abstract String getGetSQL(int method);\n+  public abstract String getInsertSQL();\n+  public abstract String getDeleteSQL();\n+  //public abstract String getDoSQL(int method);\n+  public abstract Connection getDBConnection() throws InstantiationException, IllegalAccessException, ClassNotFoundException, SQLException;\n+  public abstract void closeDB(Connection con, CallableStatement call, ResultSet rs) throws SQLException;\n+  public abstract void closeDB(Connection con, PreparedStatement ps, ResultSet rs) throws SQLException;\n+  public abstract void closeDB(Connection con, Statement stmt, ResultSet rs) throws SQLException;\n+}"
  }, {
    "sha" : "ae815bcd827c8aefacc37e671f211ebba3e34d59",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Posts.java",
    "status" : "added",
    "additions" : 118,
    "deletions" : 0,
    "changes" : 118,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Posts.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Posts.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Posts.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,118 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myJavaBeans;\n+\n+import java.sql.*;\n+\n+//负责发帖、删帖、看帖操作的相关内容\n+public class Posts extends MyJavaBean{\n+  private int id;\n+  private int aid;\n+  private String title;\n+  private String text;\n+  private Date createDateTime;\n+  private int replyCount;   //回复数\n+  private String name;      //作者昵称\n+  public int getId() {\n+    return id;\n+  }\n+  public void setId(int id) {\n+    this.id = id;\n+  }\n+  public int getAid() {\n+    return aid;\n+  }\n+  public void setAid(int aid) {\n+    this.aid = aid;\n+  }\n+  public String getTitle() {\n+    return title;\n+  }\n+  public void setTitle(String title) {\n+    this.title = title;\n+  }\n+  public String getText() {\n+    return text;\n+  }\n+  public void setText(String text) {\n+    this.text = text;\n+  }\n+  public Date getCreateDateTime() {\n+    return createDateTime;\n+  }\n+  public void setCreateDateTime(Date createDateTime) {\n+    this.createDateTime = createDateTime;\n+  }\n+  public int getReplyCount() {\n+    return replyCount;\n+  }\n+  public void setReplyCount(int replyCount) {\n+    this.replyCount = replyCount;\n+  }\n+  public String getName() {\n+    return name;\n+  }\n+  public void setName(String name) {\n+    this.name = name;\n+  }\n+  @Override\n+  public String getGetSQL(int method) {\n+    switch (method) {\n+    case 0:\n+      in = new int[1];\n+      in[0] = 0;\n+      out = new int[7];\n+      out[0] = 0;\n+      out[1] = 1;\n+      out[2] = 2;\n+      out[3] = 3;\n+      out[4] = 4;\n+      out[5] = 5;\n+      out[6] = 6;\n+      return \"GetPosts @id=?\";\n+    case 1:\n+      in = null;\n+      out = new int[6];\n+      out[0] = 0;\n+      out[1] = 2;\n+      out[2] = 1;\n+      out[3] = 6;\n+      out[4] = 4;\n+      out[5] = 5;\n+      return \"GetAllPosts\";\n+    case 2:\n+      in = new int[1];\n+      in[0] = 1;\n+      out = new int[4];\n+      out[0] = 0;\n+      out[1] = 2;\n+      out[2] = 4;\n+      out[3] = 5;\n+      return \"GetSomePosts @aid=?\";\n+    }\n+    return null;\n+  }\n+  @Override\n+  public String getInsertSQL() {\n+    in = new int[3];\n+    in[0] = 1;\n+    in[1] = 2;\n+    in[2] = 3;\n+    return \"CreatePosts @aid=?,@title='?',@text='?'\";\n+  }\n+  @Override\n+  public String getDeleteSQL() {\n+    in = new int[1];\n+    in[0] = 0;\n+    return \"DeletePosts @id=?\";\n+  }\n+  @Override\n+  public String toString() {\n+    return \"{\" +\n+        \"\\\"id\\\" : \\\"\" + id + \"\\\", \" +\n+        \"\\\"aid\\\" : \\\"\" + aid + \"\\\", \" +\n+        \"\\\"title\\\" : \\\"\" + title + \"\\\", \" +\n+        \"\\\"text\\\" : \\\"\" + text + \"\\\", \" +\n+        \"\\\"createDateTime\\\" : \\\"\" + formatDT(createDateTime) + \"\\\", \" +\n+        \"\\\"name\\\" : \\\"\" + name + \"\\\", \" +\n+        \"\\\"replyCount\\\" : \\\"\" + replyCount + \"\\\"}\";\n+  }\n+}"
  }, {
    "sha" : "f5d2f4a01422048751013b888c4961d856b5ff40",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply1.java",
    "status" : "added",
    "additions" : 99,
    "deletions" : 0,
    "changes" : 99,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply1.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply1.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply1.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,99 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myJavaBeans;\n+\n+import java.sql.*;\n+\n+//负责回复帖子、删除1级回复、查看1级回复操作的相关内容\n+public class Reply1 extends MyJavaBean {\n+  private int id;\n+  private int aid;\n+  private int pid;\n+  private String text;\n+  private Date createDateTime;\n+  private String name;  //作者昵称\n+  public int getId() {\n+    return id;\n+  }\n+  public void setId(int id) {\n+    this.id = id;\n+  }\n+  public int getAid() {\n+    return aid;\n+  }\n+  public void setAid(int aid) {\n+    this.aid = aid;\n+  }\n+  public int getPid() {\n+    return pid;\n+  }\n+  public void setPid(int pid) {\n+    this.pid = pid;\n+  }\n+  public String getText() {\n+    return text;\n+  }\n+  public void setText(String text) {\n+    this.text = text;\n+  }\n+  public Date getCreateDateTime() {\n+    return createDateTime;\n+  }\n+  public void setCreateDateTime(Date createDateTime) {\n+    this.createDateTime = createDateTime;\n+  }\n+  public String getName() {\n+    return name;\n+  }\n+  public void setName(String name) {\n+    this.name = name;\n+  }\n+  @Override\n+  public String getGetSQL(int method) {\n+    switch (method) {\n+    case 0:\n+      in = new int[1];\n+      in[0] = 0;\n+      out = new int[5];\n+      out[0] = 0;\n+      out[1] = 1;\n+      out[2] = 2;\n+      out[3] = 3;\n+      out[4] = 4;\n+      return \"GetReply1 @id=?\";\n+    case 1:\n+      in = new int[1];\n+      in[0] = 2;\n+      out = new int[5];\n+      out[0] = 0;\n+      out[1] = 3;\n+      out[2] = 1;\n+      out[3] = 5;\n+      out[4] = 4;\n+      return \"GetSomeReply1 @pid=?\";\n+    }\n+    return null;\n+  }\n+  @Override\n+  public String getInsertSQL() {\n+    in = new int[3];\n+    in[0] = 1;\n+    in[1] = 2;\n+    in[2] = 3;\n+    return \"CreateReply1 @aid=?,@pid=?,@text='?'\";\n+  }\n+  @Override\n+  public String getDeleteSQL() {\n+    in = new int[1];\n+    in[0] = 0;\n+    return \"DeleteReply1 @id=?\";\n+  }\n+  @Override\n+  public String toString() {\n+    return \"{\" +\n+        \"\\\"id\\\" : \\\"\" + id + \"\\\", \" +\n+        \"\\\"aid\\\" : \\\"\" + aid + \"\\\", \" +\n+        \"\\\"pid\\\" : \\\"\" + pid + \"\\\", \" +\n+        \"\\\"text\\\" : \\\"\" + text + \"\\\", \" +\n+        \"\\\"createDateTime\\\" : \\\"\" + formatDT(createDateTime) + \"\\\", \" +\n+        \"\\\"name\\\" : \\\"\" + name + \"\\\"}\";\n+  }\n+}"
  }, {
    "sha" : "505d4ab43eec87a49b8b026a2bdcc9e86e1499f7",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply2.java",
    "status" : "added",
    "additions" : 99,
    "deletions" : 0,
    "changes" : 99,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply2.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply2.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply2.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,99 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myJavaBeans;\n+\n+import java.sql.*;\n+\n+//负责回复1级回复、删除2级回复、查看2级回复操作的相关内容\n+public class Reply2 extends MyJavaBean {\n+  private int id;\n+  private int aid;\n+  private int rid;\n+  private String text;\n+  private Date createDateTime;\n+  private String name;  //作者昵称\n+  public int getId() {\n+    return id;\n+  }\n+  public void setId(int id) {\n+    this.id = id;\n+  }\n+  public int getAid() {\n+    return aid;\n+  }\n+  public void setAid(int aid) {\n+    this.aid = aid;\n+  }\n+  public int getRid() {\n+    return rid;\n+  }\n+  public void setRid(int rid) {\n+    this.rid = rid;\n+  }\n+  public String getText() {\n+    return text;\n+  }\n+  public void setText(String text) {\n+    this.text = text;\n+  }\n+  public Date getCreateDateTime() {\n+    return createDateTime;\n+  }\n+  public void setCreateDateTime(Date createDateTime) {\n+    this.createDateTime = createDateTime;\n+  }\n+  public String getName() {\n+    return name;\n+  }\n+  public void setName(String name) {\n+    this.name = name;\n+  }\n+  @Override\n+  public String getGetSQL(int method) {\n+    switch (method) {\n+    case 0:\n+      in = new int[1];\n+      in[0] = 0;\n+      out = new int[5];\n+      out[0] = 0;\n+      out[1] = 1;\n+      out[2] = 2;\n+      out[3] = 3;\n+      out[4] = 4;\n+      return \"GetReply2 @id=?\";\n+    case 1:\n+      in = new int[1];\n+      in[0] = 2;\n+      out = new int[5];\n+      out[0] = 0;\n+      out[1] = 3;\n+      out[2] = 1;\n+      out[3] = 5;\n+      out[4] = 4;\n+      return \"GetSomeReply2 @rid=?\";\n+    }\n+    return null;\n+  }\n+  @Override\n+  public String getInsertSQL() {\n+    in = new int[3];\n+    in[0] = 1;\n+    in[1] = 2;\n+    in[2] = 3;\n+    return \"CreateReply2 @aid=?,@rid=?,@text='?'\";\n+  }\n+  @Override\n+  public String getDeleteSQL() {\n+    in = new int[1];\n+    in[0] = 0;\n+    return \"DeleteReply2 @id=?\";\n+  }\n+  @Override\n+  public String toString() {\n+    return \"{\" +\n+        \"\\\"id\\\" : \\\"\" + id + \"\\\", \" +\n+        \"\\\"aid\\\" : \\\"\" + aid + \"\\\", \" +\n+        \"\\\"rid\\\" : \\\"\" + rid + \"\\\", \" +\n+        \"\\\"text\\\" : \\\"\" + text + \"\\\", \" +\n+        \"\\\"createDateTime\\\" : \\\"\" + formatDT(createDateTime) + \"\\\", \" +\n+        \"\\\"name\\\" : \\\"\" + name + \"\\\"}\";\n+  }\n+}"
  }, {
    "sha" : "cfca22d373b2ee4916aa30a5d8c51d06eff7153f",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/GetReply2.java",
    "status" : "added",
    "additions" : 43,
    "deletions" : 0,
    "changes" : 43,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/GetReply2.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/GetReply2.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/GetReply2.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,43 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/getReply2\")\n+public class GetReply2 extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  //负责获取、返回2级回复\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    //获取数据\n+    int rid = Integer.parseInt((String) session.getAttribute(\"rid\"));\n+    session.removeAttribute(\"rid\");\n+    //组装数据\n+    Reply2 param = new Reply2();\n+    param.setRid(rid);\n+    //使用DAO获取2级回复\n+    MyDAO<Reply2> dao = new MyDAO<Reply2>(Reply2.class);\n+    Vector<Reply2> result = null;\n+    PrintWriter out = response.getWriter();\n+    try {\n+      result = dao.get(1, param);\n+      String s = result.toString();\n+      //返回2级回复\n+      out.print(s);\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    }\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+  }\n+}"
  }, {
    "sha" : "e5bf791d2e1e79463ae3354c1165b68e986a7745",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Login.java",
    "status" : "added",
    "additions" : 86,
    "deletions" : 0,
    "changes" : 86,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Login.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Login.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Login.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,86 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.*;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;;\n+\n+@WebServlet(\"/login\")\n+public class Login extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  public Login() {\n+    super();\n+  }\n+\n+  public void destroy() {\n+    super.destroy();\n+  }\n+\n+  //负责退出操作\n+  public void doGet(HttpServletRequest request, HttpServletResponse response)\n+      throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    //获取参数\n+    String out = (String) session.getAttribute(\"out\");\n+    session.removeAttribute(\"out\");\n+    //存在参数out表示是退出请求\n+    if (out != null) {\n+      //移除已登录的标记\n+      session.removeAttribute(\"hasLogined\");\n+      //移除登录信息\n+      session.removeAttribute(\"account\");\n+    }\n+    //跳转到index.jsp\n+    response.sendRedirect(\"./\");\n+  }\n+\n+  //负责登录操作\n+  public void doPost(HttpServletRequest request, HttpServletResponse response)\n+      throws ServletException, IOException {\n+\n+    HttpSession session = request.getSession();\n+    //获取参数——用户名、密码\n+    String username = (String) session.getAttribute(\"username\");\n+    session.removeAttribute(\"username\");\n+    String password = (String) session.getAttribute(\"password\");\n+    session.removeAttribute(\"password\");\n+\n+    //使用MyDAO进行检查\n+\n+    //创建DAO实例\n+    MyDAOInterface<Account> dao = new MyDAO<Account>(Account.class);\n+    //获取输入数据\n+    Account current = new Account();\n+    current.setUsername(username);\n+    current.setPassword(password);\n+    //使用DAO执行检查\n+    Vector<Account> result;\n+    PrintWriter out = response.getWriter();\n+    try {\n+      result = dao.get(0, current);\n+      result.get(0).setUsername(username);\n+      //没有抛出则一定正确\n+      //设置标记\n+      session.setAttribute(\"hasLogined\", true);\n+      //写入登录信息\n+      session.setAttribute(\"account\", result.get(0));\n+      //返回成功消息\n+      out.print(\"success\");\n+    } catch (SQLException e) {\n+      //关闭原来的数据库连接\n+      dao.CloseDB();\n+      //返回错误消息\n+      out.print(e.getMessage());\n+    }\n+  }\n+\n+  public void init() throws ServletException {\n+  }\n+}"
  }, {
    "sha" : "4c3ebf206b01a50c5b6e4fd6a07d5cee533ebde6",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewPosts.java",
    "status" : "added",
    "additions" : 45,
    "deletions" : 0,
    "changes" : 45,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewPosts.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewPosts.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewPosts.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,45 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/newPosts\")\n+public class NewPosts extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    PrintWriter out = response.getWriter();\n+    //获取标题、内容\n+    String title = (String) session.getAttribute(\"title\");\n+    session.removeAttribute(\"title\");\n+    String text = (String) session.getAttribute(\"text\");\n+    session.removeAttribute(\"text\");\n+    //获取发帖账户ID\n+    int aid = ((Account) session.getAttribute(\"account\")).getId();\n+    //组装数据\n+    Posts New = new Posts();\n+    New.setAid(aid);\n+    New.setTitle(title);\n+    New.setText(text);\n+    //使用DAO写入新帖\n+    MyDAO<Posts> dao = new MyDAO<Posts>(Posts.class);\n+    try {\n+      dao.Insert(New);\n+      out.print(\"success\");\n+    } catch (SQLException e) {\n+      out.print(e.getMessage());\n+    }\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    doGet(request, response);\n+  }\n+}"
  }, {
    "sha" : "01c7b01e4f88ab1ebe7d4b328bc943c3776a7a2b",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply1.java",
    "status" : "added",
    "additions" : 46,
    "deletions" : 0,
    "changes" : 46,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply1.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply1.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply1.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,46 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.IOException;\n+import java.sql.SQLException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/reply1\")\n+public class NewReply1 extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  //负责处理1级回复\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    //获取发表回复账户的ID\n+    int aid = ((Account) session.getAttribute(\"account\")).getId();\n+    //获取所回复的帖子的ID\n+    int pid = Integer.parseInt((String) session.getAttribute(\"pid\"));\n+    //获取1级回复的内容\n+    String text = (String) session.getAttribute(\"text\");\n+    session.removeAttribute(\"text\");\n+    //组装新回复对象\n+    Reply1 item = new Reply1();\n+    item.setAid(aid);\n+    item.setPid(pid);\n+    item.setText(text);\n+    //使用DAO插入新回复\n+    MyDAO<Reply1> dao = new MyDAO<Reply1>(Reply1.class);\n+    try {\n+      dao.Insert(item);\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    }\n+    //跳转回刚才的帖子页面\n+    response.sendRedirect(\"./display.jsp?id=\" + pid);\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    doGet(request, response);\n+  }\n+}"
  }, {
    "sha" : "43b01537a58864eedf039126e35fe6f9bf68f9fe",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply2.java",
    "status" : "added",
    "additions" : 46,
    "deletions" : 0,
    "changes" : 46,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply2.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply2.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply2.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,46 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+\n+import javax.servlet.*;\n+import javax.servlet.http.*;\n+import javax.servlet.annotation.WebServlet;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/reply2\")\n+public class NewReply2 extends HttpServlet implements Servlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  //负责处理2级回复\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    //获取数据\n+    int aid = ((Account) session.getAttribute(\"account\")).getId();\n+    int rid = Integer.parseInt((String) session.getAttribute(\"rid\"));\n+    session.removeAttribute(\"rid\");\n+    String text = (String) session.getAttribute(\"text\");\n+    session.removeAttribute(\"text\");\n+    //组装数据\n+    Reply2 item = new Reply2();\n+    item.setAid(aid);\n+    item.setRid(rid);\n+    item.setText(text);\n+    //使用DAO插入2级回复\n+    MyDAO<Reply2> dao = new MyDAO<Reply2>(Reply2.class);\n+    try {\n+      dao.Insert(item);\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    }\n+    //返回结果\n+    PrintWriter out = response.getWriter();\n+    out.print(\"success\");\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    doGet(request, response);\n+  }\n+}"
  }, {
    "sha" : "0b8141376d42372392ed0631471bdd5cedcb8314",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Register.java",
    "status" : "added",
    "additions" : 54,
    "deletions" : 0,
    "changes" : 54,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Register.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Register.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Register.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,54 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.sql.SQLException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/register\")\n+public class Register extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  public Register() {\n+    super();\n+  }\n+\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    //获取提交的数据\n+    String username = (String) session.getAttribute(\"username\");\n+    session.removeAttribute(\"username\");\n+    String password = (String) session.getAttribute(\"password\");\n+    session.removeAttribute(\"password\");\n+    String name = (String) session.getAttribute(\"name\");\n+    session.removeAttribute(\"name\");\n+    //写入JavaBean\n+    Account New = new Account();\n+    New.setUsername(username);\n+    New.setPassword(password);\n+    New.setName(name);\n+    //使用DAO注册\n+    MyDAO<Account> dao = new MyDAO<Account>(Account.class);\n+    PrintWriter out = response.getWriter();\n+    try {\n+      //执行注册操作\n+      dao.Insert(New);\n+      //返回成功消息\n+      out.print(\"success\");\n+    } catch (SQLException e) {\n+      //关闭原来的数据库连接\n+      dao.CloseDB();\n+      //返回错误消息\n+      out.print(e.getMessage());\n+    }\n+  }\n+}"
  }, {
    "sha" : "4c0b9f8e1f79aff9fceb8198aeb7c689f74387b8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveAccount.java",
    "status" : "added",
    "additions" : 48,
    "deletions" : 0,
    "changes" : 48,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveAccount.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveAccount.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveAccount.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,48 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/removeAccount\")\n+public class RemoveAccount extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    PrintWriter out = response.getWriter();\n+    //获取数据\n+    String username = (String) session.getAttribute(\"username\");\n+    session.removeAttribute(\"username\");\n+    String susn = ((Account) session.getAttribute(\"account\")).getUsername();\n+    //判断是否是本账户的操作\n+    if (!susn.equals(username)) {\n+      out.print(\"无法注销其他人的账户！\");\n+      return;\n+    }\n+    //组装数据\n+    Account item = new Account();\n+    item.setUsername(username);\n+    //使用DAO删除账户\n+    MyDAO<Account> dao = new MyDAO<Account>(Account.class);\n+    try {\n+      dao.Remove(item);\n+      //同时准备退出\n+      session.removeAttribute(\"account\");\n+      session.removeAttribute(\"hasLogined\");\n+      out.print(\"success\");\n+    } catch (SQLException e) {\n+      out.print(e.getMessage());\n+    }\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    doGet(request, response);\n+  }\n+}"
  }, {
    "sha" : "446fd9742409020bdacf4f84c7f9230bf1f2c1a0",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemovePosts.java",
    "status" : "added",
    "additions" : 49,
    "deletions" : 0,
    "changes" : 49,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemovePosts.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemovePosts.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemovePosts.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,49 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/removePosts\")\n+public class RemovePosts extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    PrintWriter out = response.getWriter();\n+    //获取数据\n+    int aid = ((Account) session.getAttribute(\"account\")).getId();\n+    int id = Integer.parseInt((String) session.getAttribute(\"id\"));\n+    session.removeAttribute(\"id\");\n+    //组装数据\n+    Posts item = new Posts();\n+    item.setId(id);\n+    //使用DAO\n+    MyDAO<Posts> dao = new MyDAO<Posts>(Posts.class);\n+    Vector<Posts> result = null;\n+    try {\n+      //判断是否可以删帖\n+      result = dao.get(0, item);\n+      if (result.get(0).getAid() != aid) {\n+        out.print(\"无法删除非本账号的帖子！\");\n+        return;\n+      }\n+      //删帖\n+      dao.Remove(item);\n+      out.print(\"success\");\n+    } catch (SQLException e) {\n+      out.print(e.getMessage());\n+    }\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    doGet(request, response);\n+  }\n+}"
  }, {
    "sha" : "4cd61998d2758f4efd1e42798fdbc5fce0bf06d8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply1.java",
    "status" : "added",
    "additions" : 49,
    "deletions" : 0,
    "changes" : 49,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply1.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply1.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply1.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,49 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/removeReply1\")\n+public class RemoveReply1 extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    PrintWriter out = response.getWriter();\n+    //获取数据\n+    int aid = ((Account) session.getAttribute(\"account\")).getId();\n+    int id = Integer.parseInt((String) session.getAttribute(\"id\"));\n+    session.removeAttribute(\"id\");\n+    //组装数据\n+    Reply1 item = new Reply1();\n+    item.setId(id);\n+    //使用DAO\n+    MyDAO<Reply1> dao = new MyDAO<Reply1>(Reply1.class);\n+    Vector<Reply1> result = null;\n+    try {\n+      //判断是否可以删帖\n+      result = dao.get(0, item);\n+      if (result.get(0).getAid() != aid) {\n+        out.print(\"无法删除非本账号的回复！\");\n+        return;\n+      }\n+      //删除回复\n+      dao.Remove(item);\n+      out.print(\"success\");\n+    } catch (SQLException e) {\n+      out.print(e.getMessage());\n+    }\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    doGet(request, response);\n+  }\n+}"
  }, {
    "sha" : "16f672fbfb42ef090f37de76b773563f9023cf59",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply2.java",
    "status" : "added",
    "additions" : 49,
    "deletions" : 0,
    "changes" : 49,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply2.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply2.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply2.java?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,49 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/removeReply2\")\n+public class RemoveReply2 extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    PrintWriter out = response.getWriter();\n+    //获取数据\n+    int aid = ((Account) session.getAttribute(\"account\")).getId();\n+    int id = Integer.parseInt((String) session.getAttribute(\"id\"));\n+    session.removeAttribute(\"id\");\n+    //组装数据\n+    Reply2 item = new Reply2();\n+    item.setId(id);\n+    //使用DAO\n+    MyDAO<Reply2> dao = new MyDAO<Reply2>(Reply2.class);\n+    Vector<Reply2> result = null;\n+    try {\n+      //判断是否可以删帖\n+      result = dao.get(0, item);\n+      if (result.get(0).getAid() != aid) {\n+        out.print(\"无法删除非本账号的回复！\");\n+        return;\n+      }\n+      //删除回复\n+      dao.Remove(item);\n+      out.print(\"success\");\n+    } catch (SQLException e) {\n+      out.print(e.getMessage());\n+    }\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    doGet(request, response);\n+  }\n+}"
  }, {
    "sha" : "13c4428eeb2caec239809aebb697c7c8d2379dff",
    "filename" : "jweb/web/1414080902106/account.jsp",
    "status" : "added",
    "additions" : 47,
    "deletions" : 0,
    "changes" : 47,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/account.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/account.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/account.jsp?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,47 @@\n+<!DOCTYPE html>\n+<%@ page contentType=\"text/html;charset=utf-8\" pageEncoding=\"utf-8\"%>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+\n+<html lang=\"zh-CN\">\n+  <head>\n+    <c:if test=\"${other.getId() == account.getId()}\">\n+      <title>我的个人主页</title>\n+    </c:if>\n+    <c:if test=\"${other.getId() != account.getId()}\">\n+      <title>${other.getName()}的个人主页</title>\n+    </c:if>\n+    <meta content=\"charset=utf-8\">\n+    <script type=\"text/javascript\" src=\"js/ajax.js\"></script>\n+    <script type=\"text/javascript\" src=\"js/account.js\"></script>\n+    <link rel=\"stylesheet\" href=\"http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css\">\n+    <link rel=\"stylesheet\" href=\"css/head.css\">\n+    <link rel=\"stylesheet\" href=\"css/frame.css\">\n+    <link rel=\"stylesheet\" href=\"css/content.css\">\n+  </head>\n+  <body class=\"account\">\n+    <div class=\"user\">\n+      <p>欢迎<span class=\"name\">${account.getName()}</span></p>\n+      <div class=\"operation\">\n+        <a class=\"person\" href=\"account.jsp?id=${account.getId()}\">个人主页</a>\n+        <a class=\"exit\" href=\"login?out=1\">退出登录</a>\n+      </div>\n+    </div>\n+    <button class=\"home\" id=\"home\" onClick=\"gotoHome()\">返回主页</button>\n+    <c:if test=\"${other.getId() == account.getId()}\">\n+      <button class=\"remove\" id=\"remove\" title=\"删除账号\" onClick=\"removeAccount(${account.getUsername()})\">注销账号</button>\n+      <div class=\"logo\">我发表过的帖子</div>\n+    </c:if>\n+    <c:if test=\"${other.getId() != account.getId()}\">\n+      <div class=\"logo\">${other.getName()}发表过的帖子</div>\n+    </c:if>\n+    <div class=\"posts\">\n+    <c:forEach items=\"${posts}\" var=\"current\">\n+      <div class=\"item\" onmousemove=\"beObvious(this)\" onmouseout=\"beNormal(this)\">\n+        <span class=\"badge\">${current.getReplyCount()}</span>\n+        <a class=\"title\" href=\"./display.jsp?id=${current.getId()}\">${current.getTitle()}</a>\n+        <div class=\"datetime\">${current.getCreateDateTime()}</div>\n+      </div>\n+    </c:forEach>\n+    </div>\n+  </body>\n+</html>\n\\ No newline at end of file"
  }, {
    "sha" : "afd36316e65bd8fb5d36ddd0f23815ac450abbcf",
    "filename" : "jweb/web/1414080902106/css/content.css",
    "status" : "added",
    "additions" : 118,
    "deletions" : 0,
    "changes" : 118,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/css/content.css",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/css/content.css",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/css/content.css?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,118 @@\n+/* 本文件用于定义跟 颜色、字体、对齐、边框 相关的选择器 */\n+/* 全局通用 */\n+.user .name { font-weight: bold; }\n+.author .name { color: rgba(0,0,0,.4) }\n+.logo {\n+  text-align: center;\n+  font-family: New Times Roman;\n+  font-size: 36px;\n+  font-weight: bold;\n+  color: rgba(120,4,4,.5);\n+}\n+\n+/* index, register */\n+body.index, body.register { background-color: rgba(0,0,255,.1); }\n+.index > .login, .register, .new-posts { text-align: center; }\n+\n+/* home */\n+body.home, body.new-posts { background-color: rgba(220,239,254,1); }\n+.home > .posts > .item * { text-align: left; }\n+.home > .posts .reply { text-align: center; }\n+.home > .posts {\n+  background-color: white;\n+  border-style: solid;\n+  border-width: thin;\n+  border-color: rgba(0,0,0,.1);\n+}\n+.home > .posts .create {\n+  font-size: 24px;\n+  font-weight: bold;\n+}\n+.home > .posts .title {\n+  font-size: 24;\n+  color: rgba(45,100,179,1);\n+}\n+.home > .posts > .item {\n+  border-bottom-style: dotted;\n+  border-bottom-width: thin;\n+  border-bottom-color: rgba(0,0,0,.1);\n+}\n+.home > .posts .datetime {\n+  font-family: \"Times New Roman\";\n+  font-style: italic;\n+}\n+\n+/* display */\n+body.display { background-color: rgba(220,239,254,1); }\n+.display .datetime { text-align: end; }\n+.display > .posts { background-color: white; }\n+.display > .posts > .reply > .new { text-align: end; }\n+.display > .posts > .reply > .reply { text-align: end; }\n+.display > .posts .text { float: left; }\n+.display > .posts > .reply .reply .old .delete { float: right; }\n+.display > .posts > .reply .reply .old .datetime { clear: none; }\n+.display > .posts > .reply .reply .new { text-align: right; }\n+.display > .posts > .title {\n+  border-bottom-style: solid;\n+  border-bottom-width: thin;\n+  border-bottom-color: rgba(0,0,0,.3);\n+  font-family: \"楷体\";\n+  font-size: 24px;\n+}\n+.display > .posts .author {\n+  text-align: center;\n+  background-color: rgba(0,0,0,.05);\n+}\n+.display > .posts .datetime {\n+  float: right;\n+  clear: both;\n+}\n+.display > .posts .operation {\n+  clear: both;\n+  text-align: end;\n+}\n+.display > .posts > .reply {\n+  border-style: solid;\n+  border-width: thin;\n+  border-color: rgba(0,0,0,.1);\n+}\n+.display > .posts > .reply > .count {\n+  color: rgba(0,127,255,.7);\n+  font-weight: bold;\n+}\n+.display > .posts > .reply .reply {\n+  text-align: left;\n+  border-style: solid;\n+  border-width: thin;\n+  border-color: rgba(0,0,0,.5);\n+}\n+.display > .posts > .reply .reply .item {\n+  border-bottom-style: dotted;\n+  border-bottom-width: thin;\n+  border-bottom-color: rgba(0,0,0,.3);\n+}\n+.display > .posts > .reply .reply .author {\n+  text-align: right;\n+  background-color: white;\n+}\n+.display > .posts > .reply .reply .author > .name {\n+  float: left;\n+  text-align: right;\n+  color: orange;\n+}\n+.display > .posts > .reply .reply .author > .name:after {\n+  content: \" : \";\n+  font-weight: bold;\n+}\n+\n+/* account */\n+body.account { background-color: rgba(0,0,255,.1); }\n+.account .posts {\n+  outline-style: dotted;\n+  outline-width: thin;\n+  background-color: white;\n+}\n+.account .datetime {\n+  float: right;\n+  clear: rigth;\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "22d2e615a6a20aae22ce6ef218d7241aea781439",
    "filename" : "jweb/web/1414080902106/css/display.css",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 19,
    "changes" : 19,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/web/1414080902106/css/display.css",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/web/1414080902106/css/display.css",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/css/display.css?ref=c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb",
    "patch" : "@@ -1,19 +0,0 @@\n-body{\n-\tbackground-color : #dceffe;\n-}\n-.right-top{\n-\tposition : relative;\n-\tright : 10%;\n-}\n-#title{\n-\tposition : relative;\n-\tleft : 10%;\n-\twidth : 80%;\n-}\n-#mid-block{\n-\tbackground-color : white;\n-\tposition : relative;\n-\tleft : 10%;\n-\twidth : 80%;\n-\theight : 100%;\n-}\n\\ No newline at end of file"
  }, {
    "sha" : "bbe36390697c0efb4c83b9a6917214e325c62abc",
    "filename" : "jweb/web/1414080902106/css/form.css",
    "status" : "added",
    "additions" : 57,
    "deletions" : 0,
    "changes" : 57,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/css/form.css",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/css/form.css",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/css/form.css?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,57 @@\n+.form { display: inline-block; }\n+.form .operation { display: flex; }\n+.form .operation * {\n+  width: 50%;\n+  margin-left: 10%;\n+  margin-right: 10%;\n+}\n+.form > .item {\n+  text-align: left;\n+}\n+.form > .item > label {\n+  display: inline-block;\n+  text-align: right;\n+  width: 3cm;\n+}\n+.tip {\n+  display: inline-block;\n+  text-align: center;\n+  width: 200px;\n+  font-weight: bold;\n+  color: red;\n+}\n+.new-posts .tip {\n+  position: relative;\n+  left: 10px;\n+  top: -23px;\n+  text-align: left;\n+  position: relative;\n+  font-weight: normal;\n+  color: rgba(0,0,0,.2);\n+}\n+.new-posts .title {\n+  display: block;\n+  padding-left: 10px;\n+  padding-right: 10px;\n+  min-width: 600px; \n+}\n+.new-posts .text {\n+  min-width: 600px;\n+  max-width: 600px;\n+  min-height: 300px;\n+  max-height: 300px;\n+  padding: 10px;\n+}\n+.new-posts .operation {\n+  display: -moz-box;\n+  display: -webkit-box;\n+  display: box;\n+  -moz-box-pack: end;\n+  -webkit-box-pack: end;\n+  box-pack: end;\n+}\n+.new-posts .do {\n+  display: block;\n+  margin: 10px;\n+  width: 10%;\n+}"
  }, {
    "sha" : "c66d4ca18018529451e18fddc128bf318ef1c9ac",
    "filename" : "jweb/web/1414080902106/css/frame.css",
    "status" : "added",
    "additions" : 170,
    "deletions" : 0,
    "changes" : 170,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/css/frame.css",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/css/frame.css",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/css/frame.css?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,170 @@\n+/* 本文件用于定义跟 位置、盒子、展现 相关的选择器 */\n+/* 全局通用 */\n+.logo {\n+  padding-top: 10px;\n+  padding-bottom: 10px;\n+}\n+\n+/* index */\n+body.index {\n+  padding: 136px;\n+  min-width: 1360px;\n+}\n+\n+/* register */\n+body.register {\n+  padding: 68px;\n+  min-width: 1360px;\n+}\n+\n+/* new-posts */\n+body.new-posts { min-width: 1360px; }\n+.new-posts .user { margin-bottom: 2%; }\n+\n+/* home */\n+body.home { min-width: 1360px; }\n+.home > .posts .title { width: 72%; }\n+.home > .posts .author { width: 10%; }\n+.home > .posts .datetime { width: 10%; }\n+.home > .posts {\n+  margin-left: 10%;\n+  margin-right: 10%;\n+}\n+.home > .posts > .create {\n+  display: block;\n+  margin-left: 20%;\n+  margin-right: 20%;\n+  margin-bottom: 1%;\n+}\n+.home > .posts > .item {\n+  display: flex;\n+  padding-top: 10px;\n+  padding-bottom: 10px;\n+}\n+.home > .posts .reply {\n+  margin-left: 10px;\n+  margin-right: 10px;\n+  width: 8%;\n+}\n+\n+/* display */\n+body.display { min-width: 1360px; }\n+.display > .posts .datetime { padding: 8px; }\n+.display > .posts > .reply { display: flex; }\n+.display > .posts > .reply .reply .old .datetime { padding: 0; }\n+.display > .posts .new > .do { margin: 10px; }\n+.display > .home {\n+  display: block;\n+  margin-left: 10%;\n+}\n+.display > .posts {\n+  margin-left: 10%;\n+  margin-right: 10%;\n+}\n+.display > .posts > .title {\n+  padding-left: 10px;\n+  padding-top: 10px;\n+  padding-bottom: 10px;\n+}\n+.display > .posts > .reply > .count {\n+  margin-left: 8px;\n+  margin-right: 8px;\n+}\n+.display > .posts > .main {\n+  display: -moz-box;\n+  display: -webkit-box;\n+  display: box;\n+}\n+.display > .posts .content {\n+  min-width: 90.8%;\n+  max-width: 90.8%;\n+}\n+.display > .posts .author {\n+  padding-top: 12px;\n+  min-width: 100px;\n+  max-width: 100px;\n+}\n+.display > .posts .text {\n+  padding: 1em;\n+  min-width: 100%;\n+  max-width: 100%;\n+  min-height: 100px;\n+}\n+.display > .posts .operation * {\n+  margin-right: 10px;\n+  margin-bottom: 10px;\n+}\n+.display > .posts > .reply .new {\n+  margin-top: 5%;\n+  margin-left: 10%;\n+  margin-right: 10%;\n+  margin-bottom: 5%;\n+  width: 80%;\n+}\n+.display > .posts > .reply .new .text {\n+  max-width: 100%;\n+  min-width: 100%;\n+  max-height: 100px;\n+  min-height: 100px;\n+}\n+.display > .posts > .reply .reply {\n+  display: none;\n+  margin-top: 1%;\n+  margin-left: 4%;\n+  margin-right: 10%;\n+  margin-bottom: 5%;\n+}\n+.display > .posts > .reply .reply .old {\n+  margin-left: 2%;\n+  margin-right: 2%;\n+  margin-top: 4px;\n+  margin-bottom: 4px;\n+}\n+.display > .posts > .reply .reply .item {\n+  display: -moz-box;\n+  display: -webkit-box;\n+  display: box;\n+}\n+.display > .posts > .reply .reply .author {\n+  padding-top: 0;\n+  min-width: 50px;\n+}\n+.display > .posts > .reply .reply .author .name {\n+  padding-top: 6px;\n+  margin-right: 4px;\n+  width: 60px;\n+}\n+.display > .posts > .reply .reply .old .content {\n+  min-width: 92%;\n+  max-width: 92%;\n+  padding-top: 6px;\n+  padding-bottom: 6px;\n+}\n+.display > .posts > .reply .reply .old .text {\n+  min-height: 0;\n+  padding: 0;\n+}\n+.display > .posts > .reply .reply .new {\n+  margin-left: 5%;\n+  margin-right: 5%;\n+  width: auto;\n+}\n+.display > .posts > .reply .reply .new .text {\n+  display: block;\n+  padding-left: 20px;\n+  padding-right: 30px;\n+  max-width: 100%;\n+  min-width: 100%;\n+  max-height: 80px;\n+  min-height: 80px;\n+  overflow: overlay;\n+}\n+\n+/* account */\n+body.account { min-width: 1360px; }\n+.account > .home { margin-left: 10%; }\n+.account > .posts {\n+  margin-left: 10%;\n+  margin-right: 10%;\n+  padding: 5px;\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "fda8a654b59757d90f26608e1107a98e096bcfa5",
    "filename" : "jweb/web/1414080902106/css/head.css",
    "status" : "added",
    "additions" : 6,
    "deletions" : 0,
    "changes" : 6,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/css/head.css",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/css/head.css",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/css/head.css?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,6 @@\n+.user > .name { font-weight: bold; }\n+.user {\n+  margin-bottom: 5%;\n+  display: block;\n+  text-align: right;\n+}"
  }, {
    "sha" : "cb0578eff06b6ef9fcedf163bae31691be8ccc5d",
    "filename" : "jweb/web/1414080902106/css/home.css",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 24,
    "changes" : 24,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/web/1414080902106/css/home.css",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/web/1414080902106/css/home.css",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/css/home.css?ref=c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb",
    "patch" : "@@ -1,24 +0,0 @@\n-body{\n-\tbackground-color : #dceffe;\n-}\n-#mid-block{\n-\tbackground-color : white;\n-\tposition : relative;\n-\tleft : 10%;\n-\twidth : 80%;\n-\theight : 100%;\n-}\n-#new-button{\n-\tposition : relative;\n-\tleft : 10%;\n-}\n-.every-title{\n-\tposition : relative;\n-\tleft : 10%;\n-\tfont-size : 24;\n-\tmargin-bottom : 0;\n-}\n-#username{\n-\tposition : relative;\n-\tright : 10%;\n-}\n\\ No newline at end of file"
  }, {
    "sha" : "fcab54d704e00356a1244cc111354a3f7414216c",
    "filename" : "jweb/web/1414080902106/css/new_content.css",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 33,
    "changes" : 33,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/web/1414080902106/css/new_content.css",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/web/1414080902106/css/new_content.css",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/css/new_content.css?ref=c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb",
    "patch" : "@@ -1,33 +0,0 @@\n-.title-tip{\n-\tposition : absolute;\n-\tleft : 4px;\n-\ttop : 3px;\n-\tcolor : gray;\n-\tfloat : left;\n-}\n-#title{\n-\tbackground-color : white;\n-\twidth : 100%;\n-}\n-#text{\n-\tbackground-color : white;\n-\twidth : 100%;\n-\theight : 100%;\n-}\n-body{\n-\tbackground-color : #dceffe;\n-}\n-#mid-block{\n-\tposition : relative;\n-\tleft : 10%;\n-\twidth : 80%;\n-\theight : 100%;\n-}\n-#tip{\n-\tposition : relative;\n-\tleft : 10%;\n-}\n-.right-top{\n-\tposition : relative;\n-\tright : 10%;\n-}\n\\ No newline at end of file"
  }, {
    "sha" : "88266e5b17f511860485b20eaf7da85423347556",
    "filename" : "jweb/web/1414080902106/display.jsp",
    "status" : "modified",
    "additions" : 85,
    "deletions" : 22,
    "changes" : 107,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/display.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/display.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/display.jsp?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -1,23 +1,86 @@\n-<%@ page pageEncoding=\"utf-8\" %>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n-<%\n-\tsession.setAttribute(\"index\",request.getParameter(\"index\"));\n-%>\n-<html>\n-\t<head>\n-\t\t<title><c:out value=\"${content.get(index).getTitle()}\" /></title>\n-\t    <link rel=\"stylesheet\" href=\"http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css\">\n-\t\t<link rel='stylesheet' href='css/display.css'>\n-\t</head>\n-\t<body>\n-\t\t<div class=\"right-top\">\n-\t\t\t<p align=\"right\">欢迎&nbsp;<a href=\"\"><c:out value=\"${username}\" /></a></p>\n-\t\t\t<p align=\"right\"><a href=\"home.jsp\" >返回主页</a></p>\n-\t\t</div>\n-\t\t<h2 id=\"title\"><c:out value=\"${content.get(index).getTitle()}\" /></h2>\n-\t\t<hr style=\"border-top:1px solid blue\" >\n-\t\t<div id=\"mid-block\" >\n-\t\t\t<textarea readonly style=\"width:100%;height:100%\"><c:out value=\"${content.get(index).getText()}\" /></textarea>\n-\t\t</div>\n-\t</body>\n+<!DOCTYPE html>\n+<%@ page contentType=\"text/html;charset=utf-8\" pageEncoding=\"utf-8\"%>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+\n+<html lang=\"zh-CN\">\n+  <head>\n+    <title>${posts.getTitle()}</title>\n+    <meta content=\"charset=utf-8\">\n+    <script type=\"text/javascript\" src=\"js/ajax.js\"></script>\n+    <script type=\"text/javascript\" src=\"js/display.js\"></script>\n+    <link rel=\"stylesheet\" href=\"http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css\">\n+    <link rel=\"stylesheet\" href=\"css/head.css\">\n+    <link rel=\"stylesheet\" href=\"css/frame.css\">\n+    <link rel=\"stylesheet\" href=\"css/content.css\">\n+  </head>\n+  <body class=\"display\">\n+    <div class=\"user\">\n+      <p>欢迎<span class=\"name\">${account.getName()}</span></p>\n+      <div class=\"operation\">\n+        <a class=\"person\" href=\"account.jsp?id=${account.getId()}\">个人主页</a>\n+        <a class=\"exit\" href=\"login?out=1\">退出登录</a>\n+      </div>\n+    </div>\n+    <button class=\"home\" id=\"home\" onClick=\"gotoHome()\">返回主页</button>\n+    <div class=\"posts\">\n+      <div class=\"reply\">\n+        <span class=\"count\">${posts.getReplyCount()}</span>回复\n+      </div>\n+      <div class=\"title\">${posts.getTitle()}</div>\n+      <div class=\"main\">\n+        <div class=\"author\">\n+          <a class=\"name\" href=\"./account.jsp?id=${posts.getAid()}\">${posts.getName()}</a>\n+        </div>\n+        <div class=\"content\">\n+          <div class=\"text\">${posts.getText()}</div>\n+          <div class=\"datetime\">${posts.formatDT(posts.getCreateDateTime())}</div>\n+          <div class=\"operation\">\n+            <button class=\"reply\" onClick=\"gotoReply1()\">我来说一句</button>\n+            <c:if test=\"${posts.getAid() == account.getId()}\">\n+              <button class=\"delete\" onclick=\"removePosts(${posts.getId()})\">删除</button>\n+            </c:if>\n+          </div>\n+        </div>\n+      </div>\n+      <c:forEach items=\"${reply1}\" var=\"current\">\n+        <div class=\"reply\">\n+          <div class=\"author\">\n+            <a class=\"name\" href=\"./account.jsp?id=${current.getAid()}\">${current.getName()}</a>\n+          </div>\n+          <div class=\"content\">\n+            <div class=\"text\">${current.getText()}</div>\n+            <div class=\"datetime\">${current.formatDT(current.getCreateDateTime())}</div>\n+            <div class=\"operation\">\n+              <button class=\"check\" openReply2=\"no\" loadReply2=\"no\" onClick=\"onReply2Btn(this, ${current.getId()}, ${account.getId()})\">查看回复</button>\n+              <c:if test=\"${current.getAid() == account.getId()}\">\n+                <button class=\"delete\" onclick=\"removeReply1(${current.getId()})\">删除</button>\n+              </c:if>\n+            </div>\n+            <div class=\"reply\">\n+              <div class=\"old\"></div>\n+              <div class=\"new\">\n+                <textarea class=\"text\"></textarea>\n+                <button class=\"do\" onClick=\"reply2(this, ${current.getId()}, ${account.getId()})\">我来说一句</button>\n+              </div>\n+            </div>\n+          </div>\n+        </div>\n+      </c:forEach>\n+      <div class=\"reply\"><div class=\"new\">\n+        <textarea class=\"text\" id=\"reply\"></textarea>\n+        <button class=\"do\" onClick=\"reply1(${posts.getId()})\">回复</button>\n+      </div></div>\n+    </div>\n+    <!-- 以下是2级回复的模板 -->\n+    <div id=\"model\" class=\"item\">\n+      <div class=\"author\">\n+        <a class=\"name\" href=\"\"></a>\n+      </div>\n+      <div class=\"content\">\n+        <div class=\"text\"></div>\n+        <div class=\"datetime\"></div>\n+        <div class=\"operation\"></div>\n+      </div>\n+    </div>\n+  </body>\n </html>\n\\ No newline at end of file"
  }, {
    "sha" : "4053ba71159678d39cdd5366a1ab75f981529458",
    "filename" : "jweb/web/1414080902106/home.jsp",
    "status" : "modified",
    "additions" : 36,
    "deletions" : 28,
    "changes" : 64,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/home.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/home.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/home.jsp?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -1,31 +1,39 @@\n-<%@ page contentType=\"text/html;charset=utf-8\" pageEncoding=\"utf-8\" %>\n+<!DOCTYPE html>\n+<%@ page contentType=\"text/html;charset=utf-8\" pageEncoding=\"utf-8\"%>\n <%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n \n-<!-- 因为是实验，所以只能发一个帖子 -->\n-<html>\n-\t<head>\n-\t\t<title>欢迎<c:out value=\"${username}\" />浏览帖子</title>\n-\t    <link rel=\"stylesheet\" href=\"http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css\">\n-\t\t<link rel='stylesheet' href='css/home.css'>\n-\t\t<script type=\"text/javascript\" src=\"http://cdn.bootcss.com/jquery/3.1.1/jquery.js\"></script>\n-\t\t<script type=\"text/javascript\" src=\"js/home.js\"></script>\n-\t</head>\n-\t<body>\n-\t\t<p id=\"username\" align=\"right\">\n-\t\t\t欢迎&nbsp;<strong><c:out value=\"${username}\" /></strong>\n-\t\t\t<br><a href=\"logout.jsp\" >退出登录</a>\n-\t\t</p>\n-\t\t<form method=\"post\" action=\"new_content.jsp\">\n-\t\t\t<input id=\"new-button\" class=\"btn btn-sm btn-primary\" type=\"submit\" value=\"发帖\">\n-\t\t</form>\n-\t\t<div id=\"mid-block\" >\n-\t\t\t<c:forEach items=\"${content}\" var=\"current\" varStatus=\"i\" >\n-\t\t\t\t<div onmousemove=\"beObvious(this)\" onmouseout=\"beNormal(this)\" >\n-\t\t\t\t\t<p class=\"every-title\" >\n-\t\t\t\t\t\t<a href=\"display.jsp?index=${i.count - 1}\" >${current.getTitle()}</a>\n-\t\t\t\t\t</p>\n-\t\t\t\t</div>\n-\t\t\t</c:forEach>\n-\t\t</div>\n-\t</body>\n+<html lang=\"zh-CN\">\n+  <head>\n+    <title>欢迎${account.getName()}浏览帖子</title>\n+    <meta content=\"charset=utf-8\">\n+    <script type=\"text/javascript\" src=\"http://cdn.bootcss.com/jquery/3.1.1/jquery.js\"></script>\n+    <script type=\"text/javascript\" src=\"js/home.js\"></script>\n+    <link rel=\"stylesheet\" href=\"http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css\">\n+    <link rel=\"stylesheet\" href=\"css/head.css\">\n+    <link rel=\"stylesheet\" href=\"css/frame.css\">\n+    <link rel=\"stylesheet\" href=\"css/content.css\">\n+  </head>\n+  <body class=\"home\">\n+    <div class=\"user\">\n+      <p>欢迎<span class=\"name\">${account.getName()}</span></p>\n+      <div class=\"operation\">\n+        <a class=\"person\" href=\"account.jsp?id=${account.getId()}\">个人主页</a>\n+        <a class=\"exit\" href=\"login?out=1\">退出登录</a>\n+      </div>\n+    </div>\n+    <h1 class=\"logo\">My First CMS</h1>\n+    <div class=\"posts\">\n+    <a class=\"create\" id=\"create\" href=\"./newPosts.jsp\">发帖</a>\n+      <c:forEach items=\"${posts}\" var=\"current\">\n+        <div class=\"item\" onmousemove=\"beObvious(this)\" onmouseout=\"beNormal(this)\">\n+          <div class=\"reply\">\n+            <span class=\"badge\">${current.getReplyCount()}</span>\n+          </div>\n+          <a class=\"title\" href=\"display.jsp?id=${current.getId()}\">${current.getTitle()}</a>\n+          <a class=\"author\" href=\"account.jsp?id=${current.getAid()}\">${current.getName()}</a>\n+          <div class=\"datetime\">${current.formatDT(current.getCreateDateTime())}</div>\n+        </div>\n+      </c:forEach>\n+    </div>\n+  </body>\n </html>\n\\ No newline at end of file"
  }, {
    "sha" : "b4eb44504ee9d2455616176c4c71f0165a129899",
    "filename" : "jweb/web/1414080902106/index.jsp",
    "status" : "modified",
    "additions" : 26,
    "deletions" : 33,
    "changes" : 59,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/index.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/index.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/index.jsp?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -1,35 +1,28 @@\n-<%@ page pageEncoding = \"utf-8\" %>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n-<html>\n-\t<head>\n-\t\t<title>登录页面</title>\n-\t\t<meta content=\"charset=utf-8\">\n-\t</head>\n-\t<body>\n-\t\t<c:choose>\n-\t\t\t<c:when test=\"${empty first}\">\n-\t\t\t\t<% session.setAttribute(\"first\", \"no\"); %>\n-\t\t\t</c:when>\n-\t\t\t<c:when test=\"${not empty first}\">\n-\t\t\t\t<p align=\"center\" style=\"color:red\">\n-\t\t\t\t\t<c:out value=\"用户名或密码输入错误！\" />\n-\t\t\t\t</p>\n-\t\t\t</c:when>\n-\t\t</c:choose>\n-\t\t<form action=\"login\" method=\"post\">\n-\t\t\t<table align=\"center\">\n-\t\t\t\t<tr>\n-\t\t\t\t\t<td>用户名：</td>\n-\t\t\t\t\t<td><input name=\"username\" type=\"text\"></td>\n-\t\t\t\t</tr>\n-\t\t\t\t<tr>\n-\t\t\t\t\t<td align=\"right\">密码：</td>\n-\t\t\t\t\t<td><input name=\"password\" type=\"password\"></td>\n-\t\t\t\t</tr>\n-\t\t\t\t<tr>\n-\t\t\t\t\t<td colspan=\"2\" align=\"center\"><input type=\"submit\" value=\"登录\"></td>\n-\t\t\t\t</tr>\n-\t\t\t</table>\n-\t\t</form>\n+<!DOCTYPE html>\n+<%@ page contentType=\"text/html;charset=utf-8\" pageEncoding=\"utf-8\" %>\n+<html lang=\"zh-CN\">\n+  <head>\n+    <title>登录MyCMS</title>\n+    <meta content=\"charset=utf-8\">\n+    <script type=\"text/javascript\" src=\"js/ajax.js\"></script>\n+    <script type=\"text/javascript\" src=\"js/index.js\"></script>\n+    <link rel=\"stylesheet\" href=\"http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css\">\n+    <link rel=\"stylesheet\" href=\"css/frame.css\">\n+    <link rel=\"stylesheet\" href=\"css/content.css\">\n+    <link rel=\"stylesheet\" href=\"css/form.css\">\n+  </head>\n+  <body class=\"index\">\n+    <div class=\"login\">\n+      <p class=\"logo\">My First CMS</p>\n+      <div class=\"form\">\n+        <div class=\"item\"><label for=\"username\">用户名：</label><input id=\"username\" type=\"text\"></div>\n+        <div class=\"item\"><label for=\"password\">密码：</label><input id=\"password\" type=\"password\"></div>\n+        <p class=\"tip\" id=\"tip\"></p>\n+        <div class=\"operation\">\n+          <button id=\"loginBtn\">登录</button>\n+          <button id=\"registerBtn\">注册</button>\n+        </div>\n+      </div>\n+    </div>\n \t</body>\n </html>\n\\ No newline at end of file"
  }, {
    "sha" : "b7c5ca63258a0a9d0b6768682c8dd0fedff45546",
    "filename" : "jweb/web/1414080902106/js/account.js",
    "status" : "added",
    "additions" : 25,
    "deletions" : 0,
    "changes" : 25,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/js/account.js",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/js/account.js",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/js/account.js?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,25 @@\n+window.onload = function() {\n+  home.setAttribute(\"class\", home.getAttribute(\"class\") + \" btn btn-sm btn-success glyphicon glyphicon-circle-arrow-left\");\n+  remove.setAttribute(\"class\", remove.getAttribute(\"class\") + \" btn btn-sm btn-danger glyphicon glyphicon-trash\");\n+};\n+function gotoHome() {\n+  location.href = \"./home.jsp\";\n+}\n+function removeAccount(username) {\n+  createXHR();\n+  sendXHR(\"removeAccount\", \"username=\" + username, \"post\", function() {\n+    if(XHR.readyState == 4 && XHR.status == 200) {\n+      var info = XHR.responseText;\n+      if (info == \"success\")\n+        location.href = \"./\";\n+      else\n+        alert(info);\n+    }\n+  });\n+}\n+function beObvious(obj) {\n+  obj.style = \"background-color: rgba(0,0,0,.2)\";\n+}\n+function beNormal(obj) {\n+  obj.style = \"\";\n+}"
  }, {
    "sha" : "b791fd76b14c211996cb6e9177b1c60e8e9f77fb",
    "filename" : "jweb/web/1414080902106/js/ajax.js",
    "status" : "added",
    "additions" : 43,
    "deletions" : 0,
    "changes" : 43,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/js/ajax.js",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/js/ajax.js",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/js/ajax.js?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,43 @@\n+var XHR = null;\n+function createXHR() {\n+\ttry {\n+\t\tXHR = new XMLHttpRequest();\n+\t} catch (e) {\n+\t\tvar xhrs = new Vector (\n+\t\t\t\t\"Msxml2.XMLHTTP.3.0\",\n+\t\t\t\t\"Msxml2.XMLHTTP.4.0\",\n+\t\t\t\t\"Msxml2.XMLHTTP.5.0\",\n+\t\t\t\t\"Msxml2.XMLHTTP.6.0\",\n+\t\t\t\t\"Msxml2.XMLHTTP\",\n+\t\t\t\t\"Microsoft.XMLHTTP\"\n+\t\t);\n+\t\tfor (var i = 0; i < xhrs.length; i++) {\n+\t\t\ttry {\n+\t\t\t\tXHR = new ActiveXObject(xhrs[i]);\n+\t\t\t\tif (XHR != null)\n+\t\t\t\t\tbreak;\n+\t\t\t} catch (e) {}\n+\t\t}\n+\t\tif (XHR == null)\n+\t\t\talter(\"Can't create Ajax Object!\");\n+\t}\n+}\n+function sendXHR(url, param, method, operation) {\n+\tcreateXHR();\n+\tif (XHR == null)\n+\t\treturn false;\n+\t//设置响应方法\n+\tXHR.onreadystatechange = operation;\n+\tif (method == \"get\") {\n+\t\t//打开连接\n+\t\tXHR.open(method, url + \"?\" + param);\n+\t\t//发送请求，此时不用发送参数\n+\t\tXHR.send(null);\n+\t} else if (method == \"post\") {\n+\t\t//打开连接\n+\t\tXHR.open(method, url);\n+\t\t//设置请求首部\n+\t\tXHR.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n+\t\tXHR.send(param);\n+\t}\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "66d476c3859e158099c6d8d1c84426553e4936e7",
    "filename" : "jweb/web/1414080902106/js/display.js",
    "status" : "added",
    "additions" : 151,
    "deletions" : 0,
    "changes" : 151,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/js/display.js",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/js/display.js",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/js/display.js?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,151 @@\n+window.onload = function() {\n+  home.setAttribute(\"class\", home.getAttribute(\"class\") + \" btn btn-sm btn-success glyphicon glyphicon-circle-arrow-left\");\n+};\n+function gotoHome() {\n+  location.href = \"./home.jsp\";\n+}\n+function gotoReply1() {\n+  reply.focus();\n+}\n+//往position里加载2级回复内容\n+function loadReply2(position, rid, aid) {\n+  //清空原来的内容\n+  var current = position.firstChild; \n+  while (current != null) {\n+    position.removeChild(current);\n+    current = position.firstChild;\n+  }\n+  //获取2级回复内容\n+  createXHR();\n+  sendXHR(\"getReply2\", \"rid=\" + rid, \"get\", function() {\n+    if (XHR.readyState == 4 && XHR.status == 200) {\n+      var reply2 = JSON.parse(XHR.responseText);\n+      //加载各个2级回复块\n+      for (var i = 0; i < reply2.length; i++) {\n+        var item = model.cloneNode(true);\n+        item.removeAttribute(\"id\");\n+        //插入回复者昵称\n+        var author = item.firstChild.nextSibling;\n+        var name = author.firstChild.nextSibling;\n+        name.appendChild(document.createTextNode(reply2[i].name));\n+        name.setAttribute(\"href\", \"./account.jsp?id=\" + reply2[i].aid);\n+        //插入回复内容\n+        var content = author.nextSibling.nextSibling;\n+        var text = content.firstChild.nextSibling;\n+        text.appendChild(document.createTextNode(reply2[i].text));\n+        //插入回复时间\n+        var datetime = text.nextSibling.nextSibling;\n+        datetime.appendChild(document.createTextNode(reply2[i].createDateTime));\n+        //根据当前账户插入操作按钮\n+        if (aid == reply2[i].aid) {\n+          var operation = datetime.nextSibling.nextSibling;\n+          var button = document.createElement(\"button\");\n+          button.setAttribute(\"class\", \"delete\");\n+          //设置删除函数\n+          //因为js动态设置响应事件方法有不好的特性——不能识别局部数组，以局部变量为参数传参会以该变量的最后结果为准，所以只能出此下策\n+          button.setAttribute(\"r2id\", reply2[i].id);\n+          button.onclick = function() {removeReply2(this, position, rid, aid);};\n+          button.appendChild(document.createTextNode(\"删除\"));\n+          operation.appendChild(button);\n+        }\n+        position.appendChild(item);\n+      }\n+    }\n+  });\n+}\n+//显示2级回复模块\n+function openReply2(btn) {\n+  //显示.reply2-box\n+  //因为第一个nextSibling是文本（#text）所以得取两次nextSibling才行\n+  btn.parentNode.nextSibling.nextSibling.style.display = \"block\";\n+  //把“查看回复”改成“收起回复”\n+  btn.innerHTML = \"收起回复\";\n+  //标记\n+  btn.setAttribute(\"openReply2\", \"yes\");\n+}\n+//隐藏2级回复模块\n+function closeReply2(btn) {\n+  //隐藏.reply2-box\n+  btn.parentNode.nextSibling.nextSibling.style.display = \"\";\n+  //把“收起回复”改成“查看回复”\n+  btn.innerHTML = \"查看回复\";\n+  //标记\n+  btn.setAttribute(\"openReply2\", \"no\");\n+}\n+//单击reply-btn\n+function onReply2Btn(btn, rid, aid) {\n+  var open = btn.getAttribute(\"openReply2\");\n+  var load = btn.getAttribute(\"loadReply2\");\n+  if (open == \"no\")\n+    openReply2(btn);\n+  else if (open == \"yes\")\n+    closeReply2(btn);\n+  if (load == \"no\") {\n+    //因为第一个子元素是文本（#text）所以得再取一次nextSibling\n+    loadReply2(btn.parentNode.nextSibling.nextSibling.firstChild.nextSibling, rid, aid);\n+    btn.setAttribute(\"loadReply2\", \"yes\");\n+  }\n+}\n+//发表1级回复\n+function reply1(pid) {\n+  location.href = \"./reply1?pid=\" + pid + \"&text=\" + reply.value;\n+}\n+//发表2级回复\n+function reply2(btn, rid, aid) {\n+  var text = btn.previousSibling.previousSibling.value;\n+  createXHR();\n+  sendXHR(\"reply2\", \"text=\" + text + \"&rid=\" + rid, \"post\", function() {\n+    if (XHR.readyState == 4 && XHR.status == 200) {\n+      var info = XHR.responseText;\n+      if (info == \"success\") {\n+        //刷新相应2级回复\n+        loadReply2(btn.parentNode.parentNode.firstChild.nextSibling, rid, aid);\n+        //清空刚刚输入的内容\n+        btn.previousSibling.previousSibling.value = \"\";\n+      }\n+    }\n+  });\n+}\n+\n+//删除帖子\n+function removePosts(id) {\n+  createXHR();\n+  sendXHR(\"removePosts\", \"id=\" + id, \"post\", function() {\n+    if (XHR.readyState == 4 && XHR.status == 200) {\n+      var info = XHR.responseText;\n+      if (info == \"success\") {\n+        location.href = \"./home.jsp\";\n+      } else\n+        alert(info);\n+    }\n+  });\n+}\n+//删除1级回复\n+function removeReply1(id) {\n+  createXHR();\n+  sendXHR(\"removeReply1\", \"id=\" + id, \"post\", function() {\n+    if (XHR.readyState == 4 && XHR.status == 200) {\n+      var info = XHR.responseText;\n+      if (info == \"success\") {\n+        location.reload(true);\n+      } else\n+        alert(info);\n+    }\n+  });\n+}\n+//删除2级回复\n+function removeReply2(obj, position, rid, aid) {\n+  //获取要删除的2级回复的ID\n+  var id = obj.getAttribute(\"r2id\");\n+  console.dir(id);\n+  createXHR();\n+  sendXHR(\"removeReply2\", \"id=\" + id, \"post\", function() {\n+    if (XHR.readyState == 4 && XHR.status == 200) {\n+      var info = XHR.responseText;\n+      if (info == \"success\") {\n+        loadReply2(position, rid, aid);\n+      } else\n+        alert(info);\n+    }\n+  });\n+}"
  }, {
    "sha" : "fe8e43c986c70cbef8e5f22f8c6d2cdcd5edb87d",
    "filename" : "jweb/web/1414080902106/js/home.js",
    "status" : "modified",
    "additions" : 7,
    "deletions" : 4,
    "changes" : 11,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/js/home.js",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/js/home.js",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/js/home.js?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -1,6 +1,9 @@\n-function beObvious(obj){\n-\tobj.style = \"background-color:#f7f9fc\";\n+window.onload = function() {\n+  create.setAttribute(\"class\", create.getAttribute(\"class\") + \" btn btn-sm btn-primary\");\n }\n-function beNormal(obj){\n+function beObvious(obj) {\n+\tobj.style = \"background-color: rgba(247,249,252,1)\";\n+}\n+function beNormal(obj) {\n \tobj.style = \"\";\n-}\n\\ No newline at end of file\n+}"
  }, {
    "sha" : "45e885229e4271d66da22c65df18bbabe787c1d5",
    "filename" : "jweb/web/1414080902106/js/index.js",
    "status" : "added",
    "additions" : 26,
    "deletions" : 0,
    "changes" : 26,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/js/index.js",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/js/index.js",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/js/index.js?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,26 @@\n+window.onload = function() {\n+  loginBtn.setAttribute(\"class\", \"btn btn-sm btn-primary\");\n+  registerBtn.setAttribute(\"class\", \"btn btn-sm btn-success\");\n+  loginBtn.onclick = function() {login();};\n+  registerBtn.onclick = function() {gotoRegister();};\n+};\n+\n+function login() {\n+  var usn = username.value;\n+  var pwd = password.value;\n+  sendXHR(\"login\", \"username=\" + usn + \"&password=\" + pwd, \"post\", function() {\n+    if (XHR.readyState == 4 && XHR.status == 200) {\n+      var info = XHR.responseText;\n+      if (info == \"success\")\n+        //登录成功，跳转到主页\n+        location.href = \"./home.jsp\";\n+      else\n+        //登录失败，显示错误信息\n+        tip.innerHTML = info;\n+    }\n+  });\n+}\n+\n+function gotoRegister() {\n+  location.href = \"./register.jsp\";\n+}"
  }, {
    "sha" : "0500368017ee3fb6c3611fd1f96b21c90f23227c",
    "filename" : "jweb/web/1414080902106/js/newPosts.js",
    "status" : "added",
    "additions" : 52,
    "deletions" : 0,
    "changes" : 52,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/js/newPosts.js",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/js/newPosts.js",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/js/newPosts.js?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,52 @@\n+window.onload = function(){\n+\tvar t = title.value;\n+\tif(t == \"\")\n+\t\tshowTip();\n+\telse\n+\t\thideTip();\n+\ttip.onclick = function() {onTitle();};\n+\ttitle.onclick = function() {onTitle();};\n+\ttitle.onblur = function() {outTitle();};\n+  home.setAttribute(\"class\", home.getAttribute(\"class\") + \" btn btn-sm btn-success glyphicon glyphicon-circle-arrow-left\");\n+  Do.setAttribute(\"class\", Do.getAttribute(\"class\") + \" btn btn-sm btn-success\");\n+};\n+//隐藏提示\n+function hideTip(){\n+\ttip.style.display = \"none\";\n+}\n+//显示提示\n+function showTip(){\n+\ttip.style.display = \"\";\t\n+}\n+//单击/*提示或*/标题输入框\n+function onTitle(){\n+\thideTip();\n+\ttitle.focus();\n+}\n+//标题输入框失去焦点\n+function outTitle(){\n+\tvar t = title.value;\n+\tif(t == \"\")\n+\t\tshowTip();\n+}\n+//发表帖子\n+function newPosts() {\n+  var t = title.value;\n+  if (t == \"\")\n+    onTitle();\n+  else {\n+    createXHR();\n+    sendXHR(\"newPosts\", \"title=\" + t + \"&text=\" + text.value, \"post\", function() {\n+      if (XHR.readyState == 4 && XHR.status == 200) {\n+        var info = XHR.responseText;\n+        if (info == \"success\")\n+          location.href = \"./home.jsp\";\n+        else\n+          alert(info);\n+      }\n+    });\n+  }\n+}\n+function gotoHome() {\n+  location.href = \"./home.jsp\";\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "e23c4697448b0a5e9b21fb0f0f704cf0bbc647d4",
    "filename" : "jweb/web/1414080902106/js/new_content.js",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 23,
    "changes" : 23,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/web/1414080902106/js/new_content.js",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/web/1414080902106/js/new_content.js",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/js/new_content.js?ref=c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb",
    "patch" : "@@ -1,23 +0,0 @@\n-window.onload = function(){\n-\tvar title = $(\"#title\").val();\n-\tif(title == \"\")\n-\t\tshowTip();\n-\telse\n-\t\thideTip();\n-};\n-\n-function hideTip(){\n-\t$(\"#title-tip\").hide();\n-}\n-function showTip(){\n-\t$(\"#title-tip\").show();\t\t\t\t\n-}\n-function onTip(){\n-\thideTip();\n-\t$(\"#title\").focus();\n-}\n-function outTitle(){\n-\tvar title = $(\"#title\").val();\n-\tif(title == \"\")\n-\t\tshowTip();\n-}\n\\ No newline at end of file"
  }, {
    "sha" : "518c1646709c3b2d4b29f2afe313bb6ee287183d",
    "filename" : "jweb/web/1414080902106/js/register.js",
    "status" : "added",
    "additions" : 40,
    "deletions" : 0,
    "changes" : 40,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/js/register.js",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/js/register.js",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/js/register.js?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,40 @@\n+var checker;\n+window.onload = function() {\n+  registerBtn.setAttribute(\"class\", \"btn btn-sm btn-success\");\n+  resetBtn.setAttribute(\"class\", \"btn btn-sm btn-danger\");\n+  registerBtn.style.display = \"none\";\n+  registerBtn.onclick = function() {register();};\n+  resetBtn.onclick = function() {location.reload(true);};\n+  password.onkeyup = function() {checkPassword2();};\n+  password2.onkeyup = function() {checkPassword2();};\n+};\n+\n+function register() {\n+\tvar usn = username.value;\n+\tvar pwd = password.value;\n+\tvar nam = Name.value;\n+\tsendXHR(\"register\", \"username=\" + usn + \"&password=\" + pwd + \"&name=\" + nam, \"post\", function() {\n+\t\tif (XHR.readyState == 4 && XHR.status == 200) {\n+\t\t\tvar info = XHR.responseText;\n+\t\t\tif (info == \"success\")\n+\t\t\t\tlocation.href = \"./\";\n+\t\t\telse {\n+\t\t\t  tip.innerHTML = info;\n+\t\t\t}\n+\t\t}\n+\t});\n+}\n+\n+function checkPassword2() {\n+  var pwd = password.value;\n+  var pwd2 = password2.value;\n+  if (pwd != pwd2) {\n+    pwdTip.innerHTML = \"前后两次输入的密码不一致！\";\n+    password2.style.borderColor = \"red\";\n+    registerBtn.style.display = \"none\";\n+  } else {\n+    pwdTip.innerHTML = \"\";\n+    password2.style.borderColor = \"\";\n+    registerBtn.style.display = \"\";\n+  }\n+}"
  }, {
    "sha" : "b1e859a676fb3df9c86dd71e45b88e69d11aa2fd",
    "filename" : "jweb/web/1414080902106/logout.jsp",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 4,
    "changes" : 4,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/web/1414080902106/logout.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/web/1414080902106/logout.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/logout.jsp?ref=c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb",
    "patch" : "@@ -1,4 +0,0 @@\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n-<c:remove var=\"username\"/>\n-<c:remove var=\"first\"/>\n-<jsp:forward page=\"/\"></jsp:forward>\n\\ No newline at end of file"
  }, {
    "sha" : "8b623fa00dadaea12b9270bba6548219e75b7bf4",
    "filename" : "jweb/web/1414080902106/newPosts.jsp",
    "status" : "added",
    "additions" : 37,
    "deletions" : 0,
    "changes" : 37,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/newPosts.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/newPosts.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/newPosts.jsp?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,37 @@\n+<!DOCTYPE html>\n+<%@ page contentType=\"text/html;charset=utf-8\" pageEncoding=\"utf-8\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<!-- 发帖页面 -->\n+<html lang=\"zh-CN\">\n+  <head>\n+    <title>发帖</title>\n+    <script type=\"text/javascript\" src=\"js/ajax.js\"></script>\n+    <script type=\"text/javascript\" src=\"js/newPosts.js\"></script>\n+    <link rel=\"stylesheet\" href=\"http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css\">\n+    <link rel=\"stylesheet\" href=\"css/head.css\">\n+    <link rel=\"stylesheet\" href=\"css/form.css\">\n+    <link rel=\"stylesheet\" href=\"css/frame.css\">\n+    <link rel=\"stylesheet\" href=\"css/content.css\">\n+  </head>\n+  <body class=\"new-posts\">\n+    <div class=\"user\">\n+      <p>欢迎<span class=\"name\">${account.getName()}</span></p>\n+      <div class=\"operation\">\n+        <a class=\"person\" href=\"account.jsp?id=${account.getId()}\">个人主页</a>\n+        <a class=\"exit\" href=\"login?out=1\">退出登录</a>\n+      </div>\n+    </div>\n+    <button class=\"home\" id=\"home\" onClick=\"gotoHome()\">返回主页</button>\n+    <p class=\"logo\">发表新帖</p>\n+    <div class=\"form\">\n+      <div class=\"item\">\n+        <input class=\"title\" id=\"title\" type=\"text\">\n+        <div class=\"tip\" id=\"tip\">请填写标题</div><br>\n+      </div>\n+      <div class=\"item\"><textarea class=\"text\" id=\"text\"></textarea></div>\n+      <div class=\"operation\">\n+        <button class=\"do\" id=\"Do\" onclick=\"newPosts()\">发表</button>\n+      </div>\n+    </div>\n+  </body>\n+</html>\n\\ No newline at end of file"
  }, {
    "sha" : "5636fdadb8fc17be18df572ca181b29ca853659d",
    "filename" : "jweb/web/1414080902106/new_content.jsp",
    "status" : "removed",
    "additions" : 0,
    "deletions" : 32,
    "changes" : 32,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/web/1414080902106/new_content.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb/jweb/web/1414080902106/new_content.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/new_content.jsp?ref=c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb",
    "patch" : "@@ -1,32 +0,0 @@\n-<%@ page pageEncoding = 'utf-8'  %>\n-<!-- 发帖页面 -->\n-<html>\n-\t<head>\n-\t\t<title>发帖</title>\n-\t\t<link rel='stylesheet' type='text/css' href='css/new_content.css'>\n-\t\t<script type=\"text/javascript\" src=\"http://cdn.bootcss.com/jquery/3.1.1/jquery.js\"></script>\n-\t\t<script type=\"text/javascript\" src=\"js/new_content.js\"></script>\n-\t    <link rel=\"stylesheet\" href=\"http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css\">\n-\t\t<link rel='stylesheet' href='css/new_content.css'>\n-\t</head>\n-\t<body>\n-\t\t<div class=\"right-top\" >\n-\t\t\t<p align=\"right\"><a href=\"home.jsp\" >返回主页</a></p>\n-\t\t</div>\n-\t\t<h2 id=\"tip\" >发表新帖</h2>\n-\t\t<hr style=\"border-top:1px solid blue\" >\n-\t\t<div id=\"mid-block\" >\n-\t\t\t<form action='1414080902106' method=\"post\">\n-\t\t\t\t<div style=\"height:40px;\">\n-\t\t\t\t\t<input id=\"title\" class='title-edit' name=\"title\" type=\"text\"\n-\t\t\t\t\t\tonClick=\"hideTip()\"\n-\t\t\t\t\t\tonblur=\"outTitle()\"\n-\t\t\t\t\t><br>\n-\t\t\t\t\t<div id=\"title-tip\" class='title-tip' onClick=\"onTip()\">请填写标题</div>\n-\t\t\t\t</div>\n-\t\t\t\t<textarea id=\"text\" name='text'></textarea><br><br>\n-\t\t\t\t<input id='send' class=\"btn btn-sm btn-primary\" type='submit' value='发帖'>\n-\t\t\t</form>\n-\t\t</div>\n-\t</body>\n-</html>\n\\ No newline at end of file"
  }, {
    "sha" : "c374d91aec7c3007699ba651cbaf9fa794656e56",
    "filename" : "jweb/web/1414080902106/register.jsp",
    "status" : "added",
    "additions" : 35,
    "deletions" : 0,
    "changes" : 35,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/register.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/293844f5144e78cabfe74d03c90f4396c23caf63/jweb/web/1414080902106/register.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/register.jsp?ref=293844f5144e78cabfe74d03c90f4396c23caf63",
    "patch" : "@@ -0,0 +1,35 @@\n+<!DOCTYPE html>\n+<%@ page contentType=\"text/html;charset=utf-8\" pageEncoding=\"utf-8\" %>\n+<html>\n+  <head>\n+    <title>账号注册</title>\n+    <meta content=\"charset=utf-8\">\n+    <script type=\"text/javascript\" src=\"js/ajax.js\" ></script>\n+    <script type=\"text/javascript\" src=\"js/register.js\" ></script>\n+    <link rel=\"stylesheet\" href=\"http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css\">\n+    <link rel=\"stylesheet\" href=\"css/head.css\">\n+    <link rel=\"stylesheet\" href=\"css/form.css\">\n+    <link rel=\"stylesheet\" href=\"css/content.css\">\n+    <link rel=\"stylesheet\" href=\"css/frame.css\">\n+  </head>\n+  <body class=\"register\">\n+    <div class=\"user\"><div class=\"operation\">\n+      <a class=\"home\" href=\"./\">返回主页</a>\n+    </div></div>\n+    <p class=\"logo\">My First CMS</p>\n+    <div class=\"form\">\n+      <div class=\"item\"><label>用户名：</label><input id=\"username\" type=\"text\"></div>\n+      <div class=\"item\"><label>昵称：</label><input id=\"Name\" type=\"text\"></div>\n+      <div class=\"item\"><label>密码：</label><input id=\"password\" type=\"password\"></div>\n+      <div class=\"item\">\n+        <label>确认密码：</label><input id=\"password2\" type=\"password\">\n+        <p class=\"tip\" id=\"pwdTip\">输入了确认密码才能注册</p>\n+      </div>\n+      <p class=\"tip\" id=\"tip\"></p>\n+      <div class=\"operation\">\n+        <button id=\"registerBtn\">确认注册</button>\n+        <button id=\"resetBtn\">重置</button>\n+      </div>\n+    </div>\n+  </body>\n+</html>\n\\ No newline at end of file"
  } ],
  "sha" : "293844f5144e78cabfe74d03c90f4396c23caf63",
  "url" : "https://api.github.com/repos/hzuapps/java-web/commits/293844f5144e78cabfe74d03c90f4396c23caf63",
  "parents" : [ {
    "sha" : "c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb",
    "url" : "https://api.github.com/repos/hzuapps/java-web/commits/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb",
    "html_url" : "https://github.com/hzuapps/java-web/commit/c49bdb75b191dd7d4226b88d04c8efc15dcb3aeb"
  } ]
}