{
  "committer" : null,
  "stats" : {
    "total" : 724,
    "additions" : 699,
    "deletions" : 25
  },
  "author" : null,
  "html_url" : "https://github.com/hzuapps/java-web/commit/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
  "commit" : {
    "author" : {
      "name" : "Ibas Sun",
      "email" : "Ibas Sun",
      "date" : "2016-11-10T05:49:39Z"
    },
    "committer" : {
      "name" : "Ibas Sun",
      "email" : "Ibas Sun",
      "date" : "2016-11-10T05:49:39Z"
    },
    "message" : "#104 sys4",
    "tree" : {
      "sha" : "6a54b4c7103788275ff6e4380f64cd8c95c222a6",
      "url" : "https://api.github.com/repos/hzuapps/java-web/git/trees/6a54b4c7103788275ff6e4380f64cd8c95c222a6"
    },
    "url" : "https://api.github.com/repos/hzuapps/java-web/git/commits/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/java-web/commits/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/comments",
  "files" : [ {
    "sha" : "9848cde4e43fb2b784f61530dfdd6cb96b229d54",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/EncodingFilter.java",
    "status" : "added",
    "additions" : 53,
    "deletions" : 0,
    "changes" : 53,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/src/edu/hzu/javaweb/labs/se1414080902134/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/src/edu/hzu/javaweb/labs/se1414080902134/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/EncodingFilter.java?ref=2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
    "patch" : "@@ -0,0 +1,53 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+/**\n+ * Servlet Filter implementation class EncodingFilter\n+ */\n+@WebFilter(filterName = \"/EncodingFilter\",urlPatterns = \"/*\")\n+public class EncodingFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public EncodingFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t// place your code here\n+\n+\t\tString encoding = \"UTF-8\";\n+        request.setCharacterEncoding(encoding);// ��������������ָ���ı���  \n+        response.setCharacterEncoding(encoding);\n+\t\t// pass the request along the filter chain\n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "a9082fe35b4d4062fcd3ddc3975ec26f25d451e5",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/Labels.java",
    "status" : "added",
    "additions" : 34,
    "deletions" : 0,
    "changes" : 34,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Labels.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Labels.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Labels.java?ref=2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
    "patch" : "@@ -0,0 +1,34 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.util.Date;\n+\n+public class Labels {\n+\tprivate String title;\n+\tprivate String content;\n+\tprivate String time;\n+\tprivate Object other;\n+\tpublic String getTitle() {\n+\t\treturn title;\n+\t}\n+\tpublic void setTitle(String title) {\n+\t\tthis.title = title;\n+\t}\n+\tpublic String getContent() {\n+\t\treturn content;\n+\t}\n+\tpublic void setContent(String content) {\n+\t\tthis.content = content;\n+\t}\n+\tpublic String getTime() {\n+\t\treturn time;\n+\t}\n+\tpublic void setTime(String time) {\n+\t\tthis.time = time;\n+\t}\n+\tpublic Object getOther() {\n+\t\treturn other;\n+\t}\n+\tpublic void setOther(Object other) {\n+\t\tthis.other = other;\n+\t}\n+}"
  }, {
    "sha" : "9bc16bbf45f90016871e5b3d150c356526a154fa",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/LoginFilter.java",
    "status" : "added",
    "additions" : 69,
    "deletions" : 0,
    "changes" : 69,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/src/edu/hzu/javaweb/labs/se1414080902134/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/src/edu/hzu/javaweb/labs/se1414080902134/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/LoginFilter.java?ref=2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
    "patch" : "@@ -0,0 +1,69 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet Filter implementation class LoginFilter\n+ */\n+@WebFilter(filterName = \"/LoginFilter\",urlPatterns = \"/*\")\n+public class LoginFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public LoginFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t// place your code here\n+\t\tHttpServletRequest req = (HttpServletRequest)request;\n+\t\tHttpServletResponse res = (HttpServletResponse)response;\n+\t\tHttpSession session = req.getSession();\n+\t\tString reqURL = req.getRequestURI();\n+\t\tString page;\n+\t\tif (reqURL.indexOf('?') != -1) {\n+\t\t\tpage = reqURL.substring(0,reqURL.indexOf('?'));\n+\t\t} else {\n+\t\t\tpage = reqURL;\n+\t\t}\n+\t\tSystem.out.println(page);\n+\t\tif (session.getAttribute(\"login\") != null) {\n+\t\t\tchain.doFilter(request, response);\n+\t\t} else if (page.equals(\"/jweb/1414080902134/home.jsp\") || page.equals(\"/jweb/MockLogin\")){\n+\t\t\tchain.doFilter(request, response);\n+\t\t} else {\n+\t\t\tres.sendRedirect(\"/jweb/1414080902134/home.jsp\");\n+\t\t}\n+\t\t// pass the request along the filter chain\n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "6871a9f4f8fa8f5ecac9ed0bafba5f895a836874",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/MockLogin.java",
    "status" : "added",
    "additions" : 101,
    "deletions" : 0,
    "changes" : 101,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/src/edu/hzu/javaweb/labs/se1414080902134/MockLogin.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/src/edu/hzu/javaweb/labs/se1414080902134/MockLogin.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/MockLogin.java?ref=2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
    "patch" : "@@ -0,0 +1,101 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.Date;\n+import java.util.Enumeration;\n+\n+import javax.servlet.ServletContext;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet implementation class MockLogin\n+ */\n+@WebServlet(\"/MockLogin\")\n+public class MockLogin extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public MockLogin() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\t//response.getWriter().append(\"Served at: \").append(request.getContextPath());\n+\t\tServletContext application=this.getServletContext(); \n+\t\tapplication.setAttribute(\"message\",\"only dear with post method .\");\n+\t\tresponse.sendRedirect(\"/1414080902134/index.jsp\");\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t\tServletContext application=this.getServletContext(); \n+\t\tUserData ud = new UserData();\n+\t\tEnumeration<String> iter_ = (request.getParameterNames());\n+\t\tHttpSession session = request.getSession();\n+\t\tsession.setAttribute(\"info\", null);\n+\t\tsession.setAttribute(\"label\", null);\n+\t\tsession.setAttribute(\"quickCode\", null);\n+\t\twhile (iter_.hasMoreElements()) {\n+\t\t\tString key = iter_.nextElement();\n+\t\t\tud.setAttribute(key,request.getParameter(key));\n+\t\t}\n+\t\t\n+\t\tif (ud.getQuickCode().equals(\"\")) {\n+\t\t\tif (ud.isComplete()) {\n+\t\t\t\t// login success\n+\t\t\t\tSystem.out.println(\"info-9\");\n+\t\t\t\t//application.setAttribute(\"UserData\",ud);\n+\t\t\t\tsession.setAttribute(\"login\", true);\n+\t\t\t\tresponse.sendRedirect(\"/jweb/1414080902134/HomeUser.jsp\");\n+\t\t\t} else {\n+\t\t\t\tSystem.out.println(\"info-7\");\n+\t\t\t\t//request.setAttribute(\"info\", \"Login fail , please input username and password or quickcode.\");\n+\t\t\t\tsession.setAttribute(\"info\", \"Login fail , please input username and password or quickcode.\");\n+\t\t\t\t//this.getServletConfig().getServletContext().getRequestDispatcher(\"/1414080902134/home.jsp\").forward(request,response);\n+\t\t\t\tresponse.sendRedirect(\"/jweb/1414080902134/home.jsp\");\n+\t\t\t}\n+\t\t} else {\n+\t\t\tSystem.out.println(\"info-2\");\n+\t\t\t//if have a quickcode , not redirect but show the label\n+\t\t\tLabels labels = mock.get(ud.getQuickCode());\n+\t\t\t//request.setAttribute(\"label\", content);\n+\t\t\t//request.setAttribute(\"quickCode\", ud.getQuickCode());\n+\t\t\tsession.setAttribute(\"label\", labels);\n+\t\t\tsession.setAttribute(\"quickCode\", ud.getQuickCode());\n+\t\t\t//this.getServletConfig().getServletContext().getRequestDispatcher(\"/1414080902134/home.jsp\").forward(request,response);\n+\t\t\tresponse.sendRedirect(\"/jweb/1414080902134/home.jsp\");\n+\t\t}\n+\t}\n+\n+}\n+\n+//temporary until issues x\n+class mock{\n+\tpublic static Labels get(String str){\n+\t\tDate d = new Date();\n+\t\tLabels label = new Labels();\n+\t\tlabel.setTitle(\"{Title}:So Nice Today\");\n+\t\tlabel.setTime((1990 + d.getYear()) + \"Y \" + (1 + d.getMonth()) + \"M \" + (d.getDate()) + \"D \" + d.getHours() + \":\" + d.getMinutes() + \":\" + d.getSeconds());\n+\t\tlabel.setContent(\"{Content} : Haha , Nothing I can show for you .\");\n+\t\tlabel.setOther(new Object());\n+\t\treturn label;\n+\t}\n+}\n+"
  }, {
    "sha" : "138f516f8ad8d762b79d03a338b96b2f2f602382",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/Se1414080902134Servlet.java",
    "status" : "modified",
    "additions" : 0,
    "deletions" : 23,
    "changes" : 23,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Se1414080902134Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Se1414080902134Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Se1414080902134Servlet.java?ref=2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
    "patch" : "@@ -40,29 +40,6 @@ protected void doGet(HttpServletRequest request, HttpServletResponse response) t\n \t\tServletContext application=this.getServletContext(); \n \t\tapplication.setAttribute(\"message\",\"only dear with post method .\");\n \t\tresponse.sendRedirect(\"/1414080902134/Home.jsp\");\n-//\t\tPrintWriter out = response.getWriter();\n-//\t\tUserData ud = new UserData();\n-//\t\tEnumeration<String> iter_ = (request.getParameterNames());\n-//\t\twhile (iter_.hasMoreElements()) {\n-//\t\t\tString key = iter_.nextElement();\n-//\t\t\tud.setAttribute(key,request.getParameter(key));\n-//\t\t}\n-//\t\tif (ud.getQuickCode().equals(\"\")) {\n-//\t\t\tif (!ud.isComplete()) {\n-//\t\t\t\tout.write(\"Information is not full .\");\n-//\t\t\t} else {\n-//\t\t\t\tif (ud.getUserName().isEmpty()) {\n-//\t\t\t\t\tout.write(\"Welcome , \" + ud.getEmail());\n-//\t\t\t\t} else {\n-//\t\t\t\t\tout.write(\"Welcome , \" + ud.getUserName());\n-//\t\t\t\t}\n-//\t\t\t}\n-//\t\t} else {\n-//\t\t\tout.write(\"QuickCode = \" + ud.getQuickCode());\n-//\t\t}\n-//\t\t\n-//\t\tout.flush();\n-\t\t//response.getWriter().append(\"Served at: \").append(request.getContextPath());\n \t}\n \n \t/**"
  }, {
    "sha" : "3d426e28fc7f607ef4ad82d06ab0095a9de4bb59",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserData.java",
    "status" : "modified",
    "additions" : 9,
    "deletions" : 2,
    "changes" : 11,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserData.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserData.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserData.java?ref=2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
    "patch" : "@@ -1,4 +1,4 @@\n-package edu.hzu.javaweb.bean.se1414080902134;\n+package edu.hzu.javaweb.labs.se1414080902134;\n \n public class UserData {\n \tprivate String UserName;\n@@ -70,11 +70,18 @@ public boolean isComplete(){\n \t\t\t\t\tSystem.out.println(\"UserName false\");\n \t\t\t\t\treturn false;\n \t\t\t\t} else {\n-\t\t\t\t\treturn true;\n+\t\t\t\t\t//mock to search from database\n+\t\t\t\t\treturn mock_.mockLogin(this);\n \t\t\t\t}\n \t\t\t}\n \t\t} else {\n \t\t\treturn true;\n \t\t}\n \t}\n }\n+\n+class mock_{\n+\tpublic static boolean mockLogin(Object o){\n+\t\treturn true;\n+\t}\n+}"
  }, {
    "sha" : "9848cde4e43fb2b784f61530dfdd6cb96b229d54",
    "filename" : "jweb/web/1414080902134/EncodingFilter.java",
    "status" : "added",
    "additions" : 53,
    "deletions" : 0,
    "changes" : 53,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/web/1414080902134/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/web/1414080902134/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/EncodingFilter.java?ref=2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
    "patch" : "@@ -0,0 +1,53 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+/**\n+ * Servlet Filter implementation class EncodingFilter\n+ */\n+@WebFilter(filterName = \"/EncodingFilter\",urlPatterns = \"/*\")\n+public class EncodingFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public EncodingFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t// place your code here\n+\n+\t\tString encoding = \"UTF-8\";\n+        request.setCharacterEncoding(encoding);// ��������������ָ���ı���  \n+        response.setCharacterEncoding(encoding);\n+\t\t// pass the request along the filter chain\n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "a9082fe35b4d4062fcd3ddc3975ec26f25d451e5",
    "filename" : "jweb/web/1414080902134/Labels.java",
    "status" : "added",
    "additions" : 34,
    "deletions" : 0,
    "changes" : 34,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/web/1414080902134/Labels.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/web/1414080902134/Labels.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/Labels.java?ref=2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
    "patch" : "@@ -0,0 +1,34 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.util.Date;\n+\n+public class Labels {\n+\tprivate String title;\n+\tprivate String content;\n+\tprivate String time;\n+\tprivate Object other;\n+\tpublic String getTitle() {\n+\t\treturn title;\n+\t}\n+\tpublic void setTitle(String title) {\n+\t\tthis.title = title;\n+\t}\n+\tpublic String getContent() {\n+\t\treturn content;\n+\t}\n+\tpublic void setContent(String content) {\n+\t\tthis.content = content;\n+\t}\n+\tpublic String getTime() {\n+\t\treturn time;\n+\t}\n+\tpublic void setTime(String time) {\n+\t\tthis.time = time;\n+\t}\n+\tpublic Object getOther() {\n+\t\treturn other;\n+\t}\n+\tpublic void setOther(Object other) {\n+\t\tthis.other = other;\n+\t}\n+}"
  }, {
    "sha" : "9bc16bbf45f90016871e5b3d150c356526a154fa",
    "filename" : "jweb/web/1414080902134/LoginFilter.java",
    "status" : "added",
    "additions" : 69,
    "deletions" : 0,
    "changes" : 69,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/web/1414080902134/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/web/1414080902134/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/LoginFilter.java?ref=2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
    "patch" : "@@ -0,0 +1,69 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet Filter implementation class LoginFilter\n+ */\n+@WebFilter(filterName = \"/LoginFilter\",urlPatterns = \"/*\")\n+public class LoginFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public LoginFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t// place your code here\n+\t\tHttpServletRequest req = (HttpServletRequest)request;\n+\t\tHttpServletResponse res = (HttpServletResponse)response;\n+\t\tHttpSession session = req.getSession();\n+\t\tString reqURL = req.getRequestURI();\n+\t\tString page;\n+\t\tif (reqURL.indexOf('?') != -1) {\n+\t\t\tpage = reqURL.substring(0,reqURL.indexOf('?'));\n+\t\t} else {\n+\t\t\tpage = reqURL;\n+\t\t}\n+\t\tSystem.out.println(page);\n+\t\tif (session.getAttribute(\"login\") != null) {\n+\t\t\tchain.doFilter(request, response);\n+\t\t} else if (page.equals(\"/jweb/1414080902134/home.jsp\") || page.equals(\"/jweb/MockLogin\")){\n+\t\t\tchain.doFilter(request, response);\n+\t\t} else {\n+\t\t\tres.sendRedirect(\"/jweb/1414080902134/home.jsp\");\n+\t\t}\n+\t\t// pass the request along the filter chain\n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "6871a9f4f8fa8f5ecac9ed0bafba5f895a836874",
    "filename" : "jweb/web/1414080902134/MockLogin.java",
    "status" : "added",
    "additions" : 101,
    "deletions" : 0,
    "changes" : 101,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/web/1414080902134/MockLogin.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/web/1414080902134/MockLogin.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/MockLogin.java?ref=2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
    "patch" : "@@ -0,0 +1,101 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.Date;\n+import java.util.Enumeration;\n+\n+import javax.servlet.ServletContext;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet implementation class MockLogin\n+ */\n+@WebServlet(\"/MockLogin\")\n+public class MockLogin extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public MockLogin() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\t//response.getWriter().append(\"Served at: \").append(request.getContextPath());\n+\t\tServletContext application=this.getServletContext(); \n+\t\tapplication.setAttribute(\"message\",\"only dear with post method .\");\n+\t\tresponse.sendRedirect(\"/1414080902134/index.jsp\");\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t\tServletContext application=this.getServletContext(); \n+\t\tUserData ud = new UserData();\n+\t\tEnumeration<String> iter_ = (request.getParameterNames());\n+\t\tHttpSession session = request.getSession();\n+\t\tsession.setAttribute(\"info\", null);\n+\t\tsession.setAttribute(\"label\", null);\n+\t\tsession.setAttribute(\"quickCode\", null);\n+\t\twhile (iter_.hasMoreElements()) {\n+\t\t\tString key = iter_.nextElement();\n+\t\t\tud.setAttribute(key,request.getParameter(key));\n+\t\t}\n+\t\t\n+\t\tif (ud.getQuickCode().equals(\"\")) {\n+\t\t\tif (ud.isComplete()) {\n+\t\t\t\t// login success\n+\t\t\t\tSystem.out.println(\"info-9\");\n+\t\t\t\t//application.setAttribute(\"UserData\",ud);\n+\t\t\t\tsession.setAttribute(\"login\", true);\n+\t\t\t\tresponse.sendRedirect(\"/jweb/1414080902134/HomeUser.jsp\");\n+\t\t\t} else {\n+\t\t\t\tSystem.out.println(\"info-7\");\n+\t\t\t\t//request.setAttribute(\"info\", \"Login fail , please input username and password or quickcode.\");\n+\t\t\t\tsession.setAttribute(\"info\", \"Login fail , please input username and password or quickcode.\");\n+\t\t\t\t//this.getServletConfig().getServletContext().getRequestDispatcher(\"/1414080902134/home.jsp\").forward(request,response);\n+\t\t\t\tresponse.sendRedirect(\"/jweb/1414080902134/home.jsp\");\n+\t\t\t}\n+\t\t} else {\n+\t\t\tSystem.out.println(\"info-2\");\n+\t\t\t//if have a quickcode , not redirect but show the label\n+\t\t\tLabels labels = mock.get(ud.getQuickCode());\n+\t\t\t//request.setAttribute(\"label\", content);\n+\t\t\t//request.setAttribute(\"quickCode\", ud.getQuickCode());\n+\t\t\tsession.setAttribute(\"label\", labels);\n+\t\t\tsession.setAttribute(\"quickCode\", ud.getQuickCode());\n+\t\t\t//this.getServletConfig().getServletContext().getRequestDispatcher(\"/1414080902134/home.jsp\").forward(request,response);\n+\t\t\tresponse.sendRedirect(\"/jweb/1414080902134/home.jsp\");\n+\t\t}\n+\t}\n+\n+}\n+\n+//temporary until issues x\n+class mock{\n+\tpublic static Labels get(String str){\n+\t\tDate d = new Date();\n+\t\tLabels label = new Labels();\n+\t\tlabel.setTitle(\"{Title}:So Nice Today\");\n+\t\tlabel.setTime((1990 + d.getYear()) + \"Y \" + (1 + d.getMonth()) + \"M \" + (d.getDate()) + \"D \" + d.getHours() + \":\" + d.getMinutes() + \":\" + d.getSeconds());\n+\t\tlabel.setContent(\"{Content} : Haha , Nothing I can show for you .\");\n+\t\tlabel.setOther(new Object());\n+\t\treturn label;\n+\t}\n+}\n+"
  }, {
    "sha" : "138f516f8ad8d762b79d03a338b96b2f2f602382",
    "filename" : "jweb/web/1414080902134/Se1414080902134Servlet.java",
    "status" : "added",
    "additions" : 89,
    "deletions" : 0,
    "changes" : 89,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/web/1414080902134/Se1414080902134Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/web/1414080902134/Se1414080902134Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/Se1414080902134Servlet.java?ref=2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
    "patch" : "@@ -0,0 +1,89 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.List;\n+\n+import javax.servlet.ServletContext;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import java.util.Enumeration;\n+import java.util.Iterator;\n+\n+//import edu.hzu.javaweb.bean.se1414080902134.UserData;\n+import javafx.application.Application;\n+\n+/**\n+ * Servlet implementation class Se1414080902134Servlet\n+ */\n+@WebServlet(\"/1414080902134\")\n+public class Se1414080902134Servlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public Se1414080902134Servlet() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\tServletContext application=this.getServletContext(); \n+\t\tapplication.setAttribute(\"message\",\"only dear with post method .\");\n+\t\tresponse.sendRedirect(\"/1414080902134/Home.jsp\");\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\tServletContext application=this.getServletContext(); \n+\t\tboolean isLogin = false;\n+\t\tPrintWriter out = response.getWriter();\n+\t\tUserData ud = new UserData();\n+\t\tEnumeration<String> iter_ = (request.getParameterNames());\n+\t\twhile (iter_.hasMoreElements()) {\n+\t\t\tString key = iter_.nextElement();\n+\t\t\tud.setAttribute(key,request.getParameter(key));\n+\t\t}\n+\t\tif (ud.getQuickCode().equals(\"\")) {\n+\t\t\tif (!ud.isComplete()) {\n+\t\t\t\tout.write(\"Information is not full .\");\n+\t\t\t} else {\n+\t\t\t\tif (ud.getUserName().isEmpty()) {\n+\t\t\t\t\tout.write(\"Welcome , \" + ud.getEmail());\n+\t\t\t\t\tisLogin = true;\n+\t\t\t\t} else {\n+\t\t\t\t\tout.write(\"Welcome , \" + ud.getUserName());\n+\t\t\t\t\tisLogin = true;\n+\t\t\t\t}\n+\t\t\t}\n+\t\t} else {\n+\t\t\tout.write(\"QuickCode = \" + ud.getQuickCode());\n+\t\t\t//isLogin = true;\n+\t\t}\n+\t\tif (ud.isComplete()) {\n+\t\t\tif (isLogin) {\n+\t\t\t\tapplication.setAttribute(\"UserData\",ud);\n+\t\t\t\tresponse.sendRedirect(\"1414080902134/HomeUser.jsp\");\n+\t\t\t} else {\n+\t\t\t\t//TO DO\n+\t\t\t\t//SEARCH SOMETHING FROM DATABASE BY THE QUICKCODE\n+\t\t\t}\n+\t\t} else {\n+\t\t\tresponse.sendRedirect(\"1414080902134/Home.jsp\");\n+\t\t}\n+\t\tout.flush();\n+\t}\n+\n+}"
  }, {
    "sha" : "3d426e28fc7f607ef4ad82d06ab0095a9de4bb59",
    "filename" : "jweb/web/1414080902134/UserData.java",
    "status" : "added",
    "additions" : 87,
    "deletions" : 0,
    "changes" : 87,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/web/1414080902134/UserData.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a/jweb/web/1414080902134/UserData.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/UserData.java?ref=2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
    "patch" : "@@ -0,0 +1,87 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+public class UserData {\n+\tprivate String UserName;\n+\tprivate String Email;\n+\tprivate String Password;\n+\tprivate String QuickCode;\n+\tprivate boolean Remeber;\n+\tpublic UserData(){\n+\t\tUserName = \"\";\n+\t\tEmail = \"\";\n+\t\tPassword = \"\";\n+\t\tQuickCode = \"\";\n+\t\tRemeber = false;\n+\t}\n+\tpublic String getUserName() {\n+\t\treturn UserName;\n+\t}\n+\tpublic void setUserName(String userName) {\n+\t\tUserName = userName;\n+\t}\n+\tpublic String getEmail() {\n+\t\treturn Email;\n+\t}\n+\tpublic void setEmail(String email) {\n+\t\tEmail = email;\n+\t}\n+\tpublic String getPassword() {\n+\t\treturn Password;\n+\t}\n+\tpublic void setPassword(String password) {\n+\t\tPassword = password;\n+\t}\n+\tpublic String getQuickCode(){\n+\t\treturn QuickCode;\n+\t}\n+\tpublic void setQuickCode(String qc){\n+\t\tQuickCode = qc;\n+\t}\n+\tpublic boolean getRemeber() {\n+\t\treturn Remeber;\n+\t}\n+\tpublic void setRemeber(boolean reamber) {\n+\t\tRemeber = reamber;\n+\t}\n+\tpublic void setAttribute(String key,String value){\n+\t\t//System.out.println(key + \" +++ \" + value);\n+\t\tif (key.toLowerCase().equals(\"username\")) {\n+\t\t\tsetUserName(value);\n+\t\t} else if (key.toLowerCase().equals(\"email\")) {\n+\t\t\tsetEmail(value);\n+\t\t} else if (key.toLowerCase().equals(\"password\")) {\n+\t\t\tsetPassword(value);\n+\t\t} else if (key.toLowerCase().equals(\"quickcode\")) {\n+\t\t\tsetQuickCode(value);\n+\t\t} else if (key.toLowerCase().equals(\"Remeber\")) {\n+\t\t\tif (value.toLowerCase().equals(\"on\")) {\n+\t\t\t\tsetRemeber(true);\n+\t\t\t}\n+\t\t}\n+\t}\n+\tpublic boolean isComplete(){\n+\t\t//System.out.println(Password + \"\\t\" + UserName + \"\\t\" + Email);\n+\t\tif (QuickCode.equals(\"\")) {\n+\t\t\tif (Password.equals(\"\")) {\n+\t\t\t\tSystem.out.println(\"Password false\");\n+\t\t\t\treturn false;\n+\t\t\t} else {\n+\t\t\t\tif (UserName.equals(\"\") && Email.equals(\"\")) {\n+\t\t\t\t\tSystem.out.println(\"UserName false\");\n+\t\t\t\t\treturn false;\n+\t\t\t\t} else {\n+\t\t\t\t\t//mock to search from database\n+\t\t\t\t\treturn mock_.mockLogin(this);\n+\t\t\t\t}\n+\t\t\t}\n+\t\t} else {\n+\t\t\treturn true;\n+\t\t}\n+\t}\n+}\n+\n+class mock_{\n+\tpublic static boolean mockLogin(Object o){\n+\t\treturn true;\n+\t}\n+}"
  } ],
  "sha" : "2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
  "url" : "https://api.github.com/repos/hzuapps/java-web/commits/2fab67196275bd5d88b22ee6635dfb2e23d3ea0a",
  "parents" : [ {
    "sha" : "560cb5c4b463b057495944e481117e0445383bb6",
    "url" : "https://api.github.com/repos/hzuapps/java-web/commits/560cb5c4b463b057495944e481117e0445383bb6",
    "html_url" : "https://github.com/hzuapps/java-web/commit/560cb5c4b463b057495944e481117e0445383bb6"
  } ]
}