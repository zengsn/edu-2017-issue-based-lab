{
  "committer" : null,
  "stats" : {
    "total" : 1328,
    "additions" : 1208,
    "deletions" : 120
  },
  "author" : null,
  "html_url" : "https://github.com/hzuapps/java-web/commit/b5f22b07009ff75625c83cef00f86c86133c9ccf",
  "commit" : {
    "author" : {
      "name" : "Ibas Sun",
      "email" : "Ibas Sun",
      "date" : "2016-11-22T18:38:03Z"
    },
    "committer" : {
      "name" : "Ibas Sun",
      "email" : "Ibas Sun",
      "date" : "2016-11-22T18:38:03Z"
    },
    "message" : "#104 sys6 nice",
    "tree" : {
      "sha" : "de1f121013fa957ffd452fe2221273f33f23d72a",
      "url" : "https://api.github.com/repos/hzuapps/java-web/git/trees/de1f121013fa957ffd452fe2221273f33f23d72a"
    },
    "url" : "https://api.github.com/repos/hzuapps/java-web/git/commits/b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/java-web/commits/b5f22b07009ff75625c83cef00f86c86133c9ccf/comments",
  "files" : [ {
    "sha" : "26f1e5b8d12716f260a9d1a83540d1ac8f461e82",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/Labels.java",
    "status" : "modified",
    "additions" : 7,
    "deletions" : 0,
    "changes" : 7,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Labels.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Labels.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Labels.java?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -6,6 +6,13 @@\n \tprivate String title;\n \tprivate String content;\n \tprivate String time;\n+\tprivate String quickCode;\n+\tpublic String getQuickCode() {\n+\t\treturn quickCode;\n+\t}\n+\tpublic void setQuickCode(String quickCode) {\n+\t\tthis.quickCode = quickCode;\n+\t}\n \tprivate Object other;\n \tpublic String getTitle() {\n \t\treturn title;"
  }, {
    "sha" : "aaab791af3a64ac6d71b00c212ef27a7c96f1854",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/LoginFilter.java",
    "status" : "modified",
    "additions" : 13,
    "deletions" : 2,
    "changes" : 15,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/LoginFilter.java?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -21,6 +21,10 @@\n     /**\n      * Default constructor. \n      */\n+\tprivate final String js = \"/jweb/1414080902134/js\";\n+\tprivate final String css = \"/jweb/1414080902134/css\";\n+\tprivate final String font = \"/jweb/1414080902134/font\";\n+\tprivate final String img = \"/jweb/1414080902134/img\";\n     public LoginFilter() {\n         // TODO Auto-generated constructor stub\n     }\n@@ -48,10 +52,17 @@ public void doFilter(ServletRequest request, ServletResponse response, FilterCha\n \t\t} else {\n \t\t\tpage = reqURL;\n \t\t}\n-\t\tSystem.out.println(page);\n+\t\t//System.out.println(page);\n+\t\t//System.out.println(page);\n \t\tif (session.getAttribute(\"login\") != null) {\n \t\t\tchain.doFilter(request, response);\n-\t\t} else if (page.equals(\"/jweb/1414080902134/home.jsp\") || page.equals(\"/jweb/MockLogin\")){\n+\t\t} else if (page.equals(\"/jweb/1414080902134/home.jsp\") \n+\t\t\t\t\t|| page.equals(\"/jweb/1414080902134\")\n+\t\t\t\t\t|| page.substring(0,js.length()).equals(js)\n+\t\t\t\t\t|| page.substring(0,font.length()).equals(font)\n+\t\t\t\t\t|| page.substring(0,css.length()).equals(css)\n+\t\t\t\t\t|| page.substring(0,img.length()).equals(img)\n+\t\t\t){\n \t\t\tchain.doFilter(request, response);\n \t\t} else {\n \t\t\tres.sendRedirect(\"/jweb/1414080902134/home.jsp\");"
  }, {
    "sha" : "246c5fe3766c4956bd172892a77d1b8a484a8f01",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/MockLogin.java",
    "status" : "modified",
    "additions" : 33,
    "deletions" : 13,
    "changes" : 46,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/MockLogin.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/MockLogin.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/MockLogin.java?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -2,6 +2,7 @@\n \n import java.io.IOException;\n import java.io.PrintWriter;\n+import java.util.ArrayList;\n import java.util.Date;\n import java.util.Enumeration;\n \n@@ -33,10 +34,9 @@ public MockLogin() {\n \t */\n \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n \t\t// TODO Auto-generated method stub\n-\t\t//response.getWriter().append(\"Served at: \").append(request.getContextPath());\n \t\tServletContext application=this.getServletContext(); \n \t\tapplication.setAttribute(\"message\",\"only dear with post method .\");\n-\t\tresponse.sendRedirect(\"/1414080902134/index.jsp\");\n+\t\tresponse.sendRedirect(\"jweb/1414080902134/home.jsp\");\n \t}\n \n \t/**\n@@ -60,26 +60,24 @@ protected void doPost(HttpServletRequest request, HttpServletResponse response)\n \t\tif (ud.getQuickCode().equals(\"\")) {\n \t\t\tif (ud.isComplete()) {\n \t\t\t\t// login success\n-\t\t\t\tSystem.out.println(\"info-9\");\n-\t\t\t\t//application.setAttribute(\"UserData\",ud);\n+\t\t\t\t//System.out.println(\"info-9\");\n+\t\t\t\tArrayList<Labels> labels = new ArrayList<Labels>();\n+\t\t\t\tfor (int i = 0;i < mock.count;i++) {\n+\t\t\t\t\tlabels.add(mock.get(\"\", i));\n+\t\t\t\t}\n \t\t\t\tsession.setAttribute(\"login\", true);\n-\t\t\t\tresponse.sendRedirect(\"/jweb/1414080902134/HomeUser.jsp\");\n+\t\t\t\tsession.setAttribute(\"labels\", labels);\n+\t\t\t\tresponse.sendRedirect(\"/jweb/1414080902134/ShowLabels.jsp\");\n \t\t\t} else {\n-\t\t\t\tSystem.out.println(\"info-7\");\n-\t\t\t\t//request.setAttribute(\"info\", \"Login fail , please input username and password or quickcode.\");\n+\t\t\t\t//System.out.println(\"info-7\");\n \t\t\t\tsession.setAttribute(\"info\", \"Login fail , please input username and password or quickcode.\");\n-\t\t\t\t//this.getServletConfig().getServletContext().getRequestDispatcher(\"/1414080902134/home.jsp\").forward(request,response);\n \t\t\t\tresponse.sendRedirect(\"/jweb/1414080902134/home.jsp\");\n \t\t\t}\n \t\t} else {\n-\t\t\tSystem.out.println(\"info-2\");\n-\t\t\t//if have a quickcode , not redirect but show the label\n+\t\t\t//System.out.println(\"info-2\");\n \t\t\tLabels labels = mock.get(ud.getQuickCode());\n-\t\t\t//request.setAttribute(\"label\", content);\n-\t\t\t//request.setAttribute(\"quickCode\", ud.getQuickCode());\n \t\t\tsession.setAttribute(\"label\", labels);\n \t\t\tsession.setAttribute(\"quickCode\", ud.getQuickCode());\n-\t\t\t//this.getServletConfig().getServletContext().getRequestDispatcher(\"/1414080902134/home.jsp\").forward(request,response);\n \t\t\tresponse.sendRedirect(\"/jweb/1414080902134/home.jsp\");\n \t\t}\n \t}\n@@ -88,6 +86,18 @@ protected void doPost(HttpServletRequest request, HttpServletResponse response)\n \n //temporary until issues x\n class mock{\n+\tpublic static int count = 7;\n+\tpublic static String[] labels = \n+\t\t\t(\n+\t\t\t\t\"Monday is a nice begin for me ._\" + \n+\t\t\t\t\"Tuesday is a nice begin for me ._\" + \n+\t\t\t\t\"Wednesday is a nice begin for me ._\" + \n+\t\t\t\t\"Thursday is a nice begin for me ._\" + \n+\t\t\t\t\"Friday is a nice begin for me ._\" + \n+\t\t\t\t\"Saturday is a nice begin for me ._\" + \n+\t\t\t\t\"Sunday is a nice begin for me ._\" \n+\t\t\t)\n+\t\t\t.split(\"_\");\n \tpublic static Labels get(String str){\n \t\tDate d = new Date();\n \t\tLabels label = new Labels();\n@@ -97,5 +107,15 @@ public static Labels get(String str){\n \t\tlabel.setOther(new Object());\n \t\treturn label;\n \t}\n+\tpublic static Labels get(String str,int n) {\n+\t\tDate d = new Date();\n+\t\tLabels label = new Labels();\n+\t\tlabel.setTitle(\"{Title}: \" + labels[n % 7].split(\" \")[0]);\n+\t\tlabel.setTime((1990 + d.getYear()) + \"Y \" + (1 + d.getMonth()) + \"M \" + (d.getDate()) + \"D \" + d.getHours() + \":\" + d.getMinutes() + \":\" + d.getSeconds());\n+\t\tlabel.setContent(\"{Content} : \" + labels[n % 7]);\n+\t\tlabel.setOther(new Object());\n+\t\tlabel.setQuickCode(\"\" + n);\n+\t\treturn label;\n+\t}\n }\n "
  }, {
    "sha" : "4c485327feb846a8009b9ac88910e7773cf433b8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/Se1414080902134Servlet.java",
    "status" : "modified",
    "additions" : 53,
    "deletions" : 28,
    "changes" : 81,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Se1414080902134Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Se1414080902134Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Se1414080902134Servlet.java?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -10,6 +10,7 @@\n import javax.servlet.http.HttpServlet;\n import javax.servlet.http.HttpServletRequest;\n import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n \n import java.util.Enumeration;\n import java.util.Iterator;\n@@ -37,53 +38,77 @@ public Se1414080902134Servlet() {\n \t */\n \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n \t\t// TODO Auto-generated method stub\n-\t\tServletContext application=this.getServletContext(); \n-\t\tapplication.setAttribute(\"message\",\"only dear with post method .\");\n-\t\tresponse.sendRedirect(\"/1414080902134/Home.jsp\");\n+\t\t//ServletContext application=this.getServletContext(); \n+\t\t//application.setAttribute(\"message\",\"only dear with post method .\");\n+\t\tSystem.out.println(\"only dear with post method\");\n+\t\tresponse.sendRedirect(\"/jweb/1414080902134/Home.jsp\");\n \t}\n \n \t/**\n \t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n \t */\n \tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n \t\t// TODO Auto-generated method stub\n-\t\tServletContext application=this.getServletContext(); \n+\t\tHttpSession session = request.getSession();\n+\t\tsession.setAttribute(\"info\", null);\n+\t\tsession.setAttribute(\"label\", null);\n+\t\tsession.setAttribute(\"quickCode\", null);\n+\t\tObject isLogin_ = session.getAttribute(\"isLogin\");\n \t\tboolean isLogin = false;\n-\t\tPrintWriter out = response.getWriter();\n+\t\tServletContext application=this.getServletContext();\n \t\tUserData ud = new UserData();\n+\t\tObject ud_ = session.getAttribute(\"ud\");\n \t\tEnumeration<String> iter_ = (request.getParameterNames());\n+\t\t////////////if is login and remembered ///////////////////\n+\t\tif (isLogin_ != null && ud_ != null) {\n+\t\t\tif (((String)isLogin_).equals(\"true\")) {\n+\t\t\t\tisLogin = true;\n+\t\t\t} else {\n+\t\t\t\tsession.setAttribute(\"isLogin\", null);\n+\t\t\t}\n+\t\t}\n+\t\t///////////////// fill the form //////////////////////////\n \t\twhile (iter_.hasMoreElements()) {\n \t\t\tString key = iter_.nextElement();\n \t\t\tud.setAttribute(key,request.getParameter(key));\n \t\t}\n-\t\tif (ud.getQuickCode().equals(\"\")) {\n-\t\t\tif (!ud.isComplete()) {\n-\t\t\t\tout.write(\"Information is not full .\");\n+\t\t//////////////// try to login ///////////////////\n+\t\tud.isComplete();\n+\t\t///////////////// quickcode first /////////////////\n+\t\tif (!ud.getQuickCode().equals(\"\")) {\n+\t\t\t//to get a note\n+\t\t\tnote n = new note();\n+\t\t\tnotesDao nd = new notesDao();\n+\t\t\tn.setQuickCode(ud.getQuickCode());\n+\t\t\tnd.fillNote(n);\n+\t\t\tSystem.out.println(\"quickCode is \" + n.getQuickCode());\n+\t\t\tif (n.isFill) {\n+\t\t\t\tsession.setAttribute(\"label\",n);\n+\t\t\t\tSystem.out.println(\"quickCode success\");\n \t\t\t} else {\n-\t\t\t\tif (ud.getUserName().isEmpty()) {\n-\t\t\t\t\tout.write(\"Welcome , \" + ud.getEmail());\n-\t\t\t\t\tisLogin = true;\n-\t\t\t\t} else {\n-\t\t\t\t\tout.write(\"Welcome , \" + ud.getUserName());\n-\t\t\t\t\tisLogin = true;\n-\t\t\t\t}\n+\t\t\t\tsession.setAttribute(\"info\",\"Please a right quick code .\");\n+\t\t\t\tSystem.out.println(\"quickCode fail\");\n \t\t\t}\n-\t\t} else {\n-\t\t\tout.write(\"QuickCode = \" + ud.getQuickCode());\n-\t\t\t//isLogin = true;\n+\t\t\tresponse.sendRedirect(\"1414080902134/home.jsp\");\n \t\t}\n-\t\tif (ud.isComplete()) {\n-\t\t\tif (isLogin) {\n-\t\t\t\tapplication.setAttribute(\"UserData\",ud);\n-\t\t\t\tresponse.sendRedirect(\"1414080902134/HomeUser.jsp\");\n-\t\t\t} else {\n-\t\t\t\t//TO DO\n-\t\t\t\t//SEARCH SOMETHING FROM DATABASE BY THE QUICKCODE\n-\t\t\t}\n+\t\telse if (ud.isLogin) {\n+\t\t\t//new user login , keep down the new one\n+\t\t\tsession.setAttribute(\"ud\", ud);\n+\t\t\tSystem.out.println(\"login\");\n+\t\t\tsession.setAttribute(\"login\",true);\n+\t\t\tresponse.sendRedirect(\"1414080902134/ShowLabels.jsp\");\n+\t\t} else if (isLogin) {\n+\t\t\t//if there is a user is login\n+\t\t\tSystem.out.println(\"old login\");\n+\t\t\tsession.setAttribute(\"login\",true);\n+\t\t\tsession.setAttribute(\"ud\", ud);\n+\t\t\tresponse.sendRedirect(\"1414080902134/ShowLabels.jsp\");\n \t\t} else {\n-\t\t\tresponse.sendRedirect(\"1414080902134/Home.jsp\");\n+\t\t\t//login fail\n+\t\t\tsession.setAttribute(\"info\",\"Try to login to continue .[user name or password is wrong]\");\n+\t\t\tSystem.out.println(\"login fail\");\n+\t\t\tresponse.sendRedirect(\"1414080902134/home.jsp\");\n \t\t}\n-\t\tout.flush();\n \t}\n \n }"
  }, {
    "sha" : "a9a7c62f9b8fc44af6c9bb4cd78467a84554913c",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserData.java",
    "status" : "modified",
    "additions" : 20,
    "deletions" : 1,
    "changes" : 21,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserData.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserData.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserData.java?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -1,17 +1,26 @@\n package edu.hzu.javaweb.labs.se1414080902134;\n \n public class UserData {\n+\tprivate int userId;\n \tprivate String UserName;\n \tprivate String Email;\n \tprivate String Password;\n \tprivate String QuickCode;\n \tprivate boolean Remeber;\n+\tpublic boolean isLogin;\n \tpublic UserData(){\n \t\tUserName = \"\";\n \t\tEmail = \"\";\n \t\tPassword = \"\";\n \t\tQuickCode = \"\";\n \t\tRemeber = false;\n+\t\tisLogin = false;\n+\t}\n+\tpublic int getUserId() {\n+\t\treturn userId;\n+\t}\n+\tpublic void setUserId(int userId) {\n+\t\tthis.userId = userId;\n \t}\n \tpublic String getUserName() {\n \t\treturn UserName;\n@@ -71,7 +80,17 @@ public boolean isComplete(){\n \t\t\t\t\treturn false;\n \t\t\t\t} else {\n \t\t\t\t\t//mock to search from database\n-\t\t\t\t\treturn mock_.mockLogin(this);\n+\t\t\t\t\t//return mock_.mockLogin(this);\n+\t\t\t\t\tUserData ud = (new UserDataDao()).CheckUser(this);\n+\t\t\t\t\tif (ud != null) {\n+\t\t\t\t\t\tsetUserName(ud.getUserName());\n+\t\t\t\t\t\tsetEmail(ud.getEmail());\n+\t\t\t\t\t\tsetPassword(ud.getPassword());\n+\t\t\t\t\t\tisLogin = true;\n+\t\t\t\t\t\treturn true;\n+\t\t\t\t\t} else {\n+\t\t\t\t\t\treturn false;\n+\t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t} else {"
  }, {
    "sha" : "b0498d62f35037e2308e1a607eb79ebbec6472a5",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserDataDao.java",
    "status" : "added",
    "additions" : 53,
    "deletions" : 0,
    "changes" : 53,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserDataDao.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserDataDao.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserDataDao.java?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -0,0 +1,53 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.sql.*;\n+\n+import com.sun.org.apache.regexp.internal.RE;\n+\n+/**\n+ * \n+ * @author Administrator\n+ *\n+ */\n+public class UserDataDao {\n+\tprivate String Select_up = \"select id,UserName,Email,Password_ from UserData where \" + \n+\t\t\t\t\t\t\t\"UserName=? and Password_=?\";\n+\tprivate String Select_ep = \"select UserName,Email,Password_ from UserData where \" + \n+\t\t\t\"Email=? and Password_=?\";\t\n+\t/**\n+\t * Search the ud from database\n+\t * @param ud\n+\t * @return if the ud is exist in the database return true else return false\n+\t */\n+\tpublic UserData CheckUser(UserData ud){\n+\t\tPreparedStatement ps = null;\n+\t\tboolean isGet = false;\n+\t\ttry {\n+\t\t\tConnection conn = jdbcOne.getConnection();\n+\t\t\tif (ud.getEmail().equals(\"\")) {\n+\t\t\t\tif (ud.getUserName().equals(\"\")) {\n+\t\t\t\t\treturn null;\n+\t\t\t\t}\n+\t\t\t\tps = conn.prepareStatement(Select_up);\n+\t\t\t\tps.setString(1, ud.getUserName());\n+\t\t\t} else {\n+\t\t\t\tps = conn.prepareStatement(Select_ep);\n+\t\t\t\tps.setString(1, ud.getEmail());\n+\t\t\t}\n+\t\t\tps.setString(2, ud.getPassword());\n+\t\t\tResultSet rs = ps.executeQuery();\n+\t\t\tif (rs.next()) {\n+\t\t\t\tud.setUserId(rs.getInt(1));\n+\t\t\t\tud.setUserName(rs.getString(2));\n+\t\t\t\tud.setEmail(rs.getString(3));\n+\t\t\t\tud.setPassword(rs.getString(4));\n+\t\t\t}\n+\t\t\tjdbcOne.free(rs, ps, conn);\n+\t\t\treturn ud;\n+\t\t} catch (SQLException e) {\n+\t\t\t// TODO Auto-generated catch block\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn ud;\n+\t}\n+}"
  }, {
    "sha" : "87edd4cf6c4eb8306a78a10f37ffa08d83c2e5b4",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/jdbcOne.java",
    "status" : "added",
    "additions" : 57,
    "deletions" : 0,
    "changes" : 57,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/jdbcOne.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/jdbcOne.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/jdbcOne.java?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -0,0 +1,57 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.sql.*;\n+import java.util.*;\n+\n+\n+public class jdbcOne {\n+\tprivate static String driver;\n+\tprivate static String url;\n+\tprivate static String user;\n+\tprivate static String pwd;\n+\t//private static Properties pt = new Properties();\n+\tpublic jdbcOne(){}\n+\tstatic {\n+\t\ttry {\n+\t\t\t//pt.load(jdbcOne.class.getClassLoader()\n+\t\t\t//\t\t.getResourceAsStream(\"db.properties\"));\n+\t\t\tdriver = \"com.mysql.jdbc.Driver\";//pt.getProperty(\"driver\");\n+\t\t\turl = \"jdbc:mysql://localhost:3306/my_db?userUnicode=true&charcterEncoding=utf-8\";//pt.getProperty(\"url\");\n+\t\t\tuser = \"root\";//pt.getProperty(\"user\");\n+\t\t\tpwd = \"include bing\";//pt.getProperty(\"pwd\");\n+\t\t\tClass.forName(driver);\n+\t\t} catch (Exception e) {\n+\t\t\tthrow new ExceptionInInitializerError(e);\n+\t\t}\n+\t}\n+\t\n+\tpublic static Connection getConnection() throws SQLException{\n+\t\treturn (Connection) DriverManager.getConnection(url,user,pwd);\n+\t}\n+\t\n+\tpublic static void free(ResultSet rs,Statement ps,java.sql.Connection conn) {\n+\t\ttry {\n+\t\t\tif (rs != null) {\n+\t\t\t\trs.close();\n+\t\t\t}\n+\t\t} catch (SQLException e) {\n+\t\t\te.printStackTrace();\n+\t\t} finally {\n+\t\t\ttry {\n+\t\t\t\tif (ps != null) {\n+\t\t\t\t\tps.close();\n+\t\t\t\t}\n+\t\t\t} catch (SQLException e) {\n+\t\t\t\te.printStackTrace();\n+\t\t\t} finally {\n+\t\t\t\tif (conn != null) {\n+\t\t\t\t\ttry {\n+\t\t\t\t\t\tconn.close();\n+\t\t\t\t\t} catch (SQLException e) {\n+\t\t\t\t\t\te.printStackTrace();\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t}\n+\t\t}\n+\t}\n+}"
  }, {
    "sha" : "d0911eb5a54df1ac53340b05596833ef5f225ca5",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/note.java",
    "status" : "added",
    "additions" : 60,
    "deletions" : 0,
    "changes" : 60,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/note.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/note.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/note.java?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -0,0 +1,60 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.util.Date;\n+\n+public class note {\n+\tprivate int id;\n+\tprivate String title;\n+\tprivate String Content;\n+\tprivate int userId;\n+\tprivate Date lastTime;\n+\tprivate String quickCode;\n+\tpublic boolean isFill;\n+\tpublic final int titleMaxLength = 15;\n+\tpublic final int contentMaxLength = 300;\n+\tpublic final int quickCodeLength = 6;\n+\tpublic note() {\n+\t\ttitle = null;\n+\t\tContent = null;\n+\t\tuserId = 0;\n+\t\tlastTime = null;\n+\t\tquickCode = null;\n+\t\tisFill = false;\n+\t}\n+\tpublic int getId() {\n+\t\treturn id;\n+\t}\n+\tpublic void setId(int id) {\n+\t\tthis.id = id;\n+\t}\n+\tpublic String getTitle() {\n+\t\treturn title;\n+\t}\n+\tpublic void setTitle(String title) {\n+\t\tthis.title = title;\n+\t}\n+\tpublic String getContent() {\n+\t\treturn Content;\n+\t}\n+\tpublic void setContent(String content) {\n+\t\tContent = content;\n+\t}\n+\tpublic int getUserId() {\n+\t\treturn userId;\n+\t}\n+\tpublic void setUserId(int userId) {\n+\t\tthis.userId = userId;\n+\t}\n+\tpublic Date getLastTime() {\n+\t\treturn lastTime;\n+\t}\n+\tpublic void setLastTime(Date lastTime) {\n+\t\tthis.lastTime = lastTime;\n+\t}\n+\tpublic String getQuickCode() {\n+\t\treturn quickCode;\n+\t}\n+\tpublic void setQuickCode(String quickCode) {\n+\t\tthis.quickCode = quickCode;\n+\t}\n+}"
  }, {
    "sha" : "ddf77ef062c9fb0ac64afc6bb1e668df41fa0fef",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesDao.java",
    "status" : "added",
    "additions" : 151,
    "deletions" : 0,
    "changes" : 151,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesDao.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesDao.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesDao.java?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -0,0 +1,151 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.sql.*;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import com.mysql.jdbc.Connection;\n+\n+public class notesDao {\n+\tprivate static String allFiled = \"title,content,userid,lasttime,quickCode\";\n+\tpublic note fillNote(note n){\n+\t\tConnection conn = null;\n+\t\tPreparedStatement ps = null;\n+\t\ttry {\n+\t\t\tconn = (Connection) jdbcOne.getConnection();\n+\t\t\tif (n.getQuickCode() == null) {\n+\t\t\t\treturn null;\n+\t\t\t} else {\n+\t\t\t\tps = conn.prepareStatement(\"select id,\" + \n+\t\t\t\t\t\t\t\t\t\t\tallFiled + \n+\t\t\t\t\t\t\t\t\t\t\t\" from notes where quickCode='\"\n+\t\t\t\t\t\t\t\t\t\t\t+ n.getQuickCode() + \"'\");\n+\t\t\t\tResultSet rs = ps.executeQuery();\n+\t\t\t\tif (rs.next()) {\n+\t\t\t\t\tn.setId(rs.getInt(1));\n+\t\t\t\t\tn.setTitle(rs.getString(2));\n+\t\t\t\t\tn.setContent(rs.getString(3));\n+\t\t\t\t\tn.setUserId(rs.getInt(4));\n+\t\t\t\t\tn.setLastTime(rs.getDate(5));\n+\t\t\t\t\tn.setQuickCode(rs.getString(6));\n+\t\t\t\t\tn.isFill = true;\n+\t\t\t\t}\n+\t\t\t\tjdbcOne.free(rs, ps, conn);\n+\t\t\t\treturn n;\n+\t\t\t}\n+\t\t} catch (SQLException e) {\n+\t\t\t// TODO Auto-generated catch block\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn n;\n+\t}\n+\tpublic int insert(note n,int userId){\n+\t\tConnection conn = null;\n+\t\tPreparedStatement ps = null;\n+\t\tint result = 0;\n+\t\tif (n == null && !n.isFill) {\n+\t\t\treturn 0;\n+\t\t}\n+\t\ttry {\n+\t\t\tconn = (Connection) jdbcOne.getConnection();\n+\t\t\tps = conn.prepareStatement(\"insert into notes (\" + \n+\t\t\t\t\t\t\t\t\t\tallFiled + \n+\t\t\t\t\t\t\t\t\t\t\") values (?,?,?,?,?);\");\n+\t\t\tps.setString(1, n.getTitle());\n+\t\t\tps.setString(2, n.getContent());\n+\t\t\tps.setInt(3, userId);\n+\t\t\tps.setDate(4, new java.sql.Date(n.getLastTime().getTime()));\n+\t\t\tps.setString(5, n.getQuickCode());\n+\t\t\t//ResultSet rs = ps.executeQuery();\n+\t\t\tresult = ps.executeUpdate();\n+\t\t\tps.clearBatch();\n+\t\t\tResultSet rs = ps.executeQuery(\"select max(id) from notes;\");\n+\t\t\tif (rs.next()) {\n+\t\t\t\tresult = rs.getInt(1);\n+\t\t\t}\n+\t\t\tjdbcOne.free(rs, ps, conn);\n+\t\t\treturn result;\n+\t\t} catch (SQLException e) {\n+\t\t\t// TODO Auto-generated catch block\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn result;\n+\t}\n+\tpublic int update(note n,int userId){\n+\t\tConnection conn = null;\n+\t\tPreparedStatement ps = null;\n+\t\tint result = 0;\n+\t\tif (n == null && !n.isFill) {\n+\t\t\treturn result;\n+\t\t}\n+\t\ttry {\n+\t\t\tconn = (Connection) jdbcOne.getConnection();\n+\t\t\tps = conn.prepareStatement(\"update notes set \" + \n+\t\t\t\t\t\t\t\t\t\t\"title=?,\" + \n+\t\t\t\t\t\t\t\t\t\t\"content=?,\" +\n+\t\t\t\t\t\t                \"userid=?,\" +\n+\t\t\t\t\t\t                \"lasttime=?,\" +\n+\t\t\t\t\t\t                \"quickCode=? \" + \n+\t\t\t\t\t\t                \"where id=?;\");\n+\t\t\tps.setString(1, n.getTitle());\n+\t\t\tps.setString(2, n.getContent());\n+\t\t\tps.setInt(3, userId);\n+\t\t\tps.setDate(4, new java.sql.Date(n.getLastTime().getTime()));\n+\t\t\tps.setString(5, n.getQuickCode());\n+\t\t\tps.setInt(6, n.getId());\n+\t\t\tresult = ps.executeUpdate();\n+\t\t\tjdbcOne.free(null, ps, conn);\n+\t\t\treturn result;\n+\t\t} catch (SQLException e) {\n+\t\t\t// TODO Auto-generated catch block\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn result;\n+\t}\n+\tpublic int delete(note n){\n+\t\tList<note> notes = new ArrayList<note>();\n+\t\tConnection conn = null;\n+\t\tPreparedStatement ps = null;\n+\t\tint result = 0;\n+\t\ttry {\n+\t\t\tconn = (Connection) jdbcOne.getConnection();\n+\t\t\tps = conn.prepareStatement(\"delete from notes where id='\" + n.getId() + \"';\");\n+\t\t\tresult = ps.executeUpdate();\n+\t\t\tjdbcOne.free(null, ps, conn);\n+\t\t\treturn result;\n+\t\t} catch (SQLException e) {\n+\t\t\t// TODO Auto-generated catch block\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn result;\n+\t}\n+\tpublic List<note> getAll(int userId){\n+\t\tList<note> notes = new ArrayList<note>();\n+\t\tConnection conn = null;\n+\t\tPreparedStatement ps = null;\n+\t\ttry {\n+\t\t\tconn = (Connection) jdbcOne.getConnection();\n+\t\t\tps = conn.prepareStatement(\"select id,\" +\n+\t\t\t\t\t\t\t\t\t\tallFiled + \n+\t\t\t\t\t\t\t\t\t\t\" from notes order by id desc;\");\n+\t\t\tResultSet rs = ps.executeQuery();\n+\t\t\twhile (rs.next()) {\n+\t\t\t\tnote n = new note();\n+\t\t\t\tn.setId(rs.getInt(1));\n+\t\t\t\tn.setTitle(rs.getString(2));\n+\t\t\t\tn.setContent(rs.getString(3));\n+\t\t\t\tn.setUserId(rs.getInt(4));\n+\t\t\t\tn.setLastTime(rs.getDate(5));\n+\t\t\t\tn.setQuickCode(rs.getString(6));\n+\t\t\t\tn.isFill = true;\n+\t\t\t\tnotes.add(n);\n+\t\t\t}\n+\t\t\tjdbcOne.free(rs, ps, conn);\n+\t\t\treturn notes;\n+\t\t} catch (SQLException e) {\n+\t\t\t// TODO Auto-generated catch block\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn notes;\n+\t}\n+}"
  }, {
    "sha" : "2050f2097a32a963ae2256b0e88772836eec41eb",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesOP.java",
    "status" : "added",
    "additions" : 137,
    "deletions" : 0,
    "changes" : 137,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesOP.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesOP.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesOP.java?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -0,0 +1,137 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.Date;\n+import java.util.List;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+import net.sf.json.JSON;  \n+import net.sf.json.JSONArray;  \n+import net.sf.json.JSONObject;  \n+import net.sf.json.JSONSerializer;  \n+\n+/**\n+ * Servlet implementation class notesOP\n+ */\n+@WebServlet(\"/notesOP\")\n+public class notesOP extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public notesOP() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\t//response.getWriter().append(\"Served at: \").append(request.getContextPath());\n+\t\tdoPost(request,response);\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\tObject o = request.getParameter(\"OP\");\n+\t\tnotesDao nd = new notesDao();\n+\t\tHttpSession session = request.getSession();\n+\t\tPrintWriter out = response.getWriter();\n+\t\tif (o == null || session.getAttribute(\"login\") == null) {\n+\t\t\treturn ;\n+\t\t} else {\n+\t\t\tString OP = (String)o;\n+\t\t\tnote n;\n+\t\t\tint result_ = 0;\n+\t\t\tswitch (OP) {\n+\t\t\t\tcase \"insert\":\n+\t\t\t\t\tn = fill(request);\n+\t\t\t\t\tint result_1 = nd.insert(n, ((UserData)session\n+\t\t\t\t\t\t\t\t.getAttribute(\"ud\")).getUserId());\n+\t\t\t\t\tn.setId(result_1);\n+\t\t\t\t\tout.append(\"{\\\"op\\\":\\\"insert\\\",\\\"cout\\\":\\\"\" + \n+\t\t\t\t\t\t\t\tresult_1 + \"\\\",\\\"note\\\":[\" + \n+\t\t\t\t\t\t\t\ttoJson.noteToJson(n) + \"]}\");\n+\t\t\t\t\tbreak;\n+\t\t\t\tcase \"delete\":\n+\t\t\t\t\tn = fill(request);\n+\t\t\t\t\tint result_2 = nd.delete(n);\n+\t\t\t\t\tif (result_2 == 0) {\n+\t\t\t\t\t\tout.append(\"{\\\"op\\\":\\\"remove\\\",\\\"cout\\\":\\\"\" + result_2 + \"\\\"}\");\n+\t\t\t\t\t} else {\n+\t\t\t\t\t\tout.append(\"{\\\"op\\\":\\\"remove\\\",\\\"cout\\\":\\\"\" + n.getId() + \"\\\"}\");\n+\t\t\t\t\t}\n+\t\t\t\t\tbreak;\n+\t\t\t\tcase \"getall\":\n+\t\t\t\t\tList<note> notes = nd.getAll(((UserData)session\n+\t\t\t\t\t\t\t\t.getAttribute(\"ud\")).getUserId());\n+\t\t\t\t\tif (notes == null) {\n+\t\t\t\t\t\tout.append(\"{}\");\n+\t\t\t\t\t} else {\n+\t\t\t\t\t\tout.append(toJson.buildToJson(notes, \"getall\"));\n+\t\t\t\t\t}\n+\t\t\t\t\tbreak;\n+\t\t\t\tcase \"update\" :\n+\t\t\t\t\tn = fill(request);\n+\t\t\t\t\tint result_3 = nd.update(n, ((UserData)session\n+\t\t\t\t\t\t\t.getAttribute(\"ud\")).getUserId());\n+\t\t\t\t\tout.append(\"{\\\"op\\\":\\\"update\\\",\\\"cout\\\":\\\"\" + result_3 + \"\\\"}\");\n+\t\t\t\t\tbreak;\n+\t\t\t\tdefault :\n+\t\t\t\t\tout.append(\"{\\\"op\\\":\\\"fail\\\",\\\"cout\\\":\\\"0\\\"}\");\n+\t\t\t\t\treturn;\n+\t\t\t}\n+\t\t}\n+\t}\n+\tpublic note fill(HttpServletRequest req){\n+\t\tnote n = new note();\n+\t\tString tstr;\n+\t\tn.setId(Integer.parseInt(getParam(req,\"id\",\"0\")));\n+\t\ttstr = getParam(req,\"title\",\"title\");\n+\t\tif (tstr.length() > n.titleMaxLength) {\n+\t\t\ttstr.substring(0, n.titleMaxLength);\n+\t\t}\n+\t\tn.setTitle(tstr);\n+\t\tif (tstr.length() > n.contentMaxLength) {\n+\t\t\ttstr.substring(0, n.contentMaxLength);\n+\t\t}\n+\t\ttstr = getParam(req,\"content\",\"content\");\n+\t\tn.setContent(tstr);\n+\t\ttstr = (String)getParam(req,\"quickCode\",\"____\");\n+\t\tif (tstr == \"____\" || tstr.length() != n.quickCodeLength) {\n+\t\t\ttry {\n+\t\t\t\tthrow new Exception(\"quickCode is strange .\");\n+\t\t\t} catch (Exception e) {\n+\t\t\t\t// TODO Auto-generated catch block\n+\t\t\t\te.printStackTrace();\n+\t\t\t}\n+\t\t}\n+\t\tn.setQuickCode(tstr);\n+\t\tn.setLastTime(new Date());\n+\t\treturn n;\n+\t}\n+\tprivate String getParam(HttpServletRequest req,String attr,String defaultValue) {\n+\t\tString o = req.getParameter(attr);\n+\t\tif (o == null) {\n+\t\t\treturn defaultValue; \n+\t\t} else {\n+\t\t\tif (o.equals(\"\")) {\n+\t\t\t\treturn defaultValue;\n+\t\t\t}\n+\t\t\treturn o;\n+\t\t}\n+\t}\n+}"
  }, {
    "sha" : "64eb52226d4f67fa0c67510dfe01ca2a0fbfb2c3",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/toJson.java",
    "status" : "added",
    "additions" : 29,
    "deletions" : 0,
    "changes" : 29,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/toJson.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/src/edu/hzu/javaweb/labs/se1414080902134/toJson.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/toJson.java?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -0,0 +1,29 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.util.Iterator;\n+import java.util.List;\n+\n+public class toJson {\n+\tpublic static String buildToJson(List<note> nd,String op){\n+\t\tStringBuilder sb  = new StringBuilder();\n+\t\tIterator<note> ind = nd.iterator();\n+\t\tsb.delete(0, sb.length());\n+\t\tsb.append(\"{\\\"op\\\":\\\"\" + op + \"\\\",\\\"note\\\":[\");\n+\t\twhile (ind.hasNext()) {\n+\t\t\tsb.append(noteToJson(ind.next()) + \",\");\n+\t\t}\n+\t\tsb.deleteCharAt(sb.length() - 1);\n+\t\tsb.append(\"]}\");\n+\t\treturn sb.toString();\n+\t}\n+\tpublic static String noteToJson(note n){\n+\t\tStringBuilder sb = new StringBuilder();\n+\t\tsb.delete(0,sb.length());\n+\t\tsb.append(\"{\\\"id\\\":\\\"\" + n.getId() + \"\\\",\");\n+\t\tsb.append(\"\\\"title\\\":\\\"\" + n.getTitle() + \"\\\",\");\n+\t\tsb.append(\"\\\"content\\\":\\\"\" + n.getContent() + \"\\\",\");\n+\t\tsb.append(\"\\\"QCode\\\":\\\"\" + n.getQuickCode() + \"\\\",\");\n+\t\tsb.append(\"\\\"time\\\":\\\"\" + n.getLastTime().toLocaleString() + \"\\\"}\");\n+\t\treturn sb.toString();\n+\t}\n+}"
  }, {
    "sha" : "c6b5b28bfd9c242919d70f134aeb7a45ba916537",
    "filename" : "jweb/web/1414080902134/ShowLabels.jsp",
    "status" : "modified",
    "additions" : 52,
    "deletions" : 62,
    "changes" : 114,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/ShowLabels.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/ShowLabels.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/ShowLabels.jsp?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -1,4 +1,4 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n     pageEncoding=\"UTF-8\"%>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %>   \n <!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\n@@ -11,72 +11,62 @@\n \t<link href = \"http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css\" rel = \"styleSheet\"/>\n \t<link href = \"http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap-theme.min.css\" rel = \"styleSheet\"/>\n \t<script src = \"http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js\"></script>\n+\t<script src = \"formQCode.js\"></script>\n+\t<script src = \"dearJson.js\"></script>\n+\t<script src = \"js/bgimage.js\"></script>\n \t<style>\n-\t\t.main-panel {\n-\t\t\tposition : absolute;\n-\t\t\twidth : 90%;\n-\t\t\tpadding : 10px;\n-\t\t}\n-\t\t.odd-label {\n-\t\t\twidth : 31%;\n-\t\t\tpadding : 1%;\n-\t\t\tfloat : left;\n-\t\t\tmargin : 1%;\n-\t\t}\n-\t\t@media only screen \n-\t\tand (min-width : 0px)\n-\t\tand (max-width : 600px)\n-\t\t{\n-\t\t\t.main-panel {\n-\t\t\t\twidth : 90%;\n-\t\t\t\tmargin : 10px;\n-\t\t\t}\n-\t\t\t.odd-label {\n-\t\t\t\twidth : 80%;\n-\t\t\t\tpadding : 0 1% 1% 1%;\n-\t\t\t\tfloat : left;\n-\t\t\t\tmargin : 0 9% 3% 9%;\n-\t\t\t}\n-\t\t}\n-\t\t@media only screen \n-\t\tand (min-width : 600px)\n-\t\tand (max-width : 800px)\n-\t\t{\n-\t\t\t.main-panel {\n-\t\t\t\twidth : 94%;\n-\t\t\t\tmargin : 3px;\n-\t\t\t}\n-\t\t\t.odd-label {\n-\t\t\t\twidth : 43%;\n-\t\t\t\tpadding : 0 1% 1% 1%;\n-\t\t\t\tfloat : left;\n-\t\t\t\tmargin : 0 2% 1% 2%;\n-\t\t\t}\n-\t\t}\n \t</style>\n </head>\n <body>\n-\t<c:if test = \"${labels != null}\">\n-\t\t<div class = \"main-panel\">\n-\t\t\t<c:forEach var = \"t\" items = \"${labels}\">\n-\t\t\t\t<div class = \"panel panel-info odd-label\">\n-\t\t\t\t\t<div class = \"panel-heading\">\n-\t\t\t\t\t\t<c:out value = \"${t.getTitle()}\"></c:out>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<div class = \"panel-body\">\n-\t\t\t\t\t\t<c:out value = \"${t.getContent()}\"></c:out>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<div class = \"panel-footer\">\n-\t\t\t\t\t\t<div style = \"width : auto;float : left;\">\n-\t\t\t\t\t\t\t<c:out value = \"QuickCode : ${t.getQuickCode()}\"></c:out>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div style = \"text-align : right;\">\n-\t\t\t\t\t\t\t<c:out value = \"${t.getTime()}\"></c:out>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n+\t<script>\n+\t\twindow.onload = function(){\n+\t\t\toperator(\"../notesOP?OP=getall\",\"getall\");\n+\t\t\tbg();\n+\t\t}\n+\t</script>\n+\t<div class = \"main-panel\">\n+\t\t<!-- one note begin -->\n+\t\t<div class = \"panel panel-info odd-label\" id = \"note_1\">\n+\t\t\t<input class = \"note_id\" hidden type = \"text\"/>\n+\t\t\t<div class = \"panel-heading cohead_\">\n+\t\t\t\t<input type = \"text\" value = \"\" placeholder=\"title\" class = \"head_input title_\"/>\n+\t\t\t\t\t<button class = \"actionButton\" onclick = \"create_newnote('note_1')\">\n+\t\t\t\t\t\t<span \n+\t\t\t\t\t\t\t\tclass = \"glyphicon glyphicon-ok-circle icon_padding\">\n+\t\t\t\t\t\t\t\t</span>\n+\t\t\t\t\t</button>\n+\t\t\t\t\t<button class = \"actionButton\" onclick = \"clear_newnote('note_1')\">\n+\t\t\t\t\t\t<span \n+\t\t\t\t\t\t\t\tclass = \"glyphicon glyphicon-remove  icon_padding\">\n+\t\t\t\t\t\t\t\t</span>\n+\t\t\t\t\t</button>\n+\t\t\t</div>\n+\t\t\t<div class = \"panel-body mybody\">\n+\t\t\t\t<textarea class = \"body_textarea content_\"></textarea>\n+\t\t\t</div>\n+\t\t\t<div class = \"panel-footer\">\n+\t\t\t\t<div id = \"divQC\" class = \"qCode\">\n+\t\t\t\t</div>\n+\t\t\t\t<input type = \"text\" value = \"\" class = \"qCode_\" id = \"inputQC\" hidden />\n+\t\t\t\t<script>\n+\t\t\t\t\t{\n+\t\t\t\t\t\tinputQC.value = formQCode();\n+\t\t\t\t\t\tdivQC.innerText += \"QCode : \" + inputQC.value;\n+\t\t\t\t\t}\n+\t\t\t\t</script>\n+\t\t\t\t<div id = \"divtime\" class = \"time\">\n \t\t\t\t</div>\n-\t\t\t</c:forEach>\n+\t\t\t\t<input type = \"text\" value = \"\" class = \"time_\" id = \"inputtime\" hidden/>\n+\t\t\t\t<script>\n+\t\t\t\t\t{\n+\t\t\t\t\t\tvar d = (new Date()).toISOString();\n+\t\t\t\t\t\tinputtime.value = d.substr(0,d.indexOf('T'));\n+\t\t\t\t\t\tdivtime.innerText += d.substr(0,d.indexOf('T'));\n+\t\t\t\t\t}\n+\t\t\t\t</script>\n+\t\t\t</div>\n \t\t</div>\n-\t</c:if>\n+\t\t<!-- one note end -->\n+\t</div>\n </body>\n </html>\n\\ No newline at end of file"
  }, {
    "sha" : "441e571f5e2435b4653babb0003d69df7375e09f",
    "filename" : "jweb/web/1414080902134/css/my.css",
    "status" : "added",
    "additions" : 103,
    "deletions" : 0,
    "changes" : 103,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/css/my.css",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/css/my.css",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/css/my.css?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -0,0 +1,103 @@\n+.main-panel {\n+\tposition : absolute;\n+\twidth : 96%;\n+\tpadding : 10px;\n+}\n+.odd-label {\n+\twidth : 31%;\n+\tpadding : 1%;\n+\tfloat : left;\n+\tmargin : 1%;\n+\tbackground : rgba(240, 248, 255, 0.45);\n+}\n+@media only screen \n+and (min-width : 0px)\n+and (max-width : 444px)\n+{\n+\t.main-panel {\n+\t\twidth : 400px;\n+\t\tmargin : 10px;\n+\t}\n+\t.odd-label {\n+\t\twidth : 80%;\n+\t\tpadding : 0 1% 1% 1%;\n+\t\tfloat : left;\n+\t\tmargin : 0 9% 3% 9%;\n+\t}\n+}\n+@media only screen \n+and (min-width : 444px)\n+and (max-width : 650px)\n+{\n+\t.main-panel {\n+\t\twidth : 90%;\n+\t\tmargin : 10px;\n+\t}\n+\t.odd-label {\n+\t\twidth : 80%;\n+\t\tpadding : 0 1% 1% 1%;\n+\t\tfloat : left;\n+\t\tmargin : 0 9% 3% 9%;\n+\t}\n+}\n+@media only screen \n+and (min-width : 650px)\n+and (max-width : 850px)\n+{\n+\t.main-panel {\n+\t\twidth : 94%;\n+\t\tmargin : 3px;\n+\t}\n+\t.odd-label {\n+\t\twidth : 43%;\n+\t\tpadding : 0 1% 1% 1%;\n+\t\tfloat : left;\n+\t\tmargin : 0 2% 1% 2%;\n+\t}\n+}\n+textarea {\n+\twidth : 98%;\n+\theight : 98%;\n+\tleft : 1%;\n+\ttop : 1%;\n+\tbackground : rgba(240, 248, 255, 0.45);\n+}\n+.mybody {\n+\theight : 200px;\n+}\n+.actionButton {\n+\tfloat : right;\n+\tborder : none;\n+\tbackground : rgba(0,0,0,0);\n+\tfont-size : x-large;\n+\toutline : none;\n+}\n+.head_input {\n+\tborder : none;padding : 2px;\n+\tborder-radius : 10px;\n+\tbackground : #f1f5e7;\n+\toutline : none;\n+}\n+.body_textarea {\n+\tborder-radius : 12px;\n+\toutline : none;\n+}\n+.cohead_ {\n+\theight : 45px;\n+}\n+.qCode {\n+\twidth : auto;\n+\tfloat : left;\n+}\n+.time {\n+\ttext-align : right;\n+}\n+.icon_padding {\n+\tpadding : 0 5px;\n+}\n+.icon_padding:hover {\n+\tcolor : #7cd0f9;\n+}\n+.title_ {\n+\tfloat : left;\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "22fb716756ba46241ae12f0c453e9a14af348474",
    "filename" : "jweb/web/1414080902134/home.jsp",
    "status" : "modified",
    "additions" : 35,
    "deletions" : 14,
    "changes" : 49,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/home.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/home.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/home.jsp?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -1,6 +1,6 @@\n <%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\n     pageEncoding=\"UTF-8\"%>\n-<%@ page import=\"edu.hzu.javaweb.labs.se1414080902134.Labels\" %>\n+<%@ page import=\"edu.hzu.javaweb.labs.se1414080902134.note\" %>\n <!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\n <html>\n <head>\n@@ -11,6 +11,7 @@\n \t<link href = \"http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css\" rel = \"styleSheet\"/>\n \t<link href = \"http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap-theme.min.css\" rel = \"styleSheet\"/>\n \t<script src = \"http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js\"></script>\n+\t<script src = \"js/bgimage.js\"></script>\n \t<style>\n \t\t.main{\n \t\t\tposition : absolute;\n@@ -29,9 +30,17 @@\n \t\t\t\tpadding : 5px;\n \t\t\t}\n \t\t}\n+\t\t.bgt {\n+\t\t\tbackground : rgba(133, 197, 138, 0.2);\n+\t\t}\n \t</style>\n </head>\n <body>\n+<script>\n+\twindow.onload = function(){\n+\t\tbg();\n+\t}\n+</script>\n <div class = \"main\">\n \t<%\n \t\tif (session.getAttribute(\"info\") != null) {\n@@ -42,10 +51,13 @@\n \t\t\tsession.setAttribute(\"info\",null);\n \t\t}\n \t%>\n-\t<div class=\"container\" style=\"padding : 10px;\">\n-\t    <div class=\"panel col-sm-6\">\n-\t        <!-- <form role=\"form\" id=\"login\" action = \"../1414080902134\" method = \"post\"> -->\n-\t        <form role=\"form\" id=\"login\" action = \"../MockLogin\" method = \"post\">\n+\t<div class=\"panel panel-info col-sm-8 bgt\">\n+\t    <div class=\"panel-heading\">\n+\t    \tLogin\n+\t    </div>\n+\t    <div class=\"panel-body\">\n+\t        <form id=\"login\" action = \"../1414080902134\" method = \"post\">\n+\t        <!-- <form role=\"form\" id=\"login\" action = \"../MockLogin\" method = \"post\"> -->\n \t            <div class=\"form-group\">\n \t                <label for=\"exampleInputEmail1\">\n \t                \tUser Name\n@@ -54,7 +66,9 @@\n \t                \t\tname = \"UserName\"\n \t                \t\tclass=\"form-control\" \n \t                \t\tid=\"exampleInputEmail1\" \n-\t                \t\tplaceholder=\"Enter User Name\"/>\n+\t                \t\tplaceholder=\"Enter User Name\"\n+\t                \t\tvalue = \"ibas\"\n+\t                \t\t/>\n \t            </div>\n \t            <div class=\"form-group\">\n \t                <label for=\"exampleInputPassword1\">\n@@ -64,7 +78,9 @@\n \t                \t\tname = \"Password\"\n \t                \t\tclass=\"form-control\" \n \t                \t\tid=\"exampleInputPassword1\" \n-\t                \t\tplaceholder=\"Password\"/>\n+\t                \t\tplaceholder=\"Password\"\n+\t                \t\tvalue = \"ibas\"\n+\t                \t\t/>\n \t            </div>\n \t            <div class=\"checkbox\">\n \t                <label>\n@@ -78,9 +94,14 @@\n \t         </form>\n \t      </div>\n \t</div>\n-\t<div class=\"container\" style=\"padding : 10px;\">\n-     <div class = \"panel col-sm-6\">\n-     \t<form role = \"form\" id = \"QuickCode\" action = \"../MockLogin\" method = \"post\">\n+\t\n+\t<div class=\"panel panel-info col-sm-6 bgt\">\n+\t    <div class=\"panel-heading\">\n+\t    \tQuickGet\n+\t    </div>\n+     <div class = \"panel-body\">\n+     \t<!-- <form role = \"form\" id = \"QuickCode\" action = \"../MockLogin\" method = \"post\"> -->\n+     \t<form role = \"form\" id = \"QuickCode\" action = \"../1414080902134\" method = \"post\">\n       \t<div class=\"form-group\">\n       \t\t<label for = \"qc\">Quick Code</label>\n       \t\t<br/>\n@@ -97,9 +118,9 @@\n \t\n \t<%\n \t\tif (session.getAttribute(\"label\") != null) {\n-\t\t\tLabels label = (Labels)session.getAttribute(\"label\");\n+\t\t\tnote label = (note)session.getAttribute(\"label\");\n \t\t\tout.append(\n-\t\t\t\t\t\"<div class = 'panel panel-success'>\" + \n+\t\t\t\t\t\"<div class = 'panel panel-success' style = 'float:left;width:80%;background:rgba(218, 238, 210, 0.48);'> \" + \n \t\t\t\t\t\t\"<div class = 'panel-heading'>\" + \n \t\t\t\t\t\t\tlabel.getTitle() + \n \t\t\t\t\t\t\"</div>\" +\n@@ -108,10 +129,10 @@\n \t\t\t\t\t\t\"</div>\" + \n \t\t\t\t\t\t\"<div class = 'panel-footer' style = 'font-size:smaller;'>\" + \n \t\t\t\t\t\t\t\"<div style = 'width : auto;float : left;'>QC:\" + \n-\t\t\t\t\t\t\t\tsession.getAttribute(\"quickCode\") +\n+\t\t\t\t\t\t\t\tlabel.getQuickCode() +\n \t\t\t\t\t\t\t\"</div>\" +\n \t\t\t\t\t\t\t\"<div style = 'text-align : right;'>\" + \n-\t\t\t\t\t\t\t\tlabel.getTime() + \n+\t\t\t\t\t\t\t\tlabel.getLastTime() + \n \t\t\t\t\t\t\t\"</div>\" +\n \t\t\t\t\t\t\"</div>\" + \n \t\t\t\t\t\"</div>\""
  }, {
    "sha" : "261e8f3cdab90b2d5785decc17e398cf92977113",
    "filename" : "jweb/web/1414080902134/img/bg_1.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_1.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_1.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_1.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "296966d030ccc66209b9c2185799d0ae4ab6b20e",
    "filename" : "jweb/web/1414080902134/img/bg_10.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_10.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_10.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_10.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "9aca411b95b8d017a4af1cf74e6076e4c8bcefe5",
    "filename" : "jweb/web/1414080902134/img/bg_11.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_11.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_11.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_11.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "449a5cc2807ed9eee8fae3d7c7fa0903cec40864",
    "filename" : "jweb/web/1414080902134/img/bg_12.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_12.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_12.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_12.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "3b631d5f4c17b6ed977f0f7d7a3b8a7e471f6b97",
    "filename" : "jweb/web/1414080902134/img/bg_13.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_13.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_13.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_13.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "d1797b725e92e98e0d5a156badac29c62fe8f7a7",
    "filename" : "jweb/web/1414080902134/img/bg_14.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_14.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_14.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_14.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "9c10f858e33ac6d755dd4b3f93429a728bf4e9fb",
    "filename" : "jweb/web/1414080902134/img/bg_15.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_15.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_15.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_15.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "a6ef0b74ad790a914e5ceb23a206ab93878f24b5",
    "filename" : "jweb/web/1414080902134/img/bg_16.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_16.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_16.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_16.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "0cef952c020af5535f155aa37491c86aa6c84143",
    "filename" : "jweb/web/1414080902134/img/bg_17.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_17.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_17.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_17.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "c09ac17959635d2d24827f2eb646d629863977d6",
    "filename" : "jweb/web/1414080902134/img/bg_18.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_18.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_18.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_18.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "94df2a35ea9dc9e4b840c9222a0b18f3c283737b",
    "filename" : "jweb/web/1414080902134/img/bg_2.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_2.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_2.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_2.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "7f466612e6c8e3e60fb4477cfca43f3a2abab030",
    "filename" : "jweb/web/1414080902134/img/bg_3.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_3.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_3.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_3.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "3c1c9f2ec5bd0f5722e6d1eab09050d1f5b4c075",
    "filename" : "jweb/web/1414080902134/img/bg_4.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_4.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_4.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_4.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "344dfb1bde9cd8ebe6e6bacf2ad1f62a0518c45d",
    "filename" : "jweb/web/1414080902134/img/bg_5.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_5.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_5.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_5.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "7dddb50b2a186af8d9c1dc1e2c87615ae811ba73",
    "filename" : "jweb/web/1414080902134/img/bg_6.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_6.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_6.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_6.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "b0cc87081bf894e0507a70687e7bf5c234ff9c82",
    "filename" : "jweb/web/1414080902134/img/bg_7.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_7.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_7.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_7.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "a43ab2c0b198d780399ccf9e485191367d28c583",
    "filename" : "jweb/web/1414080902134/img/bg_8.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_8.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_8.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_8.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "0a234191050f4a500313841e8cdfb4a43fdd4018",
    "filename" : "jweb/web/1414080902134/img/bg_9.jpg",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_9.jpg",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/img/bg_9.jpg",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/img/bg_9.jpg?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf"
  }, {
    "sha" : "66473f4bce56dd144071951a24e4ebfea54f129e",
    "filename" : "jweb/web/1414080902134/js/bgimage.js",
    "status" : "added",
    "additions" : 3,
    "deletions" : 0,
    "changes" : 3,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/js/bgimage.js",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/js/bgimage.js",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/js/bgimage.js?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -0,0 +1,3 @@\n+function bg(){\n+\tdocument.body.style.backgroundImage = \"url(img/bg_\" + parseInt(Math.random()*17 + 1) + \".jpg)\";\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "a64fe16baf2fb1673c0d52bc49d45d2394b07c02",
    "filename" : "jweb/web/1414080902134/js/dearJson.js",
    "status" : "added",
    "additions" : 385,
    "deletions" : 0,
    "changes" : 385,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/js/dearJson.js",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/js/dearJson.js",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/js/dearJson.js?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -0,0 +1,385 @@\n+var OP = [\n+          \t\"insert\",\t//all\n+          \t\"delete\",\t//id\n+          \t\"getall\",\t//x\n+          \t\"update\"\t//all(id)\n+          ];\n+var body_ = null;\n+var defaultUrl = \"../notesOP?OP=\";\n+var note = {};\n+var total_note = 1;\n+var second_element = null;\n+var hidden_input_attr = {\n+\t\t\"hidden\":\"\",\n+\t\t\"type\":\"text\"\n+};\n+//used to store the information which will be dear\n+var dearList = {\n+\t\t\"remove\" : [],\n+\t\t\"update\" : [],\n+\t\t\"insert\" : []\n+};\n+var dearJson = function(){\n+\t\n+}\n+\n+/**\n+ * op_index\n+ * obj : html element\n+ */\n+var sendAjax = function(op_index,obj){\n+\t$.ajax({\n+\t\turl : \"../notesOP?OP=\" + OP[op_index],\n+\t\tcomplete : function(data) {\n+\t\t    console.log(data);\n+\t\t}\n+\t});\n+}\n+\n+var addnote = function(note){\n+\tif (!body_) {\n+\t\tbody_ = document.getElementsByClassName(\"main-panel\")[0];\n+\t}\n+\tif (!body_) {\n+\t\tconsole.log(\"[important] execute fail , something wrong .\");\n+\t\treturn;\n+\t}\n+\t{\n+\t\tbody_.appendChild(addNoteHelp(note));\n+\t}\n+}\n+function addNoteHelp(note){\n+\tvar copy_attr = hidden_input_attr;\n+\ttotal_note++;\n+\tvar maindiv_ = createEle(\"div\",\"panel panel-info odd-label\",\"note_\" + total_note);\n+\t\n+\t//add input \n+\tcopy_attr[\"value\"] = note.id;\n+\tmaindiv_.appendChild(createEle(\"input\",\"note_id\",null,null,copy_attr));\n+\tvar headdiv_ = \n+\t\tcreateEle(\t\n+\t\t\t\t\t\"div\",\n+\t\t\t\t\t\"panel-heading cohead_\");\n+\theaddiv_.appendChild(\n+\t\t\tcreateEle(\n+\t\t\t\t\t\"span\",\n+\t\t\t\t\t\"glyphicon glyphicon-leaf title_\",\n+\t\t\t\t\tnull,\n+\t\t\t\t\tsafeCharToChar(note.title)\n+\t\t\t\t\t)\n+\t\t\t);\n+\tmaindiv_.appendChild(headdiv_);\n+\tvar button_1 = createEle(\"button\",\"actionButton\");\n+\theaddiv_.appendChild(button_1);\n+\tbutton_1.appendChild(createEle(\"span\",\"glyphicon glyphicon-remove icon_padding\"));\n+\tbutton_1.op = {\n+\t\t\t\"op\" : \"remove\",\n+\t\t\t\"id\" : \"note_\" + total_note\n+\t};\n+\tbutton_1.onclick = removeNote;\n+\tvar button_3 = createEle(\"button\",\"actionButton\");\n+\theaddiv_.appendChild(button_3);\n+\tbutton_3.appendChild(createEle(\"span\",\"glyphicon glyphicon-floppy-saved\"));\n+\tbutton_3.op = {\n+\t\t\t\"op\" : \"update\",\n+\t\t\t\"id\" : \"note_\" + total_note\n+\t};\n+\tbutton_3.style.display = \"none\";\n+\tbutton_3.onclick = saveUpdate;\n+\tvar button_2 = createEle(\"button\",\"actionButton\");\n+\theaddiv_.appendChild(button_2);\n+\tbutton_2.appendChild(createEle(\"span\",\"glyphicon glyphicon-pencil icon_padding\"));\n+\tbutton_2.op = {\n+\t\t\t\"op\" : \"edit\",\n+\t\t\t\"id\" : \"note_\" + total_note\n+\t};\n+\tbutton_2.onclick = rewriteNote;\n+\t\n+\tvar contentdiv_ = createEle(\n+\t\t\t\"div\",\n+\t\t\t\"panel-body mybody content_\",\n+\t\t\tnull,\n+\t\t\tsafeCharToChar(note.content)\n+\t\t);\n+\tmaindiv_.appendChild(contentdiv_);\n+\t\n+\tvar footerdiv_ = createEle(\"div\",\"panel-footer\");\n+\tmaindiv_.appendChild(footerdiv_);\n+\tvar qCodeDiv_ = createEle(\"div\",\"qCode\",null,\"QCode : \" + note.QCode);\n+\tfooterdiv_.appendChild(qCodeDiv_);\n+\tcopy_attr[\"value\"] = note.QCode;\n+\tqCodeDiv_.appendChild(createEle(\"input\",\"qCode_\",null,null,copy_attr));\n+\tvar timeDiv_ = createEle(\"div\",\"time\",null,note.time.split(' ')[0]);\n+\tfooterdiv_.appendChild(timeDiv_);\n+\tcopy_attr[\"value\"] = note.time.split(' ')[0];\n+\ttimeDiv_.appendChild(createEle(\"input\",\"time_\",null,null,copy_attr));\n+\treturn maindiv_;\n+}\n+\n+/**\n+ * attr is obj\n+ */\n+var createEle = function(type_,class_,id_,innerText_,attr){\n+\tif (!type_) {\n+\t\tconsole.log(\"[important] type_ is not exit when execute createEle\");\n+\t\treturn null;\n+\t}\n+\tvar ele = document.createElement(type_);\n+\tif (class_) {\n+\t\tif (class_ instanceof Array) {\n+\t\t} else {\n+\t\t\tclass_ = class_.split(' ');\n+\t\t}\n+\t\tclass_.forEach(function(i){\n+\t\t\tele.classList.add(i);\n+\t\t});\n+\t}\n+\tif (id_) {\n+\t\tele.id = id_;\n+\t}\n+\tif (innerText_) {\n+\t\tele.innerText = innerText_;\n+\t}\n+\tif (attr) {\n+\t\tfor (var i in attr) {\n+\t\t\tele.setAttribute(i,attr[i]);\n+\t\t}\n+\t}\n+\treturn ele;\n+}\n+\n+var operator = function(url_,op){\n+\t//\"../notesOP?OP=getall\"\n+\tif (!url_) {\n+\t\treturn;\n+\t}\n+\tif (!op) {\n+\t\treturn ;\n+\t}\n+\t$.ajax({\n+\t\turl : url_,\n+\t\tcomplete : function(data) {\n+//\t\t\tJSON.parse(data.responseText)\n+//\t\t\t\t.note\n+//\t\t\t\t\t.forEach(function(i){\n+//\t\t\t\t\t\taddnote(i);\n+//\t\t\t\t\t});\n+\t\t\tdearwith(JSON.parse(data.responseText));\n+\t\t}\n+\t});\n+}\n+\n+var clear_newnote = function(id_){\n+\tvar tar = document.getElementById(id_);\n+\ttar.getElementsByClassName(\"title_\")[0].value = \"\";\n+\ttar.getElementsByClassName(\"content_\")[0].value = \"\";\n+}\n+\n+var create_newnote = function(id_){\n+\tvar tar = document.getElementById(id_);\n+\tvar str = fillParam(tar,\"0\");\n+\t//console.log(\"str =\" + str);\n+\toperator(\"../notesOP?OP=\" + OP[0] + str,OP[0]);\n+}\n+\n+var fillParam = function(obj,id){\n+\tvar str = \"&id=\";\n+\tif (id) {\n+\t\tstr += id.toString();\n+\t} else {\n+\t\tstr += obj.getElementsByClassName(\"note_id\")[0].value;\n+\t}\n+\tif (obj.getElementsByClassName(\"ttitle_\")[0]) {\n+\t\tstr += \"&title=\" + toSafeChar(obj.getElementsByClassName(\"ttitle_\")[0].value);\n+\t} else {\n+\t\tstr += \"&title=\" + toSafeChar(obj.getElementsByClassName(\"title_\")[0].value);\n+\t}\n+\tif (obj.getElementsByClassName(\"tcontent_\")[0]) {\n+\t\tstr += \"&content=\" + toSafeChar(obj.getElementsByClassName(\"tcontent_\")[0].value);\n+\t} else {\n+\t\tstr += \"&content=\" + toSafeChar(obj.getElementsByClassName(\"content_\")[0].value);\n+\t}\n+\tstr += \"&quickCode=\" + obj.getElementsByClassName(\"qCode_\")[0].value;\n+\tstr += \"&lastTime=\" + obj.getElementsByClassName(\"time_\")[0].value;\n+\treturn str;\n+}\n+\n+var removeNote = function() {\n+\tvar removeId = document.getElementById(this.op.id)\n+\t\t\t\t\t\t.getElementsByClassName(\"note_id\")[0].value;\n+\toperator(defaultUrl + OP[1] + \"&id=\" + \n+\t\t\t\tremoveId + \n+\t\t\t\t\"&title=&content=\",OP[1]\n+\t)\n+\tdearList[\"remove\"].push({\n+\t\t\"noteid\" : this.op.id,\n+\t\t\"note_db_id\" : removeId\n+\t});\n+}\n+\n+var rewriteNote = function() {\n+\t//change to edit view\n+\t//store the current information\n+\tvar node_ = {};\n+\tvar ele = document.getElementById(this.op.id);\n+\tnode_[\"title\"] = ele.getElementsByClassName(\"title_\")[0].innerText;\n+\tnode_[\"content\"] = ele.getElementsByClassName(\"content_\")[0].innerText;\n+\tnode_[\"QCode\"] = ele.getElementsByClassName(\"qCode_\")[0].innerText;\n+\tnode_[\"time\"] = ele.getElementsByClassName(\"time_\")[0].innerText;\n+\tnode_[\"id\"] = ele.getElementsByClassName(\"note_id\")[0].innerText;\n+\tnode_[\"ele\"] = this.op.id;\n+\tdearList[\"update\"].push(node_);\n+\tele.getElementsByClassName(\"glyphicon glyphicon-floppy-saved\")[0]\n+\t\t.parentNode\n+\t\t.style.display = \"block\";\n+\tele.getElementsByClassName(\"glyphicon glyphicon-remove icon_padding\")[0]\n+\t\t.parentNode\n+\t\t.onclick = recoverNote;\n+\tele.getElementsByClassName(\"glyphicon glyphicon-remove icon_padding\")[0]\n+\t\t.style.color = \"#ef6db5\";\n+\tele.getElementsByClassName(\"title_\")[0].style.display = \"none\";\n+\tele.getElementsByClassName(\"panel-heading\")[0]\n+\t\t.appendChild(tTitle(node_[\"title\"]));\n+\tele.getElementsByClassName(\"content_\")[0].innerText = \"\";\n+\tele.getElementsByClassName(\"content_\")[0]\n+\t\t.appendChild(tContent(node_[\"content\"]));\n+\tthis.style.display = \"none\";\n+}\n+\n+var tTitle = function(title){\n+\tvar input = createEle(\"input\",\"head_input ttitle_\");\n+\tinput.setAttribute(\"placeholder\",title);\n+\tinput.value = title;\n+\treturn input;\n+}\n+\n+var tContent = function(content_){\n+\tvar content = createEle(\"textarea\",\"body_textarea tcontent_\");\n+\tcontent.value = content_;\n+\treturn content;\n+}\n+\n+var saveUpdate = function(){\n+\tvar str = fillParam(document.getElementById(this.op.id));\n+\toperator(defaultUrl + OP[3] + str,OP[3]);\n+}\n+\n+var recoverNote = function(){\n+\tfor (var i = 0;i < dearList[\"update\"].length;i++) {\n+\t\tif (this.op.id == dearList[\"update\"][i].ele) {\n+\t\t\trecoverNoteHelp(\n+\t\t\t\t\t\tdearList[\"update\"][i],\n+\t\t\t\t\t\tdocument.getElementById(dearList[\"update\"][i].ele)\n+\t\t\t\t\t);\n+\t\t\tdearList[\"update\"].splice(i,0);\n+\t\t\tbreak;\n+\t\t}\n+\t}\n+}\n+\n+var recoverNoteHelp = function(obj,ele){\n+\tvar btn;\n+\tbtn = ele\n+\t\t\t.getElementsByClassName(\"glyphicon glyphicon-remove icon_padding\")[0]\n+\t\t\t.parentNode;\n+\tele.getElementsByClassName(\"title_\")[0].value = obj[\"title\"];\n+\tele.getElementsByClassName(\"content_\")[0].value = obj[\"content\"];\n+\tele.getElementsByClassName(\"glyphicon glyphicon-floppy-saved\")[0]\n+\t\t\t.parentNode\n+\t\t\t.style.display = \"none\";\n+\tele.getElementsByClassName(\"glyphicon glyphicon-pencil icon_padding\")[0]\n+\t\t\t.parentNode\n+\t\t\t.style.display = \"block\";\n+\tbtn.childNodes[0].style.color = \"#31708f\";\n+\tbtn.onclick = removeNote;\n+\tbtn.parentNode.removeChild(ele.getElementsByClassName(\"ttitle_\")[0]);\n+\tele.getElementsByClassName(\"title_\")[0].style.display = \"block\";\n+\tele.getElementsByClassName(\"title_\")[0].innerText = obj.title;\n+\tele.getElementsByClassName(\"content_\")[0].innerText \n+\t\t\t= obj.content;\n+}\n+\n+var overUpload = function(){\n+\tvar d = dearList[\"update\"].shift();\n+\tvar ele = document.getElementById(d.ele);\n+\td.title = ele.getElementsByClassName(\"ttitle_\")[0].value;\n+\td.content = ele.getElementsByClassName(\"tcontent_\")[0].value;\n+\trecoverNoteHelp(d,ele);\n+}\n+\n+var removeOneNote = function(id){\n+\tif (!body_) {\n+\t\tbody_ = document.getElementsByClassName(\"main-panel\")[0];\n+\t}\n+\tif (body_) {\n+\t\tif (typeof id == \"string\") {\n+\t\t\tid = document.getElementById(id);\n+\t\t}\n+\t\tif (id == second_element) {\n+\t\t\tsecond_element = second_element.nextElementSibling;\n+\t\t}\n+\t\tbody_.removeChild(id);\n+\t}\n+}\n+\n+var dearwith = function(obj) {\n+\tswitch (obj.op) {\n+\t\tcase \"getall\" :\n+\t\t\tobj.note\n+\t\t\t\t.forEach(function(i){\n+\t\t\t\taddnote(i);\n+\t\t\t});\n+\t\t\tsecond_element = document.getElementById(\"note_2\");\n+\t\t\tbreak;\n+\t\tcase \"remove\":\n+\t\t\tdearList[\"remove\"].forEach(function(i,j){\n+\t\t\t\tif (obj.cout == i[\"note_db_id\"]) {\n+\t\t\t\t\tdearList[\"remove\"].splice(j,1);\n+\t\t\t\t\tremoveOneNote(i[\"noteid\"]);\n+\t\t\t\t}\n+\t\t\t});\n+\t\t\tbreak;\n+\t\tcase \"insert\" :\n+\t\t\tvar newNote = addNoteHelp(obj.note[0]);\n+\t\t\tif (second_element) {\n+\t\t\t\tbody_.insertBefore(newNote,second_element);\n+\t\t\t\tsecond_element = newNote;\n+\t\t\t} else {\n+\t\t\t\tbody_.appendChild(newNote);\n+\t\t\t}\n+\t\t\tclear_newnote(\"note_1\");\n+\t\t\tbreak;\n+\t\tcase \"update\" :\n+\t\t\toverUpload();\n+\t\t\tbreak;\n+\t\tdefault :\n+\t\t\tbreak;\n+\t}\n+\t//console.log(obj);\n+}\n+\n+var toSafeChar = function(str) {\n+\tvar newStr = \"\";\n+\tfor (var i = 0;i < str.length;i++) {\n+\t\tif (str[i] == '\\n') {\n+\t\t\tnewStr += String.fromCharCode(9999);\n+\t\t} else if (str[i] == '&') {\n+\t\t\tnewStr += String.fromCharCode(9999);\n+\t\t} else {\n+\t\t\tnewStr += str[i];\n+\t\t}\n+\t}\n+\treturn newStr;\n+}\n+\n+var safeCharToChar = function(str){\n+\twhile (str.indexOf(\"&#9999;\") + 1) {\n+\t\tstr = str.replace(\"&#9999;\",\"\\n\")\n+\t}\n+\twhile (str.indexOf(\"&#9998;\") + 1) {\n+\t\tstr = str.replace(\"&#9998;\",\"&\")\n+\t}\n+\treturn str;\n+}\n+\n+"
  }, {
    "sha" : "bcae894f3ce05ef87a1acae78865bc4ece4ba188",
    "filename" : "jweb/web/1414080902134/js/formQCode.js",
    "status" : "added",
    "additions" : 17,
    "deletions" : 0,
    "changes" : 17,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/js/formQCode.js",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/b5f22b07009ff75625c83cef00f86c86133c9ccf/jweb/web/1414080902134/js/formQCode.js",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902134/js/formQCode.js?ref=b5f22b07009ff75625c83cef00f86c86133c9ccf",
    "patch" : "@@ -0,0 +1,17 @@\n+/**\n+ * \n+ */\n+\n+function formQCode() {\n+\tvar qc = \"werWERTYU4tVugh6yopQ5CvbnmqBiasdfPANM1z9OSDFG237IZXjklHxc8JKL\";\n+\tvar date = new Date();\n+\tvar code = [];\n+\tcode.push(qc[date.getYear() - 116]);\n+\tcode.push(qc[date.getMonth()]);\n+\tcode.push(qc[date.getDate()]);\n+\tcode.push(qc[date.getHours()]);\n+\tcode.push(qc[date.getMinutes()]);\n+\tcode.push(qc[date.getSeconds()]);\n+\treturn code.join('');\n+}\n+"
  } ],
  "sha" : "b5f22b07009ff75625c83cef00f86c86133c9ccf",
  "url" : "https://api.github.com/repos/hzuapps/java-web/commits/b5f22b07009ff75625c83cef00f86c86133c9ccf",
  "parents" : [ {
    "sha" : "7d69418dbf5e2e1bb44c9c01c536f3c6f01dcb51",
    "url" : "https://api.github.com/repos/hzuapps/java-web/commits/7d69418dbf5e2e1bb44c9c01c536f3c6f01dcb51",
    "html_url" : "https://github.com/hzuapps/java-web/commit/7d69418dbf5e2e1bb44c9c01c536f3c6f01dcb51"
  } ]
}