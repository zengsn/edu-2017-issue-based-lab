{
  "committer" : {
    "login" : "WayhomeChen",
    "id" : 22078881,
    "avatar_url" : "https://avatars.githubusercontent.com/u/22078881?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/WayhomeChen",
    "html_url" : "https://github.com/WayhomeChen",
    "followers_url" : "https://api.github.com/users/WayhomeChen/followers",
    "following_url" : "https://api.github.com/users/WayhomeChen/following{/other_user}",
    "gists_url" : "https://api.github.com/users/WayhomeChen/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/WayhomeChen/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/WayhomeChen/subscriptions",
    "organizations_url" : "https://api.github.com/users/WayhomeChen/orgs",
    "repos_url" : "https://api.github.com/users/WayhomeChen/repos",
    "events_url" : "https://api.github.com/users/WayhomeChen/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/WayhomeChen/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "stats" : {
    "total" : 230,
    "additions" : 200,
    "deletions" : 30
  },
  "author" : {
    "login" : "WayhomeChen",
    "id" : 22078881,
    "avatar_url" : "https://avatars.githubusercontent.com/u/22078881?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/WayhomeChen",
    "html_url" : "https://github.com/WayhomeChen",
    "followers_url" : "https://api.github.com/users/WayhomeChen/followers",
    "following_url" : "https://api.github.com/users/WayhomeChen/following{/other_user}",
    "gists_url" : "https://api.github.com/users/WayhomeChen/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/WayhomeChen/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/WayhomeChen/subscriptions",
    "organizations_url" : "https://api.github.com/users/WayhomeChen/orgs",
    "repos_url" : "https://api.github.com/users/WayhomeChen/repos",
    "events_url" : "https://api.github.com/users/WayhomeChen/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/WayhomeChen/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "html_url" : "https://github.com/hzuapps/java-web/commit/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4",
  "commit" : {
    "author" : {
      "name" : "ABC",
      "email" : "neigh3bor3hood3@sina.com",
      "date" : "2016-11-07T05:48:43Z"
    },
    "committer" : {
      "name" : "ABC",
      "email" : "neigh3bor3hood3@sina.com",
      "date" : "2016-11-07T05:48:43Z"
    },
    "message" : "#5 提交实验四代码\n\nCMS's 2nd Edition.",
    "tree" : {
      "sha" : "89f9a495116f1f5d6917f5fde1f1e4e2c5d38a8f",
      "url" : "https://api.github.com/repos/hzuapps/java-web/git/trees/89f9a495116f1f5d6917f5fde1f1e4e2c5d38a8f"
    },
    "url" : "https://api.github.com/repos/hzuapps/java-web/git/commits/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/java-web/commits/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/comments",
  "files" : [ {
    "sha" : "1be8b05cf9dc65076baa0bf238124ded3c596b5f",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/EncodingFilter.java",
    "status" : "added",
    "additions" : 25,
    "deletions" : 0,
    "changes" : 25,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/src/edu/hzu/javaweb/labs/se1414080902106/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/src/edu/hzu/javaweb/labs/se1414080902106/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/EncodingFilter.java?ref=cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4",
    "patch" : "@@ -0,0 +1,25 @@\n+package edu.hzu.javaweb.labs.se1414080902106;\n+\n+import java.io.IOException;\n+import javax.servlet.*;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName=\"encodingFilter\",urlPatterns=\"/*\")\n+public class EncodingFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\t\t\n+\t}\n+\n+}"
  }, {
    "sha" : "285969915018a69b1acd0ce076417f9ff528c137",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/Login.java",
    "status" : "added",
    "additions" : 50,
    "deletions" : 0,
    "changes" : 50,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Login.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Login.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Login.java?ref=cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4",
    "patch" : "@@ -0,0 +1,50 @@\n+package edu.hzu.javaweb.labs.se1414080902106;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+public class Login extends HttpServlet {\n+\t\n+\tpublic Login() {\n+\t\tsuper();\n+\t}\n+\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t}\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\t//获取参数——用户名、密码\n+\t\tString username = request.getParameter(\"username\");\n+\t\tString password = request.getParameter(\"password\");\n+\t\t\n+\t\t//判断是否正确\n+\t\tif(\"test\".equals(username) && \"me\".equals(password)){\t\t\n+\t\t\t//将用户名放到session里\n+\t\t\tHttpSession session = request.getSession();\n+\t\t\tsession.setAttribute(\"username\", username);\n+\t\t\t//将页面跳转到home.jsp\n+\t\t\tresponse.sendRedirect(\"home.jsp\");\n+\t\t}else\n+\t\t\t//错误就返回登录页面\n+\t\t\tresponse.sendRedirect(\"./\");\n+\t}\n+\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "ac7904661d71e853607421d266770f00b6bf20e6",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/LoginFilter.java",
    "status" : "added",
    "additions" : 32,
    "deletions" : 0,
    "changes" : 32,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/src/edu/hzu/javaweb/labs/se1414080902106/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/src/edu/hzu/javaweb/labs/se1414080902106/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/LoginFilter.java?ref=cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4",
    "patch" : "@@ -0,0 +1,32 @@\n+package edu.hzu.javaweb.labs.se1414080902106;\n+\n+import java.io.IOException;\n+import javax.servlet.*;\n+import javax.servlet.http.*;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName=\"loginFilter\",urlPatterns=\"/index.html\")\n+public class LoginFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest req = (HttpServletRequest)request;\n+\t\tHttpServletResponse res = (HttpServletResponse)response;\n+\t\tHttpSession session = req.getSession();\n+\t\t//若已经登录则直接进入home.jsp\n+\t\tif(session.getAttribute(\"username\") != null)\n+\t\t\tres.sendRedirect(\"./home.jsp\");\n+\t\telse\n+\t\t\tchain.doFilter(request, response);\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t}\n+\n+}"
  }, {
    "sha" : "ca4ddc71540fd210b75e20552993f8ab9cf892f4",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/Se1414080902106Servlet.java",
    "status" : "modified",
    "additions" : 2,
    "deletions" : 6,
    "changes" : 8,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Se1414080902106Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Se1414080902106Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/Se1414080902106Servlet.java?ref=cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4",
    "patch" : "@@ -1,10 +1,7 @@\n package edu.hzu.javaweb.labs.se1414080902106;\n \n import java.io.IOException;\n-import java.io.PrintWriter;\n-import java.util.Collection;\n \n-import javax.servlet.ServletContext;\n import javax.servlet.ServletException;\n import javax.servlet.http.HttpServlet;\n import javax.servlet.http.HttpServletRequest;\n@@ -30,8 +27,7 @@ public void doGet(HttpServletRequest request, HttpServletResponse response)\n \tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n \t\t\tthrows ServletException, IOException {\n \n-\t\t//设置译码方式\n-\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\t//由于设置了编码过滤器，这里不需要额外设置request的编码方式\n \t\t\n \t\t//获取参数——标题、内容\n \t\tString title = request.getParameter(\"title\");\n@@ -43,7 +39,7 @@ public void doPost(HttpServletRequest request, HttpServletResponse response)\n \t\tsession.setAttribute(\"content\", content);\n \t\t\n \t\t//将页面跳转到index.jsp\n-\t\tresponse.sendRedirect(\"index.jsp\");\n+\t\tresponse.sendRedirect(\"home.jsp\");\n \t}\n \n \tpublic void init() throws ServletException {"
  }, {
    "sha" : "c268f4cbe7387741f22b6fff722ef62fefce5d7b",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/SecurityFilter.java",
    "status" : "added",
    "additions" : 32,
    "deletions" : 0,
    "changes" : 32,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SecurityFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SecurityFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SecurityFilter.java?ref=cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4",
    "patch" : "@@ -0,0 +1,32 @@\n+package edu.hzu.javaweb.labs.se1414080902106;\n+\n+import java.io.IOException;\n+import javax.servlet.*;\n+import javax.servlet.http.*;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName=\"securityFilter\",urlPatterns={\"/home.jsp\",\"/content.jsp\"})\n+public class SecurityFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest req = (HttpServletRequest)request;\n+\t\tHttpServletResponse res = (HttpServletResponse)response;\n+\t\tHttpSession session = req.getSession();\n+\t\t//若没登录则跳转到登录页面\n+\t\tif(session.getAttribute(\"username\") != null)\n+\t\t\tchain.doFilter(request, response);\n+\t\telse\n+\t\t\tres.sendRedirect(\"./\");\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t}\n+\n+}"
  }, {
    "sha" : "3f3c80901c3594d9d8065cb8abf1305b99ab2f77",
    "filename" : "jweb/web/1414080902106/content.jsp",
    "status" : "modified",
    "additions" : 2,
    "deletions" : 2,
    "changes" : 4,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/web/1414080902106/content.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/web/1414080902106/content.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/content.jsp?ref=cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4",
    "patch" : "@@ -3,9 +3,9 @@\n <html>\n \t<head>\n \t\t<title>发帖</title>\n-\t\t<link rel='stylesheet' type='text/css' href='content.css'>\n+\t\t<link rel='stylesheet' type='text/css' href='css/content.css'>\n \t\t<script type=\"text/javascript\" src=\"http://cdn.bootcss.com/jquery/3.1.1/jquery.js\"></script>\n-\t\t<script type=\"text/javascript\" src=\"content.js\"></script>\n+\t\t<script type=\"text/javascript\" src=\"js/content.js\"></script>\n \t</head>\n \t<body>\n \t\t<div>"
  }, {
    "sha" : "a6337a1cf3c1d7f4d901d04fce510a5bf286cf3a",
    "filename" : "jweb/web/1414080902106/css/content.css",
    "status" : "renamed",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/web/1414080902106/css/content.css",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/web/1414080902106/css/content.css",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/css/content.css?ref=cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4",
    "previous_filename" : "jweb/web/1414080902106/content.css"
  }, {
    "sha" : "2e1f336fe529ac72e4c1ffe4e8819ce0d5716b5c",
    "filename" : "jweb/web/1414080902106/home.jsp",
    "status" : "added",
    "additions" : 30,
    "deletions" : 0,
    "changes" : 30,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/web/1414080902106/home.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/web/1414080902106/home.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/home.jsp?ref=cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4",
    "patch" : "@@ -0,0 +1,30 @@\n+<%@ page contentType=\"text/html;charset=utf-8\" pageEncoding=\"utf-8\" %>\n+<%!\n+\tString title;\n+\tString content;\n+\tString username;\n+%>\n+<%\n+\ttitle = (String)session.getAttribute(\"title\");\n+\tcontent = (String)session.getAttribute(\"content\");\n+\tusername = (String)session.getAttribute(\"username\");\n+\tif(title == null)\n+\t\ttitle = \"没有帖子！\";\n+\tif(content == null)\n+\t\tcontent = \"\";\n+%>\n+<!-- 因为是实验，所以只能发一个帖子 -->\n+<html>\n+\t<head>\n+\t\t<title>欢迎<%= username %>浏览帖子</title>\n+\t</head>\n+\t<body>\n+\t\t<p align=\"right\">欢迎&nbsp;<a href=\"\"><%= username %></a></p>\n+\t\t<form method=\"post\" action=\"content.jsp\"><input type=\"submit\" value=\"发帖\"></form>\n+\t\t<h2 id=\"title\"><%= title %></h2>\n+\t\t<hr>\n+\t\t<div>\n+\t\t\t<textarea readonly rows=\"20\" cols=\"100\"><%= content %></textarea>\n+\t\t</div>\n+\t</body>\n+</html>\n\\ No newline at end of file"
  }, {
    "sha" : "06872db433983e24814a7ed894cbfc970c0a4a0b",
    "filename" : "jweb/web/1414080902106/index.jsp",
    "status" : "modified",
    "additions" : 27,
    "deletions" : 22,
    "changes" : 49,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/web/1414080902106/index.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/web/1414080902106/index.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/index.jsp?ref=cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4",
    "patch" : "@@ -1,28 +1,33 @@\n-<%@ page contentType=\"text/html;charset=utf-8\" pageEncoding=\"utf-8\" %>\n-<%!\n-\tString title;\n-\tString content;\n-%>\n-<%\n-\ttitle = (String)session.getAttribute(\"title\");\n-\tcontent = (String)session.getAttribute(\"content\");\n-\tif(title == null)\n-\t\ttitle = \"没有帖子！\";\n-\tif(content == null)\n-\t\tcontent = \"\";\n-%>\n-<!-- 因为是实验，所以只能发一个帖子 -->\n+<%@ page pageEncoding = \"utf-8\" %>\n <html>\n \t<head>\n-\t\t<title>浏览帖子</title>\n-\t\t<script type=\"text/javascript\" src=\"index.js\"></script>\n+\t\t<title>登录页面</title>\n+\t\t<meta content=\"charset=utf-8\">\n \t</head>\n \t<body>\n-\t\t<form method=\"post\" action=\"content.jsp\"><input type=\"submit\" value=\"发帖\"></form>\n-\t\t<h2 id=\"title\"><%= title %></h2>\n-\t\t<hr>\n-\t\t<div>\n-\t\t\t<p id=\"context\"><%= content %></p>\n-\t\t</div>\n+\t\t<p align=\"center\" style=\"color:red\">\n+\t\t<%\n+\t\t\tString first = (String)session.getAttribute(\"first\");\n+\t\t\tif(first == null)\n+\t\t\t\tsession.setAttribute(\"first\", \"no\");\n+\t\t\telse\n+\t\t\t\tout.println(\"用户名或密码输入错误！\");\n+\t\t%>\n+\t\t</p>\n+\t\t<form action=\"login\" method=\"post\">\n+\t\t\t<table align=\"center\">\n+\t\t\t\t<tr>\n+\t\t\t\t\t<td>用户名：</td>\n+\t\t\t\t\t<td><input name=\"username\" type=\"text\"></td>\n+\t\t\t\t</tr>\n+\t\t\t\t<tr>\n+\t\t\t\t\t<td align=\"right\">密码：</td>\n+\t\t\t\t\t<td><input name=\"password\" type=\"password\"></td>\n+\t\t\t\t</tr>\n+\t\t\t\t<tr>\n+\t\t\t\t\t<td colspan=\"2\" align=\"center\"><input type=\"submit\" value=\"登录\"></td>\n+\t\t\t\t</tr>\n+\t\t\t</table>\n+\t\t</form>\n \t</body>\n </html>\n\\ No newline at end of file"
  }, {
    "sha" : "e23c4697448b0a5e9b21fb0f0f704cf0bbc647d4",
    "filename" : "jweb/web/1414080902106/js/content.js",
    "status" : "renamed",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/web/1414080902106/js/content.js",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4/jweb/web/1414080902106/js/content.js",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902106/js/content.js?ref=cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4",
    "previous_filename" : "jweb/web/1414080902106/content.js"
  } ],
  "sha" : "cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4",
  "url" : "https://api.github.com/repos/hzuapps/java-web/commits/cb1f15114ddfdecfcbdf142ee8149ddcbd852ce4",
  "parents" : [ {
    "sha" : "33e8559cbd83eb13e0e91edf98af701049c09a14",
    "url" : "https://api.github.com/repos/hzuapps/java-web/commits/33e8559cbd83eb13e0e91edf98af701049c09a14",
    "html_url" : "https://github.com/hzuapps/java-web/commit/33e8559cbd83eb13e0e91edf98af701049c09a14"
  } ]
}