{
  "committer" : {
    "login" : "qiuwenqiol",
    "id" : 14258741,
    "avatar_url" : "https://avatars.githubusercontent.com/u/14258741?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/qiuwenqiol",
    "html_url" : "https://github.com/qiuwenqiol",
    "followers_url" : "https://api.github.com/users/qiuwenqiol/followers",
    "following_url" : "https://api.github.com/users/qiuwenqiol/following{/other_user}",
    "gists_url" : "https://api.github.com/users/qiuwenqiol/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/qiuwenqiol/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/qiuwenqiol/subscriptions",
    "organizations_url" : "https://api.github.com/users/qiuwenqiol/orgs",
    "repos_url" : "https://api.github.com/users/qiuwenqiol/repos",
    "events_url" : "https://api.github.com/users/qiuwenqiol/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/qiuwenqiol/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "stats" : {
    "total" : 160,
    "additions" : 62,
    "deletions" : 98
  },
  "author" : {
    "login" : "qiuwenqiol",
    "id" : 14258741,
    "avatar_url" : "https://avatars.githubusercontent.com/u/14258741?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/qiuwenqiol",
    "html_url" : "https://github.com/qiuwenqiol",
    "followers_url" : "https://api.github.com/users/qiuwenqiol/followers",
    "following_url" : "https://api.github.com/users/qiuwenqiol/following{/other_user}",
    "gists_url" : "https://api.github.com/users/qiuwenqiol/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/qiuwenqiol/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/qiuwenqiol/subscriptions",
    "organizations_url" : "https://api.github.com/users/qiuwenqiol/orgs",
    "repos_url" : "https://api.github.com/users/qiuwenqiol/repos",
    "events_url" : "https://api.github.com/users/qiuwenqiol/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/qiuwenqiol/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "html_url" : "https://github.com/hzuapps/java-web/commit/fb742bdd92d4c3379a86bc9fc23e64ee29951db1",
  "commit" : {
    "author" : {
      "name" : "qiuwenqiol",
      "email" : "qiuwenqiol@163.com",
      "date" : "2016-11-03T06:08:37Z"
    },
    "committer" : {
      "name" : "qiuwenqiol",
      "email" : "qiuwenqiol@163.com",
      "date" : "2016-11-03T06:08:37Z"
    },
    "message" : "#4 提交代码",
    "tree" : {
      "sha" : "c10cd69903d2a723c8a437a6b5c78c388c04bb65",
      "url" : "https://api.github.com/repos/hzuapps/java-web/git/trees/c10cd69903d2a723c8a437a6b5c78c388c04bb65"
    },
    "url" : "https://api.github.com/repos/hzuapps/java-web/git/commits/fb742bdd92d4c3379a86bc9fc23e64ee29951db1",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/java-web/commits/fb742bdd92d4c3379a86bc9fc23e64ee29951db1/comments",
  "files" : [ {
    "sha" : "11c3e787c060ffb764015c01a7b30c88ee60a3c8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902119/BookType.java",
    "status" : "added",
    "additions" : 32,
    "deletions" : 0,
    "changes" : 32,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/fb742bdd92d4c3379a86bc9fc23e64ee29951db1/jweb/src/edu/hzu/javaweb/labs/se1414080902119/BookType.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/fb742bdd92d4c3379a86bc9fc23e64ee29951db1/jweb/src/edu/hzu/javaweb/labs/se1414080902119/BookType.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902119/BookType.java?ref=fb742bdd92d4c3379a86bc9fc23e64ee29951db1",
    "patch" : "@@ -0,0 +1,32 @@\n+package edu.hzu.javaweb.labs.se1414080902119;\n+\n+public class BookType {\n+\tpublic String name; // 图书类别名字\n+\tprivate Boolean isHasBook; // 该类别下是否有图书标志\n+\n+\tpublic String getName() {\n+\t\treturn name;\n+\t}\n+\n+\tpublic void setName(String name) {\n+\t\tthis.name = name;\n+\t}\n+\n+\tpublic Boolean getIsHasBook() {\n+\t\treturn isHasBook;\n+\t}\n+\n+\tpublic void setIsHasBook(Boolean isHasBook) {\n+\t\tthis.isHasBook = isHasBook;\n+\t}\n+\n+\tpublic BookType(String name, Boolean isHasBook) {\n+\t\tsuper();\n+\t\tthis.name = name;\n+\t\tthis.isHasBook = isHasBook;\n+\t}\n+\n+\tpublic BookType() {\n+\t\tsuper();\n+\t}\n+}"
  }, {
    "sha" : "827c8563b58d9cdcb16b7d5a7df1eedb04991912",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902119/se1414080902119servlet.java",
    "status" : "modified",
    "additions" : 13,
    "deletions" : 39,
    "changes" : 52,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/fb742bdd92d4c3379a86bc9fc23e64ee29951db1/jweb/src/edu/hzu/javaweb/labs/se1414080902119/se1414080902119servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/fb742bdd92d4c3379a86bc9fc23e64ee29951db1/jweb/src/edu/hzu/javaweb/labs/se1414080902119/se1414080902119servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902119/se1414080902119servlet.java?ref=fb742bdd92d4c3379a86bc9fc23e64ee29951db1",
    "patch" : "@@ -6,20 +6,21 @@\n import java.util.Iterator;\n import java.util.List;\n \n+import javax.servlet.RequestDispatcher;\n import javax.servlet.ServletException;\n import javax.servlet.annotation.WebServlet;\n import javax.servlet.http.HttpServlet;\n import javax.servlet.http.HttpServletRequest;\n import javax.servlet.http.HttpServletResponse;\n \n @WebServlet(\"/1414080902119\")\n-public class se1414080902119servlet extends HttpServlet {\n+public class Se1414080902119servlet extends HttpServlet {\n \tprivate static final long serialVersionUID = 1L;\n \t\n \t//初始化基本数据\n \tprivate static List<BookType> types;\n \tstatic{\n-\t\ttypes=new ArrayList<>();\n+\t\ttypes=new ArrayList<BookType>();\n \t\ttypes.add(new BookType(\"数学\", false));\n \t\ttypes.add(new BookType(\"文学\",false));\n \t\ttypes.add(new BookType(\"天文学\",true));\n@@ -33,20 +34,19 @@ protected void doPost(HttpServletRequest request, HttpServletResponse response)\n \t\tresponse.setContentType(\"application/json;charset=utf-8\");\n \t\trequest.setCharacterEncoding(\"utf-8\");\n \t\tString operate=request.getParameter(\"operate\");\n+\t\tSystem.out.println(request.getRequestURI());\n \t\tif(operate==null)operate=\"\";\n-\t\tswitch (operate) {\n-\t\tcase \"add\":\n-\t\t\taddTypes(response,request);\n-\t\t\tbreak;\n-\t\tcase \"delete\":\n-\t\t\tdeleteTypes(response,request);\n-\t\t\tbreak;\n-\t\tdefault: showList(response);\n-\t\t\tbreak;\n-\t\t}\n-\t\t\n+\t\tif(\"show\".equals(operate))doshow(response,request);\n+\t\telse if(\"add\".equals(operate))addTypes(response,request);\n+\t\telse if(\"delete\".equals(operate))deleteTypes(response,request);\n+\t\telse showList(response);\n \t}\n \t\n+\tprivate void doshow(HttpServletResponse response, HttpServletRequest request) throws IOException, ServletException {\n+\t\trequest.setAttribute(\"list\", types);\n+\t\tRequestDispatcher dispatcher = request.getRequestDispatcher(\"/1414080902119/client.jsp\");\n+\t\tdispatcher.forward(request, response);\n+\t}\n \tprivate void deleteTypes(HttpServletResponse response, HttpServletRequest request) throws IOException {\n \t\t// TODO Auto-generated method stub\n \t\tString name=request.getParameter(\"name\");\n@@ -131,29 +131,3 @@ public String reJSON(List<BookType> list)\n \t\treturn str.toString();\n \t}\n }\n-//图书类别类\n-class BookType\n-{\n-\tprivate String name;  \t\t\t\t\t\t//图书类别名字\n-\tprivate Boolean isHasBook;\t\t\t\t//该类别下是否有图书标志\n-\tpublic String getName() {\n-\t\treturn name;\n-\t}\n-\tpublic void setName(String name) {\n-\t\tthis.name = name;\n-\t}\n-\tpublic Boolean getIsHasBook() {\n-\t\treturn isHasBook;\n-\t}\n-\tpublic void setIsHasBook(Boolean isHasBook) {\n-\t\tthis.isHasBook = isHasBook;\n-\t}\n-\tpublic BookType(String name, Boolean isHasBook) {\n-\t\tsuper();\n-\t\tthis.name = name;\n-\t\tthis.isHasBook = isHasBook;\n-\t}\n-\tpublic BookType() {\n-\t\tsuper();\n-\t}\n-}"
  }, {
    "sha" : "27bde872fec77289f754277a001d2b0fb536dc0e",
    "filename" : "jweb/web/1414080902119/client.jsp",
    "status" : "modified",
    "additions" : 12,
    "deletions" : 54,
    "changes" : 66,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/fb742bdd92d4c3379a86bc9fc23e64ee29951db1/jweb/web/1414080902119/client.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/fb742bdd92d4c3379a86bc9fc23e64ee29951db1/jweb/web/1414080902119/client.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902119/client.jsp?ref=fb742bdd92d4c3379a86bc9fc23e64ee29951db1",
    "patch" : "@@ -1,5 +1,6 @@\n <%@ page language=\"java\" contentType=\"text/html; charset=utf-8\"\n \tpageEncoding=\"utf-8\"%>\n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\"%>\n <!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\n <html>\n <head>\n@@ -12,72 +13,29 @@\n <script src=\"http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js\"></script>\n </head>\n <script type=\"text/javascript\">\n-\tvar str = null;\n-\tvar url=\"../1414080902119\";\n-\tvar aBtn = document.getElementsByClassName('btn1 btn btn-default button');\n-\tvar aDiv=document.getElementsByClassName(\"hehe\");\n \twindow.onload = function() {\n-\t\taBtn[0].onclick=function()\n-\t\t{\n-\t\t\tajax(url,addElement);\n-\t\t}\n-\t}\n-\t\n-\t/* \n-\t* 将json数据转化为标签\n-\t*/\n-\tfunction addElement(json)\n-\t{\n-\t\tvar oDiv=document.getElementById(\"top\");\n-\t\toDiv.innerText=\"\";\n-\t\tfor(var a in json)\n-\t\t{\n-\t\t\tvar oA=document.createElement(\"a\");\n-\t\t\toA.className=\"list-group-item\";\n-\t\t\toA.innerText=a;\n-\t\t\toDiv.appendChild(oA);\n-\t\t}\n-\t}\n-\t/*\n-\t* url请求地址\n-\t* doSome方法对json数据进行处理\n-\t* ajax获取数据\n-\t*/\n-\tfunction ajax(url,doSome,data) {\n-\t\tvar xmlHttpRequest = null;\n-\t\ttry {\n-\t\t\txmlHttpRequest = new XMLHttpRequest();\n-\t\t} catch (e) {\n-\t\t\txmlHttpRequest = new ActiveXObject('Microsoft.XMLHTTP');\n-\t\t}\n-\t\txmlHttpRequest.open('post', url+'?' + new Date().getTime(),\n-\t\t\t\ttrue)\n-\t\txmlHttpRequest.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");  \n-\t\txmlHttpRequest.send(data);\n-\t\txmlHttpRequest.onreadystatechange = function() {\n-\t\t\tif (xmlHttpRequest.readyState == 4) {\n-\t\t\t\tif (xmlHttpRequest.status == 200) {\n-\t\t\t\t\tstr = xmlHttpRequest.responseText;\n-\t\t\t\t\tvar json=eval('('+str+')')\n-\t\t\t\t\tdoSome(json);\n-\t\t\t\t} else {\n-\t\t\t\t\talert(\"出错了\");\n-\t\t\t\t}\n-\t\t\t}\n-\t\t}\n-\t}\n+\t\tvar btn = document.getElementById(\"btn1\");\n+\t\tbtn.onclick = function() {\n+\t\t\twindow.location.href=\"<%=request.getContextPath()%>/1414080902119?operate=show\";\n+\t\t};\n+\t};\n </script>\n <body>\n \t<div style=\"width: 380px; margin: 0 auto; margin-top: 50px;\" id=\"main\"\n \t\talign=\"center\">\n \t\t<div class=\"btn-group btn-group-justified\">\n \t\t\t<div class=\"btn-group\">\n-\t\t\t\t<button id=\"btn1\" type=\"button\" class=\"btn1 btn btn-default button\">查看图书类别</button>\n+\t\t\t\t<button id=\"btn1\" type=\"button\" class=\"btn1 btn btn-default button\">\n+\t\t\t\t\t<c:out value=\"查看图书类别\"></c:out>\n+\t\t\t\t</button>\n \t\t\t</div>\n \t\t</div>\n \t\t<div class=\"hehe\"\n \t\t\tstyle=\"width: 380px; height: 200px; border: 1px solid #000; border-radius: 5px\">\n \t\t\t<div class=\"list-group\" id=\"top\">\n+\t\t\t\t<c:forEach  varStatus=\"status\" var=\"item\" items=\"${requestScope.list }\">\n+\t\t\t\t\t<a href=\"#\" class=\"list-group-item\"><c:out value=\"${item.name }\"></c:out></a>\n+\t\t\t\t</c:forEach>\n \t\t\t</div>\n \t\t</div>\n \t</div>"
  }, {
    "sha" : "0d9695d9ec8a8291f94dbd591abde7254a386fb9",
    "filename" : "jweb/web/1414080902119/server.jsp",
    "status" : "modified",
    "additions" : 5,
    "deletions" : 5,
    "changes" : 10,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/fb742bdd92d4c3379a86bc9fc23e64ee29951db1/jweb/web/1414080902119/server.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/fb742bdd92d4c3379a86bc9fc23e64ee29951db1/jweb/web/1414080902119/server.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/web/1414080902119/server.jsp?ref=fb742bdd92d4c3379a86bc9fc23e64ee29951db1",
    "patch" : "@@ -18,7 +18,7 @@\n </head>\n <script type=\"text/javascript\">\n \tvar str = null;\n-\tvar url=\"../1414080902119\";\n+\tvar url=\"<%=request.getContextPath()%>/1414080902119\";\n \tvar aBtn = document.getElementsByClassName('btn1 btn btn-default button');\n \tvar aDiv=document.getElementsByClassName(\"hehe\");\n \twindow.onload = function() {\n@@ -32,7 +32,7 @@\n \t\t\tshowDiv(aBtn[1]);\n \t\t\tvar addBtn=document.getElementById('addBtn');\n \t\t\taddBtn.onclick=function(){\n-\t\t\t\tvar url=\"../1414080902119\";\n+\t\t\t\tvar url=\"<%=request.getContextPath()%>/1414080902119\";\n \t\t\t\tdata=\"operate=add&name=\"+document.getElementById('types_name').value;\n \t\t\t\tajax(url,afterAdd,data);\n \t\t\t}\n@@ -80,7 +80,7 @@\n \t\t\t\t}\n \t\t\t}\n \t\t\tarr=arr.substring(0,arr.length-1);\n-\t\t\tvar url=\"../1414080902119\";\n+\t\t\tvar url=\"<%=request.getContextPath()%>/1414080902119\";\n \t\t\tdata=\"operate=delete&name=\"+arr;\n \t\t\tajax(url,showDeleteList);\n \t\t\tajax(url,afterDelete,data);\n@@ -217,9 +217,9 @@\n \t\t\t</form>\n \t\t</div>\n \t</div>\n-\t<div class=\"col-sm-offset-2 col-sm-10 delete_item\"   name=\"delete_item\">\n+\t<div class=\"col-sm-offset-2 col-sm-10 delete_item\" name=\"delete_item\" style=\"visibility: hidden;\">\n \t\t<div class=\"checkbox\">\n-\t\t\t<label> <input type=\"checkbox\"   class=\"delete_item_value\">\n+\t\t\t<label> <input type=\"checkbox\" class=\"delete_item_value\">\n \t\t\t\t<span></span>\n \t\t\t</label>\n \t\t</div>"
  } ],
  "sha" : "fb742bdd92d4c3379a86bc9fc23e64ee29951db1",
  "url" : "https://api.github.com/repos/hzuapps/java-web/commits/fb742bdd92d4c3379a86bc9fc23e64ee29951db1",
  "parents" : [ {
    "sha" : "b4fec090b3b6f96c3f05c2b3029b4d1683f0802c",
    "url" : "https://api.github.com/repos/hzuapps/java-web/commits/b4fec090b3b6f96c3f05c2b3029b4d1683f0802c",
    "html_url" : "https://github.com/hzuapps/java-web/commit/b4fec090b3b6f96c3f05c2b3029b4d1683f0802c"
  } ]
}