{
  "committer" : {
    "login" : "mpq1228",
    "id" : 22512136,
    "avatar_url" : "https://avatars.githubusercontent.com/u/22512136?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/mpq1228",
    "html_url" : "https://github.com/mpq1228",
    "followers_url" : "https://api.github.com/users/mpq1228/followers",
    "following_url" : "https://api.github.com/users/mpq1228/following{/other_user}",
    "gists_url" : "https://api.github.com/users/mpq1228/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/mpq1228/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/mpq1228/subscriptions",
    "organizations_url" : "https://api.github.com/users/mpq1228/orgs",
    "repos_url" : "https://api.github.com/users/mpq1228/repos",
    "events_url" : "https://api.github.com/users/mpq1228/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/mpq1228/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "stats" : {
    "total" : 59851,
    "additions" : 59280,
    "deletions" : 571
  },
  "author" : {
    "login" : "mpq1228",
    "id" : 22512136,
    "avatar_url" : "https://avatars.githubusercontent.com/u/22512136?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/mpq1228",
    "html_url" : "https://github.com/mpq1228",
    "followers_url" : "https://api.github.com/users/mpq1228/followers",
    "following_url" : "https://api.github.com/users/mpq1228/following{/other_user}",
    "gists_url" : "https://api.github.com/users/mpq1228/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/mpq1228/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/mpq1228/subscriptions",
    "organizations_url" : "https://api.github.com/users/mpq1228/orgs",
    "repos_url" : "https://api.github.com/users/mpq1228/repos",
    "events_url" : "https://api.github.com/users/mpq1228/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/mpq1228/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "html_url" : "https://github.com/hzuapps/java-web/commit/ff6b6cefecd0688765915617855d46424c07c15e",
  "commit" : {
    "author" : {
      "name" : "mpq1228",
      "email" : "639186556@qq.com",
      "date" : "2016-12-01T05:30:01Z"
    },
    "committer" : {
      "name" : "mpq1228",
      "email" : "639186556@qq.com",
      "date" : "2016-12-01T05:30:01Z"
    },
    "message" : "Merge remote-tracking branch 'hzuapps/master'",
    "tree" : {
      "sha" : "1da77d2ffee67a0cca90acb1d567541e5d7c452a",
      "url" : "https://api.github.com/repos/hzuapps/java-web/git/trees/1da77d2ffee67a0cca90acb1d567541e5d7c452a"
    },
    "url" : "https://api.github.com/repos/hzuapps/java-web/git/commits/ff6b6cefecd0688765915617855d46424c07c15e",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/java-web/commits/ff6b6cefecd0688765915617855d46424c07c15e/comments",
  "files" : [ {
    "sha" : "47a2408222aca2728ec1437c7f651be107ff955e",
    "filename" : "README.md",
    "status" : "modified",
    "additions" : 6,
    "deletions" : 0,
    "changes" : 6,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/README.md",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/README.md",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/README.md?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -5,6 +5,12 @@\n https://github.com/hzuapps/java-web/issues/2\n # 实验二：Tomcat基础\n https://github.com/hzuapps/java-web/issues/3\n+# 实验三：Servlet基础\n+https://github.com/hzuapps/java-web/issues/4\n+# 实验四：Filter基础\n+https://github.com/hzuapps/java-web/issues/5\n+# 实验五：JSP基础\n+https://github.com/hzuapps/java-web/issues/6\n \n # 参考资料\n "
  }, {
    "sha" : "32ebe87f69ebaf2ab0232fbc8a2a1cf90e375949",
    "filename" : "jweb/edu.hzu.javaweb.labs/se1414080902109/Se1414080902109Servlet.java",
    "status" : "added",
    "additions" : 87,
    "deletions" : 0,
    "changes" : 87,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/edu.hzu.javaweb.labs/se1414080902109/Se1414080902109Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/edu.hzu.javaweb.labs/se1414080902109/Se1414080902109Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/edu.hzu.javaweb.labs/se1414080902109/Se1414080902109Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,87 @@\n+package se1414080902109;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class Se1414080902109Servlet extends HttpServlet {\n+\n+\tprivate static final Object s1 = null;\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Se1414080902109Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tdoPost(request,response);\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @param s \n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response, Object s)\n+\t\t\tthrows ServletException, IOException {\n+\t\ttry{\n+\n+\t\tString username=request.getParameter(\"username\");\n+\t\tString password=request.getParameter(\"password\");\n+\t\tString[] list=request.getParameterValues(\"list\");\n+\t\tString s1=\"\";\n+\t\tif(list!=null){\n+\t\tfor(int i=0;i<list.length;i++){\n+\t\t\ts1+=list[i]+\" \";\n+\t\t}\n+\t\t}\n+\t\telse{\n+\t\t\ts1=\"�����޵�ͣ�����\";\n+\t\t}\n+\t\t}catch(Exception e){}\n+\t\trequest.setAttribute(\"out\", s1);\n+\t\trequest.getRequestDispatcher(\"/index.jsp\").forward(request,response);\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "fb357a7458c1266004f07432b9ceb87b802566f6",
    "filename" : "jweb/edu/hzu/javaweb/labs/se1414080902229/se1414080902229.java",
    "status" : "added",
    "additions" : 21,
    "deletions" : 0,
    "changes" : 21,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/edu/hzu/javaweb/labs/se1414080902229/se1414080902229.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/edu/hzu/javaweb/labs/se1414080902229/se1414080902229.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/edu/hzu/javaweb/labs/se1414080902229/se1414080902229.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,21 @@\n+package se1414080902229;\n+\n+import javax.servlet.annotation.WebServlet;\n+import java.io.IOException;\n+\n+/**\n+ * Created by yuan on 2016/11/7.\n+ */\n+@WebServlet(value = \"/se1414080902229\")\n+public class se1414080902229 extends javax.servlet.http.HttpServlet {\n+    protected void doPost(javax.servlet.http.HttpServletRequest request, javax.servlet.http.HttpServletResponse response) throws javax.servlet.ServletException, IOException {\n+        request.setCharacterEncoding(\"utf-8\");\n+        response.setCharacterEncoding(\"utf-8\");\n+        response.setContentType(\"text/html; charset=utf-8\");\n+        response.getWriter().println(\"servlet 接受成功\");\n+    }\n+\n+    protected void doGet(javax.servlet.http.HttpServletRequest request, javax.servlet.http.HttpServletResponse response) throws javax.servlet.ServletException, IOException {\n+        doPost(request,response);\n+    }\n+}"
  }, {
    "sha" : "7e24531de6370b4b95ddf728d5f96c02d64ee740",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/Se1414080902101/EncodingFilter.java",
    "status" : "added",
    "additions" : 33,
    "deletions" : 0,
    "changes" : 33,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902101/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902101/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/Se1414080902101/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,33 @@\n+package filter;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+\n+public class EncodingFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "f41c7390dd30ab23f0df2cb67a6eafa6ba938fb8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/Se1414080902101/LoginFliter.java",
    "status" : "added",
    "additions" : 42,
    "deletions" : 0,
    "changes" : 42,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902101/LoginFliter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902101/LoginFliter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/Se1414080902101/LoginFliter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,42 @@\n+package filter;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+public class LoginFliter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain filterchain) throws IOException, ServletException {\n+\t\tHttpServletRequest requ=(HttpServletRequest)request;\n+\t\tHttpServletResponse resp=(HttpServletResponse)response;\n+\t\tHttpSession session=requ.getSession(true);\n+\t\tif(session.getAttribute(\"u_name\")==null){\n+\t\t\tresp.sendRedirect(\"index.jsp\");\n+\t\t}else{\n+\t\t\tfilterchain.doFilter(request, response);\n+\t\t}\n+\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "ed15d567880b360ecea0127fcf46bd4b90d43316",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/Se1414080902101/Se1414080902101Servlet.java",
    "status" : "added",
    "additions" : 91,
    "deletions" : 0,
    "changes" : 91,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902101/Se1414080902101Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902101/Se1414080902101Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/Se1414080902101/Se1414080902101Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,91 @@\n+package se1414080902101;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class se1414080902101 extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic se1414080902101() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+\t\tout.println(\"<HTML>\");\n+\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+\t\tout.println(\"  <BODY>\");\n+\t\tout.print(\"    This is \");\n+\t\tout.print(this.getClass());\n+\t\tout.println(\", using the GET method\");\n+\t\tout.println(\"  </BODY>\");\n+\t\tout.println(\"</HTML>\");\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\tString userName=request.getParameter(\"username\");\n+\tString userPwd=request.getParameter(\"userpwd\");\n+\tString info=\"\";\n+\tif((\"abc\".equals(userName))&&\"123\".equals(userPwd)){\n+\t\tinfo=\"��ӭ��\"+userName+\"!\";\n+\t}else{\n+\t\tinfo=\"�û������벻��ȷ��\";\n+\t}\n+\trequest.setAttribute(\"outputMessage\",info);\n+\trequest.getRequestDispatcher(\"info.jsp\").forward(requset, response);\n+\t}\n+\t\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "74ac8a2d42a9b55df616c9333ea965231d3629e6",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/Se1414080902101/web.xml",
    "status" : "added",
    "additions" : 29,
    "deletions" : 0,
    "changes" : 29,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902101/web.xml",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902101/web.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/Se1414080902101/web.xml?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,29 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" id=\"WebApp_ID\" version=\"3.0\">\n+  <display-name>filter</display-name>\n+  <welcome-file-list>\n+    <welcome-file>index.html</welcome-file>\n+    <welcome-file>index.htm</welcome-file>\n+    <welcome-file>index.jsp</welcome-file>\n+    <welcome-file>default.html</welcome-file>\n+    <welcome-file>default.htm</welcome-file>\n+    <welcome-file>default.jsp</welcome-file>\n+  </welcome-file-list>\n+  <filter>\n+  <filter-name>filter</filter-name>\n+  <filter-class>filters.LoginFilter</filter-class>\n+  </filter>\n+  <filter-mapping>\n+  <filter-name>filter</filter-name>\n+  <url-pattern>/汽车租赁/*</url-pattern>\n+  </filter-mapping>\n+\n+ <filter>\n+  <filter-name>EncodingFilter</filter-name>\n+  <filter-class>filters.EncodingFilter</filter-class>\n+  </filter>\n+  <filter-mapping>\n+  <filter-name>EncodingFilter</filter-name>\n+  <url-pattern>/filter/*</url-pattern>\n+  </filter-mapping>\n+  </web-app>\n\\ No newline at end of file"
  }, {
    "sha" : "f9b4888e1ec5a5cabc7bc2ddeefe73921066cd61",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/Se1414080902105/RegisterServlet.java",
    "status" : "added",
    "additions" : 51,
    "deletions" : 0,
    "changes" : 51,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902105/RegisterServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902105/RegisterServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/Se1414080902105/RegisterServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,51 @@\n+package se1414080902105;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+\n+\n+@WebServlet(\"/register\")\n+public class RegisterServlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    public RegisterServlet() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tString userName = request.getParameter(\"username\");\n+\t\tString userPwd = request.getParameter(\"userpwd\");\n+\t\tString cName = request.getParameter(\"cname\");\n+\t\tString userAddr = request.getParameter(\"useraddr\");\n+\t\n+\t\tUser user = new User();\n+\t\tuser.setcustomerName(cName);\n+\t\tuser.setUsername(userName);\n+\t\tuser.setPassword(userPwd);\n+\t\tuser.setUseraddr(userAddr);\n+\t\trequest.setAttribute(\"user\", user);\n+\t\tUserDao dao = new UserDao();\n+\t\ttry{\n+\t\t\tdao.add(user);\n+\t\t\trequest.getSession().setAttribute(\"userName\", user.getUsername());\n+\t\t\trequest.getSession().setAttribute(\"customerName\", user.getcustomerName());\n+\t\t\trequest.removeAttribute(\"user\");\n+\t\t\trequest.getRequestDispatcher(\"success.jsp\").forward(request, response);\n+\t\t}catch(Exception e){\n+\t\t\tthrow new ExceptionInInitializerError(e);\n+\t\t}finally{request.getRequestDispatcher(\"error.jsp\").forward(request, response);}\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "65ed329ee940dca9da8ac1974c64d0294e33389a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/Se1414080902105/Se1414080902105filter.java",
    "status" : "added",
    "additions" : 36,
    "deletions" : 0,
    "changes" : 36,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902105/Se1414080902105filter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902105/Se1414080902105filter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/Se1414080902105/Se1414080902105filter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,36 @@\n+\n+ \n+ import java.io.IOException;\n+ \n+ import javax.servlet.Filter;\n+ import javax.servlet.FilterChain;\n+ import javax.servlet.FilterConfig;\n+ import javax.servlet.ServletException;\n+ import javax.servlet.ServletRequest;\n+ import javax.servlet.ServletResponse;\n+ import javax.servlet.annotation.WebFilter;\n+ \n+ @WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+ \n+ public class EncodingFilter implements Filter {\n+ \t@Override\n+ \tpublic void destroy() {\n+ \n+ \t}\n+ \n+ \t@Override\n+ \tpublic void doFilter(ServletRequest request, ServletResponse response,\n+ \t\t\tFilterChain chain) throws IOException, ServletException {\n+ \t\t\n+ \t\trequest.setCharacterEncoding(\"UTF-8\");\n+ \t\t\n+ \t\tresponse.setCharacterEncoding(\"UTF-8\"); \n+ \t\tchain.doFilter(request, response);\n+ \t}\n+ \n+ \t@Override\n+ \tpublic void init(FilterConfig filterConfig) throws ServletException {\n+ \n+ \t}\n+ \n+ }\n\\ No newline at end of file"
  }, {
    "sha" : "ce1c5ca79eb98b96d1c90eda222781394922edf8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/Se1414080902105/error.jsp",
    "status" : "added",
    "additions" : 5,
    "deletions" : 0,
    "changes" : 5,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902105/error.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902105/error.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/Se1414080902105/error.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,5 @@\n+<%@page language=\"java\"  pageEncoding=\"GB2312\"%>\n+<html>\n+   <head><title>��¼��֤���ҳ��</title></head>\n+   <body><%=request.getParameter(\"xm\")%>:��¼ʧ�ܣ�<br> <body>\n+</html>\n\\ No newline at end of file"
  }, {
    "sha" : "0dbb46864bfd4e1682fb712327a730f47572d446",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/Se1414080902105/success.jsp",
    "status" : "added",
    "additions" : 5,
    "deletions" : 0,
    "changes" : 5,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902105/success.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/Se1414080902105/success.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/Se1414080902105/success.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,5 @@\n+<%@page language=\"java\"  pageEncoding=\"GB2312\"%>\n+<html>\n+   <head><title>��¼��֤�ɹ�ҳ��</title></head>\n+   <body><%=request.getParameter(\"xm\")%>:��¼�ɹ���<br> <body>\n+</html>\n\\ No newline at end of file"
  }, {
    "sha" : "5bb39272c6929c7ed091054cdb70d83b5db3be15",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1413071001206/EncodingFilter.java",
    "status" : "added",
    "additions" : 36,
    "deletions" : 0,
    "changes" : 36,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1413071001206/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1413071001206/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1413071001206/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,36 @@\n+package edu.hzu.javaweb.labs.se1413071001206;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+@WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+public class EncodingFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest arg0, ServletResponse arg1,\n+\t\t\tFilterChain arg2) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\targ0.setCharacterEncoding(\"UTF-8\");\n+\t\targ1.setCharacterEncoding(\"UTF-8\");\n+\t\targ2.doFilter(arg0, arg1);\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "a3fce3a909fe098b4e43f4c8e92734ba55306022",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1413071001206/LoginFilter.java",
    "status" : "added",
    "additions" : 45,
    "deletions" : 0,
    "changes" : 45,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1413071001206/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1413071001206/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1413071001206/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,45 @@\n+﻿package edu.hzu.javaweb.labs.se1413071001206;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+@WebFilter(filterName = \"LoginFilter\", urlPatterns = \"/*\")\n+public class LoginFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest arg0, ServletResponse arg1,\n+\t\t\tFilterChain arg2) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t HttpServletRequest req = (HttpServletRequest) arg0;   \n+\t     HttpServletResponse res = (HttpServletResponse) arg1;   \n+\t  \n+\t     HttpSession session = req.getSession();   \n+\t    if (session.getAttribute(\"username\") != null) {//µÇÂ¼ºó²ÅÄÜ·ÃÎÊ   \n+\t         arg2.doFilter(arg0, arg1);   \n+\t     } else {   \n+\t         res.sendRedirect(\"../index2.jsp\");   \n+\t     }   \n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "07f89be03d937c0c7749476a8646fac5d2bc9f61",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1413071001206/Se1413071001206Servlet.java",
    "status" : "added",
    "additions" : 84,
    "deletions" : 0,
    "changes" : 84,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1413071001206/Se1413071001206Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1413071001206/Se1413071001206Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1413071001206/Se1413071001206Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,84 @@\n+package edu.hzu.javaweb.labs.se1413071001206;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+ @WebServlet(\"/1413071001206\")\n+public class Se1413071001206Servlet extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Se1413071001206Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tdoPost(request,response);\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tresponse.setCharacterEncoding(\"utf-8\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"�ύ�ɹ���\");\n+//\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+//\t\tout.println(\"<HTML>\");\n+//\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+//\t\tout.println(\"  <BODY>\");\n+//\t\tout.print(\"    This is \");\n+//\t\tout.print(this.getClass());\n+//\t\tout.println(\", using the POST method\");\n+//\t\tout.println(\"  </BODY>\");\n+//\t\tout.println(\"</HTML>\");\n+//\t\tout.flush();\n+//\t\tout.close();\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "9d21a7ec8c448d4e15b1b057b0204d913f2c5193",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1413071001206/Se1414080902215.java",
    "status" : "added",
    "additions" : 35,
    "deletions" : 0,
    "changes" : 35,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1413071001206/Se1414080902215.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1413071001206/Se1414080902215.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1413071001206/Se1414080902215.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,35 @@\n+package edu.hzu.javaweb.labs.se1413071001206;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+@WebServlet(\"/Se1413071001206Servlet\")\n+public class Se1413071001206Servlet extends HttpServlet {\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tdoPost(request, response);\n+\t\t\n+\t}\n+\t\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tString address = request.getParameter(\"address\");  \n+\t    String money = request.getParameter(\"money\");  \n+\t    HttpSession session=request.getSession(true);\n+\t    \trequest.setAttribute(\"address\", address);\n+\t    \trequest.setAttribute(\"money\", money);\n+\t    \t\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "f41c7390dd30ab23f0df2cb67a6eafa6ba938fb8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902102/LoginFliter.java",
    "status" : "added",
    "additions" : 42,
    "deletions" : 0,
    "changes" : 42,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902102/LoginFliter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902102/LoginFliter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902102/LoginFliter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,42 @@\n+package filter;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+public class LoginFliter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain filterchain) throws IOException, ServletException {\n+\t\tHttpServletRequest requ=(HttpServletRequest)request;\n+\t\tHttpServletResponse resp=(HttpServletResponse)response;\n+\t\tHttpSession session=requ.getSession(true);\n+\t\tif(session.getAttribute(\"u_name\")==null){\n+\t\t\tresp.sendRedirect(\"index.jsp\");\n+\t\t}else{\n+\t\t\tfilterchain.doFilter(request, response);\n+\t\t}\n+\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "7e24531de6370b4b95ddf728d5f96c02d64ee740",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902102/encodingfilter.java",
    "status" : "added",
    "additions" : 33,
    "deletions" : 0,
    "changes" : 33,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902102/encodingfilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902102/encodingfilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902102/encodingfilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,33 @@\n+package filter;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+\n+public class EncodingFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "79f0136bbe19eba9a308ba2e5f187cd6ff879234",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902103/EncodingFilter.java",
    "status" : "added",
    "additions" : 42,
    "deletions" : 0,
    "changes" : 42,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902103/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902103/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902103/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,42 @@\n+package edu.hzu.javaweb.labs.se1414080902103;\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+\n+public class EncodingFilter implements Filter {\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\t\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\"); \n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "c28b470b8b34d2835f2f3f47b60de11141546b0b",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902103/LoginFilter.java",
    "status" : "added",
    "additions" : 46,
    "deletions" : 0,
    "changes" : 46,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902103/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902103/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902103/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,46 @@\n+package edu.hzu.javaweb.labs.se1414080902103;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebFilter(filterName = \"LoginFilter\", urlPatterns = \"/*\")\n+public class LoginFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy()  {\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest req = (HttpServletRequest) request;   \n+\t     HttpServletResponse res = (HttpServletResponse) response;   \n+\t  \n+\t     HttpSession session = req.getSession();   \n+\t    if (session.getAttribute(\"username\") != null) {\n+\t         chain.doFilter(request, response);   \n+\t     } else {   \n+\t         res.sendRedirect(\"../failure.jsp\");   \n+\t     }   \n+\t}  \n+\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\n+\n+\t}\n+\n+}\n+"
  }, {
    "sha" : "eb9e581c22f4c7215beaadda1216284f7b7893cc",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902103/Se1414080902103Servlet.java",
    "status" : "added",
    "additions" : 112,
    "deletions" : 0,
    "changes" : 112,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902103/Se1414080902103Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902103/Se1414080902103Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902103/Se1414080902103Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,112 @@\n+package edu.hzu.javaweb.labs.se1414080902103;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import net.sf.json.JSONArray;\n+import net.sf.json.JSONObject;\n+\n+@WebServlet(\"/1414080902103\")\n+public class Se1414080902103Servlet extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Se1414080902103Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t * \n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request\n+\t *            the request send by the client to the server\n+\t * @param response\n+\t *            the response send by the server to the client\n+\t * @throws ServletException\n+\t *             if an error occurred\n+\t * @throws IOException\n+\t *             if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.print(\"1414080902103\");\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t * \n+\t * This method is called when a form has its tag value method equals to\n+\t * post.\n+\t * \n+\t * @param request\n+\t *            the request send by the client to the server\n+\t * @param response\n+\t *            the response send by the server to the client\n+\t * @throws ServletException\n+\t *             if an error occurred\n+\t * @throws IOException\n+\t *             if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tresponse.setCharacterEncoding(\"utf-8\");\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tString name = request.getParameter(\"name\");\n+\t\tString id = request.getParameter(\"id\");\n+\t\tString date = request.getParameter(\"date\");\n+\t\tString note = request.getParameter(\"note\");\n+\t   \n+\t\t\n+\t/*\tString Msg = \"{'ÐÕÃû':'\" + name + \"','Ñ§ºÅ':'\" + id + \"','ÈÕÆÚ':'\" + date\n+\t\t+ \"','¿¼ÇÚÇé¿ö':'\" + note + \"'}\";\n+        JSONObject data = JSONObject.fromObject(Msg);\n+        out.print(data);\n+*/\n+\t\t\n+\t\tList<StuDetails> add=new ArrayList<StuDetails>();\n+\t\tadd.add(new StuDetails(name,id,date,note));\n+\t\trequest.setAttribute(\"StuDetails\", add);\n+\t\trequest.getRequestDispatcher(\"client.jsp\").forward(request, response);\n+\t\t\n+\t\t\n+\t\t\n+\t\t\n+\n+         \n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t * \n+\t * @throws ServletException\n+\t *             if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "87150feb49d59859d6bdc269c7475a3c968cc6ce",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902103/StuDetails.java",
    "status" : "added",
    "additions" : 40,
    "deletions" : 0,
    "changes" : 40,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902103/StuDetails.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902103/StuDetails.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902103/StuDetails.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,40 @@\n+package edu.hzu.javaweb.labs.se1414080902103;\n+\n+public class StuDetails {\n+\tprivate String name;\n+\tprivate String id;\n+\tprivate String date;\n+\tprivate String note;\n+\tpublic StuDetails(){}\n+\tpublic StuDetails(String name,String id,String date,String note)\n+\t{\n+\t\tthis.name=name;\n+\t\tthis.id=id;\n+\t\tthis.date=date;\n+\t\tthis.note=note;\n+\t}\n+\tpublic String getName() {\n+\t\treturn name;\n+\t}\n+\tpublic void setName(String name) {\n+\t\tthis.name = name;\n+\t}\n+\tpublic String getId() {\n+\t\treturn id;\n+\t}\n+\tpublic void setId(String id) {\n+\t\tthis.id = id;\n+\t}\n+\tpublic String getDate() {\n+\t\treturn date;\n+\t}\n+\tpublic void setBrithdate(String date) {\n+\t\tthis.date = date;\n+\t}\n+\tpublic String getNote() {\n+\t\treturn note;\n+\t}\n+\tpublic void setNote(String note) {\n+\t\tthis.note =note;\n+\t}\n+}"
  }, {
    "sha" : "0e34b121396ec1bea16293d4ca2d361a8bd8c91f",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902104/EncodingFilter.java",
    "status" : "added",
    "additions" : 35,
    "deletions" : 0,
    "changes" : 35,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902104/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902104/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902104/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,35 @@\n+package edu.hzu.javaweb.labs.se1414080902104;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+\n+public class EncodingFilter implements Filter {\n+\t@Override\n+\tpublic void destroy() {\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\t\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\"); \n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "75db23f5268764131a5bdc5ef4e9bd33da2542ee",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902104/LoginFilter.java",
    "status" : "added",
    "additions" : 45,
    "deletions" : 0,
    "changes" : 45,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902104/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902104/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902104/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,45 @@\n+package edu.hzu.javaweb.labs.se1414080902104;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebFilter(filterName = \"LoginFilter\", urlPatterns = \"/*\")\n+public class LoginFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy()  {\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest req = (HttpServletRequest) request;   \n+\t     HttpServletResponse res = (HttpServletResponse) response;   \n+\t  \n+\t     HttpSession session = req.getSession();   \n+\t    if (session.getAttribute(\"username\") != null) { \n+\t         chain.doFilter(request, response);   \n+\t     } else {   \n+\t         res.sendRedirect(\"failure.jsp\");   \n+\t     }   \n+\t}  \n+\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\n+\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "92c3bc1295ffb2831a7f5003034885d892ebb363",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902104/Se1414080902104Servlet.java",
    "status" : "added",
    "additions" : 58,
    "deletions" : 0,
    "changes" : 58,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902104/Se1414080902104Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902104/Se1414080902104Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902104/Se1414080902104Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,58 @@\n+package edu.hzu.javaweb.labs.se1414080902104;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebServlet(\"/1414080902104\")\n+public class Se1414080902104Servlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\tpublic Se1414080902104Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\tpublic void init(ServletConfig config) throws ServletException {\n+\t\t\n+\t}\n+\n+\tpublic void destroy() {\n+\t}\n+\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\t    String Orgin = request.getParameter(\"orgin\");\n+\t        String Destination = request.getParameter(\"destination\");\n+\t        String Departdate = request.getParameter(\"departdate\");\n+\t        String Returndate = request.getParameter(\"returndate\");\n+\t        String Starttime = request.getParameter(\"starttime\");\n+\t        response.setContentType(\"text/html;charset=gb2312\");\n+\t        PrintWriter out = response.getWriter();\n+\t\t\tif(\"\".equals(Orgin))\n+\t\t\t\tout.print(\"<script>alert('ѡ��ƹ�����ʱ');history.back();</script>)\");\n+\t\t\telse if(\"\".equals(Destination))\n+\t\t\t\tout.print(\"<script>alert('ѡ����ë���ʱ');history.back();</script>\");\n+\t\t\telse if(\"\".equals(Departdate))\n+\t\t\t\tout.print(\"<script>alert('ѡ�������ʱ');history.back();</script>\");\n+\t\t\telse if(\"\".equals(Returndate))\n+\t\t\t\tout.print(\"<script>alert('ѡ�������ʱ');history.back();</script>\");\n+\t\t\telse\n+\t\t\t{\n+\t\t\t\trequest.getRequestDispatcher(\"/index.jsp\").forward(request, response);\n+\t\t\t}\n+\t\t\t\n+\t}\n+\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tdoGet(request, response);\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "b2ba59c2638239fd0c85b15ac77cadb3f09c2c37",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAO.java",
    "status" : "added",
    "additions" : 249,
    "deletions" : 0,
    "changes" : 249,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAO.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAO.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAO.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,249 @@\n+package edu.hzu.javaweb.labs.se1414080902106;\n+\n+import java.lang.reflect.*;\n+import java.sql.*;\n+import java.util.Vector;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+public class MyDAO<T> implements MyDAOInterface<T> {\n+  private Connection con = null;\n+  private CallableStatement call = null;\n+  private ResultSet res = null;\n+\n+  //T模板类型，即JavaBean的类型\n+  private final Class TClass;\n+\n+  public MyDAO(Class TCLASS) {\n+    TClass = TCLASS;\n+  }\n+\n+  //使字符串的首字母大写\n+  private String firstUpper(String s) {\n+    return s.substring(0, 1).toUpperCase() + s.substring(1);\n+  }\n+\n+  //使完整的类名简化\n+  private String SimpleTypeName(String Tname) {\n+    return Tname.substring(Tname.lastIndexOf(\".\") + 1);\n+  }\n+\n+  //填充SQL语句\n+  private String FillSQL(String SQL, T param, int[] in) throws\n+  SecurityException,\n+  NoSuchMethodException,\n+  IllegalArgumentException,\n+  IllegalAccessException,\n+  InvocationTargetException {\n+\n+    //需要填充的参数个数为0时直接返回\n+    if (in == null)\n+      return SQL;\n+\n+    //获取JavaBean的属性集\n+    Field[] fs = TClass.getDeclaredFields();\n+\n+    //填充开始\n+\n+    String SQLa = null;\n+    String SQLb = SQL;\n+    int firstValueIndex;\n+    String currentSQL = \"\";\n+    for (int i = 0; i < in.length; i++) {\n+      //获取第in[i]个属性的名称，首字母大写\n+      String Aname = firstUpper(fs[in[i]].getName());\n+      //获取JavaBean的get方法\n+      Method get = TClass.getMethod(\"get\" + Aname);\n+      //获取属性值\n+      Object value = get.invoke(param);\n+      //构建SQL语句\n+      firstValueIndex = SQLb.indexOf(\"?\");\n+      //若没有?就结束\n+      if (firstValueIndex == -1)\n+        break;\n+      SQLa = SQLb.substring(0, firstValueIndex);\n+      SQLb = SQLb.substring(firstValueIndex + 1);\n+      currentSQL = currentSQL + SQLa + value;\n+    }\n+    currentSQL += SQLb;\n+    return currentSQL;\n+  }\n+\n+  //简单的更新，更新所需数据在item里，更新所对应的语句是SQL，成功返回true\n+  public boolean SimpleUpdate(T item, String SQL) throws SQLException {\n+    int line = 0;\n+    try {\n+      //获取JavaBean的属性集\n+      Field[] fs = TClass.getDeclaredFields();\n+      //获取相关属性序号数组\n+      int[] in = (int[]) TClass.getField(\"in\").get(item);\n+      //填充参数数据到SQL语句\n+      SQL = FillSQL(SQL, item, in);\n+      //获取对应数据库连接\n+      con = ((MyJavaBean) item).getDBConnection();\n+      //创建SQL执行体\n+      call = con.prepareCall(SQL);\n+      //执行更新语句\n+      line = call.executeUpdate();\n+    } catch (ClassNotFoundException e) {\n+      e.printStackTrace();\n+    } catch (SecurityException e) {\n+      e.printStackTrace();\n+    } catch (NoSuchMethodException e) {\n+      e.printStackTrace();\n+    } catch (IllegalArgumentException e) {\n+      e.printStackTrace();\n+    } catch (InvocationTargetException e) {\n+      e.printStackTrace();\n+    } catch (NoSuchFieldException e) {\n+      e.printStackTrace();\n+    } catch (InstantiationException e) {\n+      e.printStackTrace();\n+    } catch (IllegalAccessException e) {\n+      e.printStackTrace();\n+    }\n+    CloseDB();\n+    return line == 1;\n+  }\n+\n+  @Override\n+  //执行第method号的get操作，所需参数是param\n+  public Vector<T> get(int method, T param) throws SQLException {\n+    Vector<T> result = null;\n+    try {\n+      //获取SQL语句\n+      String SQL = ((MyJavaBean) param).getGetSQL(method);\n+      //获取相关属性序号数组\n+      int[] in = (int[]) TClass.getField(\"in\").get(param);\n+      int[] out = (int[]) TClass.getField(\"out\").get(param);\n+      //填充参数数据到SQL语句\n+      SQL = FillSQL(SQL, param, in);\n+      //获取对应数据库连接\n+      con = ((MyJavaBean) param).getDBConnection();\n+      //创建SQL执行体\n+      call = con.prepareCall(SQL);\n+      //执行SQL语句\n+      res = call.executeQuery();\n+      //创建结果集对象\n+      result = new Vector<T>(0);\n+      //获取JavaBean的属性集\n+      Field[] fs = TClass.getDeclaredFields();\n+      //填充结果\n+      MyJavaBean current = null;\n+      while (res.next()) {\n+        //创建新的记录对象(JavaBean对象)\n+        current = (MyJavaBean) TClass.newInstance();\n+        //把结果集的当前记录写入current\n+        for (int i = 0; i < out.length; i++) {\n+          //获取第i个属性的类型\n+          Class Type = fs[out[i]].getType();\n+          //获取第i个属性的类型名，简洁且首字母大写的类名\n+          String Tname = firstUpper(SimpleTypeName(Type.getName()));\n+          //获取第i个属性的名称，首字母大写\n+          String Aname = firstUpper(fs[out[i]].getName());\n+          //获取JavaBean的set方法\n+          Method set = TClass.getMethod(\"set\" + Aname, Type);\n+          //获取ResultSet的get方法\n+          Method get = null;\n+          if (\"Date\".equals(Tname)) {\n+            Timestamp ts = res.getTimestamp(i + 1);\n+            set.invoke(current, new Date(ts.getTime()));\n+          } else {\n+            get = ResultSet.class.getMethod(\"get\" + Tname, int.class);\n+            //获取结果集并写入current里\n+            set.invoke(current, get.invoke(res, i + 1));\n+          }\n+        }\n+        //把写好的current加入结果集result\n+        result.add((T) current);\n+      }\n+    } catch (ClassNotFoundException e) {\n+      e.printStackTrace();\n+    } catch (SecurityException e) {\n+      e.printStackTrace();\n+    } catch (NoSuchMethodException e) {\n+      e.printStackTrace();\n+    } catch (IllegalArgumentException e) {\n+      e.printStackTrace();\n+    } catch (InvocationTargetException e) {\n+      e.printStackTrace();\n+    } catch (NoSuchFieldException e) {\n+      e.printStackTrace();\n+    } catch (InstantiationException e1) {\n+      e1.printStackTrace();\n+    } catch (IllegalAccessException e1) {\n+      e1.printStackTrace();\n+    }\n+    CloseDB();\n+    return result;\n+  }\n+\n+  //插入记录item\n+  public boolean Insert(T item) throws SQLException {\n+    return SimpleUpdate(item, ((MyJavaBean) item).getInsertSQL());\n+  }\n+\n+  //删除记录item\n+  public boolean Remove(T item) throws SQLException {\n+    return SimpleUpdate(item, ((MyJavaBean) item).getDeleteSQL());\n+  }\n+\n+  /*\t@Override\n+\t//执行第method号的普通操作，参数是param，返回执行结果代号\n+\tpublic int Do(int method,T param) throws SQLException {\n+\t\tint result = -1;\n+\t\ttry {\n+\t\t\t//获取SQL语句\n+\t\t\tString SQL = ((MyJavaBean)param).getDoSQL(method);\n+\t\t\t//获取相关属性序号数组\n+\t\t\tint[] in = (int[])TClass.getField(\"in\").get(param);\n+\t\t\t//填充参数数据到SQL语句\n+\t\t\tSQL = FillSQL(SQL,param,in);\n+\t\t\t//获取对应数据库连接\n+\t\t\tcon = ((MyJavaBean)param).getDBConnection();\n+\t\t\t//创建SQL执行体\n+\t\t\tcall = con.prepareCall(SQL);\n+\t\t\tcall.registerOutParameter(1,Types.INTEGER);\n+\t\t\t//执行SQL语句\n+\t\t\tcall.execute();\n+\t\t\t//返回返回值\n+\t\t\tresult = call.getInt(1);\n+\t\t} catch (InstantiationException e) {\n+\t\t\te.printStackTrace();\n+\t\t} catch (IllegalAccessException e) {\n+\t\t\te.printStackTrace();\n+\t\t} catch (ClassNotFoundException e) {\n+\t\t\te.printStackTrace();\n+\t\t} catch (IllegalArgumentException e) {\n+\t\t\te.printStackTrace();\n+\t\t} catch (SecurityException e) {\n+\t\t\te.printStackTrace();\n+\t\t} catch (NoSuchFieldException e) {\n+\t\t\te.printStackTrace();\n+\t\t} catch (NoSuchMethodException e) {\n+\t\t\te.printStackTrace();\n+\t\t} catch (InvocationTargetException e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\tCloseDB();\n+\t\treturn result;\n+\t}\n+   */\n+  @Override\n+  //关闭现有的数据库连接\n+  public void CloseDB() {\n+    try {\n+      MyJavaBean main = (MyJavaBean) TClass.newInstance();\n+      main.closeDB(con, call, res);\n+      con = null;\n+      call = null;\n+      res = null;\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    } catch (InstantiationException e) {\n+      e.printStackTrace();\n+    } catch (IllegalAccessException e) {\n+      e.printStackTrace();\n+    }\n+  }\n+\n+}"
  }, {
    "sha" : "ae07c6d3826a57a174f1705245d22cad713a9348",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAOInterface.java",
    "status" : "added",
    "additions" : 12,
    "deletions" : 0,
    "changes" : 12,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAOInterface.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAOInterface.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/MyDAOInterface.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,12 @@\n+package edu.hzu.javaweb.labs.se1414080902106;\n+\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+public interface MyDAOInterface<T> {\n+  public abstract boolean Insert(T item) throws SQLException;\n+  public abstract boolean Remove(T item) throws SQLException;\n+  public abstract Vector<T> get(int method, T param) throws SQLException;\n+  // public abstract int Do(int method, T param) throws SQLException;\n+  public abstract void CloseDB();\n+}"
  }, {
    "sha" : "ed9b6f411a676a30da857d1992f5bbaeb9665344",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL Server2008数据库部属文件/1.创建数据库和表.sql",
    "status" : "added",
    "additions" : 67,
    "deletions" : 0,
    "changes" : 67,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/1.%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E8%A1%A8.sql",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/1.%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E8%A1%A8.sql",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/1.%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E8%A1%A8.sql?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,67 @@\n+--������ݿ�\n+CREATE DATABASE CMSDB;\n+go\n+\n+use CMSDB;\n+\n+--�����˻���\n+CREATE TABLE Account(\n+\tID int PRIMARY KEY,\n+\tUsername nvarchar(64) UNIQUE not null,\t--�û���\n+\tPassword nvarchar(32) not null,\t\t\t--����\n+\tName nvarchar(256) not null\t\t\t\t--�ǳ�\n+)\n+go\n+\n+--�������ӱ�\n+CREATE TABLE Posts(\n+\tID int PRIMARY KEY,\n+\tAID int not null,\t\t\t\t\t--�����˻�ID\n+\tTitle nvarchar(128) not null,\t\t--����\n+\tText nvarchar(max) not null,\t\t--����\n+\tCreateDateTime datetime not null,\t--����ʱ��\n+\tReplyCount int not null,\t\t\t--�ظ���\n+\tFOREIGN KEY(AID) REFERENCES Account(ID)\n+)\n+go\n+\n+--����1���ظ���\n+CREATE TABLE Reply1(\n+\tID int PRIMARY KEY,\n+\tAID int not null,\t\t\t\t\t--�����˻�ID\n+\tPID int not null,\t\t\t\t\t--��ظ�����ID\n+\tText nvarchar(max) not null,\t\t--����\n+\tCreateDateTime datetime not null,\t--����ʱ��\n+\tFOREIGN KEY(AID) REFERENCES Account(ID),\n+\tFOREIGN KEY(PID) REFERENCES Posts(ID)\n+)\n+go\n+\n+--����2���ظ���\n+CREATE TABLE Reply2(\n+\tID int PRIMARY KEY,\n+\tAID int not null,\t\t\t\t\t--�����˻�ID\n+\tRID int not null,\t\t\t\t\t--��ظ���1���ظ���ID\n+\tText nvarchar(max) not null,\t\t--����\n+\tCreateDateTime datetime not null,\t--����ʱ��\n+\tFOREIGN KEY(AID) REFERENCES Account(ID),\n+\tFOREIGN KEY(RID) REFERENCES Reply1(ID)\n+)\n+go\n+\n+--�����˻���Ŀ���ID��\n+CREATE TABLE R_AID(\n+\tID int PRIMARY KEY\n+)\n+--�������ӱ�Ŀ���ID��\n+CREATE TABLE R_PID(\n+\tID int PRIMARY KEY\n+)\n+--����1���ظ���Ŀ���ID��\n+CREATE TABLE R_R1ID(\n+\tID int PRIMARY KEY\n+)\n+--����2���ظ���Ŀ���ID��\n+CREATE TABLE R_R2ID(\n+\tID int PRIMARY KEY\n+)"
  }, {
    "sha" : "c503633954a092e88237bd74d9083177b932839b",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL Server2008数据库部属文件/2.创建触发器.sql",
    "status" : "added",
    "additions" : 152,
    "deletions" : 0,
    "changes" : 152,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/2.%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8.sql",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/2.%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8.sql",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/2.%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8.sql?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,152 @@\n+use CMSDB\n+go\n+\n+--����������Reply2���¼������\n+CREATE TRIGGER Insert_Reply2\n+ON Reply2\n+AFTER INSERT\n+AS\n+BEGIN\n+\t--��ȡ��Reply2��¼���������ID\n+\tDECLARE @pid int\n+\tSET @pid = (\n+\t\tSELECT PID\n+\t\tFROM Reply1\n+\t\tWHERE ID = (\n+\t\t\tSELECT RID\n+\t\t\tFROM inserted\n+\t\t)\n+\t)\n+\t--������Ӽ�¼�ۼӻظ���\n+\tUPDATE Posts\n+\tSET ReplyCount = ReplyCount + 1\n+\tWHERE ID = @pid\n+END\n+go\n+\n+--����������Reply1���¼������\n+CREATE TRIGGER Insert_Reply1\n+ON Reply1\n+AFTER INSERT\n+AS\n+BEGIN\n+\t--��ȡ��Reply1��¼���������ID\n+\tDECLARE @pid int\n+\tSET @pid = (\n+\t\tSELECT PID\n+\t\tFROM inserted\n+\t)\n+\t--������Ӽ�¼�ۼӻظ���\n+\tUPDATE Posts\n+\tSET ReplyCount = ReplyCount + 1\n+\tWHERE ID = @pid\n+END\n+go\n+\n+--������ɾ��Reply2���¼������\n+CREATE TRIGGER Delete_Reply2\n+ON Reply2\n+INSTEAD OF DELETE\n+AS\n+BEGIN\n+\t--����ɾ��ÿ��2���ظ�\n+\tDELETE Reply2\n+\tWHERE ID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--��¼����ID\n+\tINSERT INTO R_R2ID(ID)\n+\t\tSELECT id\n+\t\tFROM deleted\n+END\n+go\n+\n+--������ɾ��Reply1���¼������\n+CREATE TRIGGER Delete_Reply1\n+ON Reply1\n+INSTEAD OF DELETE\n+AS\n+BEGIN\n+\t--ɾ��Դ�1���ظ����еĻظ�\n+\tDELETE Reply2\n+\tWHERE RID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--END\n+\t--����ɾ��1���ظ�\n+\tDELETE Reply1\n+\tWHERE ID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--��¼����ID\n+\tINSERT INTO R_R1ID(ID)\n+\t\tSELECT ID\n+\t\tFROM deleted\n+END\n+go\n+\n+--������ɾ��Posts���¼������\n+CREATE TRIGGER Delete_Posts\n+ON Posts\n+INSTEAD OF DELETE\n+AS\n+BEGIN\n+\t--ɾ��Դ����ӽ��еĻظ�\n+\tDELETE Reply1\n+\tWHERE PID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--END\n+\t--����ɾ������\n+\tDELETE Posts\n+\tWHERE ID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--��¼����ID\n+\tINSERT INTO R_PID(ID)\n+\t\tSELECT ID\n+\t\tFROM deleted\n+END\n+go\n+\n+--������ɾ��Account���¼������\n+CREATE TRIGGER Delete_Account\n+ON Account\n+INSTEAD OF DELETE\n+AS\n+BEGIN\n+\t--ɾ����˻�����������\n+\tDELETE Posts\n+\tWHERE AID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--ɾ����˻�������1���ظ�\n+\tDELETE Reply1\n+\tWHERE AID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--ɾ����˻�������2���ظ�\n+\tDELETE Reply2\n+\tWHERE AID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--����ɾ���˻�\n+\tDELETE Account\n+\tWHERE ID in (\n+\t\tSELECT ID\n+\t\tFROM deleted\n+\t)\n+\t--��¼����ID\n+\tINSERT INTO R_AID(ID)\n+\t\tSELECT ID\n+\t\tFROM deleted\n+END\n+go\n\\ No newline at end of file"
  }, {
    "sha" : "9b94652f0f8e83295763cd695cc2e2907f7f442a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL Server2008数据库部属文件/3.创建Create型存储过程.sql",
    "status" : "added",
    "additions" : 219,
    "deletions" : 0,
    "changes" : 219,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/3.%E5%88%9B%E5%BB%BACreate%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/3.%E5%88%9B%E5%BB%BACreate%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/3.%E5%88%9B%E5%BB%BACreate%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,219 @@\n+use CMSDB\n+go\n+\n+--������ע��(�û������룬�ǳ�)\n+CREATE PROCEDURE CreateAccount(@username nvarchar(64),@password nvarchar(32),@name nvarchar(256))\n+AS\n+BEGIN\n+\t--���\n+\tIF @username IS NULL or @username = ''\n+\tBEGIN\n+\t\tRAISERROR(N'�û�����Ϊ�գ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\tIF @password IS NULL or @password = ''\n+\tBEGIN\n+\t\tRAISERROR(N'���벻��Ϊ�գ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\tIF @name IS NULL or @name = ''\n+\tBEGIN\n+\t\tRAISERROR(N'�ǳƲ���Ϊ�գ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\t--�ж��û����Ƿ��ظ�\n+\tIF EXISTS (\n+\t\tSELECT *\n+\t\tFROM Account\n+\t\tWHERE Username = @username\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�û����Ѵ��ڣ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\t--��ȡ����ID\n+\tDECLARE @id int;\n+\tSET @id = (\n+\t\tSELECT TOP(1) ID\n+\t\tFROM R_AID\n+\t)\n+\t--�ж��Ƿ��п���ID,��û�����Ե�ǰ��¼��ΪID\n+\tIF @id IS NULL\n+\tBEGIN\n+\t\tSET @id = (\n+\t\t\tSELECT COUNT(*)\n+\t\t\tFROM Account\n+\t\t)\n+\tEND\n+\tELSE\n+\tBEGIN\n+\t\tDELETE R_AID\n+\t\tWHERE ID = @id\n+\tEND\n+\t--�����¼�¼\n+\tINSERT INTO Account(ID,Username,Password,Name)\n+\tVALUES (@id,@username,@password,@name)\n+\treturn 0;\n+END\n+go\n+\n+--����������(�����˻�ID�����⣬����)\n+CREATE PROCEDURE CreatePosts(@aid int,@title nvarchar(128),@text nvarchar(max))\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Account\n+\t\tWHERE ID = @aid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'��������˻������ڣ�',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--���\n+\tIF @title IS NULL or @title = ''\n+\tBEGIN\n+\t\tRAISERROR(N'���ⲻ��Ϊ�գ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\t\n+\tIF @text IS NULL or @text = ''\n+\tBEGIN\n+\t\tRAISERROR(N'���ݲ���Ϊ�գ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\t\n+\t--��ȡ����ID\n+\tDECLARE @id int;\n+\tSET @id = (\n+\t\tSELECT TOP(1) ID\n+\t\tFROM R_PID\n+\t)\n+\t--�ж��Ƿ��п���ID,��û�����Ե�ǰ��¼��ΪID\n+\tIF @id IS NULL\n+\tBEGIN\n+\t\tSET @id = (\n+\t\t\tSELECT COUNT(*)\n+\t\t\tFROM Posts\n+\t\t)\n+\tEND\n+\tELSE\n+\tBEGIN\n+\t\tDELETE R_PID\n+\t\tWHERE ID = @id\n+\tEND\n+\t--�����¼�¼\n+\tINSERT INTO Posts(ID,AID,Title,Text,CreateDateTime,ReplyCount)\n+\tVALUES (@id,@aid,@title,@text,GETDATE(),0)\n+\treturn 0;\n+END\n+go\n+\n+--����������1���ظ�(�����˻�ID����Ӧ����ID������)\n+CREATE PROCEDURE CreateReply1(@aid int,@pid int,@text nvarchar(max))\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Account\n+\t\tWHERE ID = @aid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�û��������޷�����ظ���',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Posts\n+\t\tWHERE ID = @pid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'���Ӳ������޷�����ظ���',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--���\n+\tIF @text IS NULL or @text = ''\n+\tBEGIN\n+\t\tRAISERROR(N'�ظ����ݲ���Ϊ�գ�',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\t\t\n+\tEND\n+\t--��ȡ����ID\n+\tDECLARE @id int;\n+\tSET @id = (\n+\t\tSELECT TOP(1) ID\n+\t\tFROM R_R1ID\n+\t)\n+\t--�ж��Ƿ��п���ID,��û�����Ե�ǰ��¼��ΪID\n+\tIF @id IS NULL\n+\tBEGIN\n+\t\tSET @id = (\n+\t\t\tSELECT COUNT(*)\n+\t\t\tFROM Reply1\n+\t\t)\n+\tEND\n+\tELSE\n+\tBEGIN\n+\t\tDELETE R_R1ID\n+\t\tWHERE ID = @id\n+\tEND\n+\t--��¼1���ظ�\n+\tINSERT INTO Reply1(ID,AID,PID,Text,CreateDateTime)\n+\tVALUES (@id,@aid,@pid,@text,GETDATE())\n+\treturn 0;\n+END\n+go\n+\n+--����������2���ظ�(�����˻�ID����Ӧ1���ظ�ID������)\n+CREATE PROCEDURE CreateReply2(@aid int,@rid int,@text nvarchar(max))\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Account\n+\t\tWHERE ID = @aid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�˻��������޷�����ظ���',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Reply1\n+\t\tWHERE ID = @rid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�ظ��������޷�����ظ���',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--���\n+\tIF @text IS NULL or @text = ''\n+\tBEGIN\n+\t\tRAISERROR(N'�ظ����ݲ���Ϊ�գ�',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\t\t\n+\tEND\n+\t--��ȡ����ID\n+\tDECLARE @id int;\n+\tSET @id = (\n+\t\tSELECT TOP(1) ID\n+\t\tFROM R_R2ID\n+\t)\n+\t--�ж��Ƿ��п���ID,��û�����Ե�ǰ��¼��ΪID\n+\tIF @id IS NULL\n+\tBEGIN\n+\t\tSET @id = (\n+\t\t\tSELECT COUNT(*)\n+\t\t\tFROM Reply2\n+\t\t)\n+\tEND\n+\tELSE\n+\tBEGIN\n+\t\tDELETE R_R2ID\n+\t\tWHERE ID = @id\n+\tEND\n+\t--��¼2���ظ�\n+\tINSERT INTO Reply2(ID,AID,RID,Text,CreateDateTime)\n+\tVALUES (@id,@aid,@rid,@text,GETDATE())\n+\treturn 0;\n+END\n+go\n\\ No newline at end of file"
  }, {
    "sha" : "a6731f21954b10d596003268d61cd6a1f270bda2",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL Server2008数据库部属文件/4.创建Delete型存储过程.sql",
    "status" : "added",
    "additions" : 93,
    "deletions" : 0,
    "changes" : 93,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/4.%E5%88%9B%E5%BB%BADelete%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/4.%E5%88%9B%E5%BB%BADelete%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/4.%E5%88%9B%E5%BB%BADelete%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,93 @@\n+use CMSDB\n+go\n+\n+--������ɾ��2���ظ�(�ظ�ID)\n+CREATE PROCEDURE DeleteReply2(@id int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Reply2\n+\t\tWHERE ID = @id\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'��ɾ��Ļظ������ڣ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\t--ɾ���2���ظ�\n+\tDELETE Reply2\n+\tWHERE ID = @id\n+\treturn 0;\n+END\n+go\n+\n+--������ɾ��1���ظ�(�ظ�ID)\n+CREATE PROCEDURE DeleteReply1(@id int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Reply1\n+\t\tWHERE ID = @id\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'��ɾ��Ļظ������ڣ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\t--ɾ��ûظ�\n+\tDELETE Reply1\n+\tWHERE ID = @id\n+\treturn 0;\n+END\n+go\n+\n+--������ɾ������(����ID)\n+CREATE PROCEDURE DeletePosts(@id int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Posts\n+\t\tWHERE ID = @id\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'��ɾ������Ӳ����ڣ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\t--ɾ�������\n+\tDELETE Posts\n+\tWHERE ID = @id\n+\treturn 0;\n+END\n+go\n+\n+--������ע��(�û���)\n+CREATE PROCEDURE DeleteAccount(@username nvarchar(64))\n+AS\n+BEGIN\n+\tDECLARE @id int\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Account\n+\t\tWHERE Username = @username\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'��ע����˻������ڣ�',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--��ȡID\n+\tSET @id = (\n+\t\tSELECT ID\n+\t\tFROM Account\n+\t\tWHERE Username = @username\n+\t)\n+\t--ɾ���˻�\n+\tDELETE Account\n+\tWHERE Username = @username\n+\treturn 0;\n+END\n+go\n\\ No newline at end of file"
  }, {
    "sha" : "9c744e3df092fe453a03f530f4b721e307fc9260",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL Server2008数据库部属文件/5.创建Get型存储过程.sql",
    "status" : "added",
    "additions" : 169,
    "deletions" : 0,
    "changes" : 169,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/5.%E5%88%9B%E5%BB%BAGet%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/5.%E5%88%9B%E5%BB%BAGet%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/5.%E5%88%9B%E5%BB%BAGet%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,169 @@\n+use CMSDB\n+go\n+\n+--��������ȡ����(����ID)\n+CREATE PROCEDURE GetPosts(@id int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Posts\n+\t\tWHERE ID = @id\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'���Ӳ������޷���ȡ��',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--��ѯ����\n+\tSELECT Posts.*,Name\n+\tFROM Posts,Account\n+\tWHERE Posts.ID = @id and Posts.AID = Account.ID\n+\treturn 0;\n+END\n+go\n+\n+--��������ȡ1���ظ�(�ظ�ID)\n+CREATE PROCEDURE GetReply1(@id int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Reply1\n+\t\tWHERE ID = @id\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�ظ��������޷���ȡ��',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--��ѯ1���ظ�\n+\tSELECT *\n+\tFROM Reply1\n+\tWHERE ID = @id\n+\treturn 0;\n+END\n+go\n+\n+--��������ȡ2���ظ�(�ظ�ID)\n+CREATE PROCEDURE GetReply2(@id int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Reply2\n+\t\tWHERE ID = @id\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�ظ��������޷���ȡ��',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--��ѯ2���ظ�\n+\tSELECT *\n+\tFROM Reply2\n+\tWHERE ID = @id\n+\treturn 0;\n+END\n+go\n+\n+--��������ȡ�������ӵı��⡢���ߺʹ���ʱ�䣬������ʱ�����������\n+CREATE PROCEDURE GetAllPosts\n+AS\n+BEGIN\n+\tSELECT Posts.ID,Title,Account.ID,Name,CreateDateTime,ReplyCount\n+\tFROM Posts,Account\n+\tWHERE Posts.AID = Account.ID\n+\tORDER BY CreateDateTime DESC\n+END\n+go\n+\n+--��������ȡĳ���˻����������ӣ�������ʱ�����������\n+CREATE PROCEDURE GetSomePosts(@aid int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Account\n+\t\tWHERE ID = @aid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�˻������ڣ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\t--��ȡ����\n+\tSELECT ID,Title,CreateDateTime,ReplyCount\n+\tFROM Posts\n+\tWHERE AID = @aid\n+\treturn 0;\n+END\n+go\n+\n+--��������ȡĳ�����ӵ����лظ������ݡ����ߺʹ���ʱ��(����ID)��������ʱ����絽������\n+CREATE PROCEDURE GetSomeReply1(@pid int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Posts\n+\t\tWHERE ID = @pid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'���Ӳ����ڣ�',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--��ȡ�ظ�\n+\tSELECT Reply1.ID,Text,Account.ID,Name,CreateDateTime\n+\tFROM Reply1,Account\n+\tWHERE PID = @pid and AID = Account.ID\n+\tORDER BY CreateDateTime ASC\n+\treturn 0;\n+END\n+go\n+\n+--��������ȡĳ��1���ظ������лظ������ݡ����ߺʹ���ʱ��(1���ظ�ID)��������ʱ����絽������\n+CREATE PROCEDURE GetSomeReply2(@rid int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Reply1\n+\t\tWHERE ID = @rid\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�ظ������ڣ�',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--��ȡ�ظ�\n+\tSELECT Reply2.ID,Text,Account.ID,Name,CreateDateTime\n+\tFROM Reply2,Account\n+\tWHERE RID = @rid and AID = Account.ID\n+\tORDER BY CreateDateTime ASC\n+\treturn 0;\n+END\n+go\n+\n+--��������ȡ�˻���Ϣ\n+CREATE PROCEDURE GetAccount(@id int)\n+AS\n+BEGIN\n+\t--��������\n+\tIF NOT EXISTS (\n+\t\tSELECT *\n+\t\tFROM Account\n+\t\tWHERE ID = @id\n+\t)\n+\tBEGIN\n+\t\tRAISERROR(N'�˻������ڣ�',15,0)--���û����ʹ�����Ϣ\n+\t\treturn -1;\n+\tEND\n+\t--��ȡ��Ϣ\n+\tSELECT Name\n+\tFROM Account\n+\tWHERE ID = @id\n+\treturn 0;\n+END\n+go\n\\ No newline at end of file"
  }, {
    "sha" : "1e1e3f71e8dd03fe9db58c4bfb4ee999b9b5ec2d",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL Server2008数据库部属文件/6.创建操作型存储过程.sql",
    "status" : "added",
    "additions" : 35,
    "deletions" : 0,
    "changes" : 35,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/6.%E5%88%9B%E5%BB%BA%E6%93%8D%E4%BD%9C%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/6.%E5%88%9B%E5%BB%BA%E6%93%8D%E4%BD%9C%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/SQL%20Server2008%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E5%B1%9E%E6%96%87%E4%BB%B6/6.%E5%88%9B%E5%BB%BA%E6%93%8D%E4%BD%9C%E5%9E%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.sql?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,35 @@\n+use CMSDB\n+go\n+\n+--��������¼(�û�������)���ɹ������˻�ID��ʧ�ܷ���-1\n+CREATE PROCEDURE Login(@username nvarchar(64),@password nvarchar(32))\n+AS\n+BEGIN\n+\t--��������\n+\tDECLARE @aid int;\n+\tSET @aid = (\n+\t\tSELECT ID\n+\t\tFROM Account\n+\t\tWHERE Username = @username\n+\t)\n+\tIF @aid IS NULL\n+\tBEGIN\n+\t\tRAISERROR(N'�˻������ڣ�',15,0)--���û����ʹ�����Ϣ\t\n+\t\treturn -1;\n+\tEND\n+\t--��������Ƿ���ȷ\n+\tIF @password = (\n+\t\tSELECT Password\n+\t\tFROM Account\n+\t\tWHERE ID = @aid\n+\t)\n+\tBEGIN\n+\t\t--�Բ�ѯ���ķ�ʽ���ؽ��\n+\t\tSELECT ID,Name\n+\t\tFROM Account\n+\t\tWHERE ID = @aid\n+\t\treturn @aid;\n+\tEND\n+\tRAISERROR(N'�������',15,0)--���û����ʹ�����Ϣ\t\n+\treturn -1;\n+END\n\\ No newline at end of file"
  }, {
    "sha" : "53cc97f688cd95ff3960a488e3b93c7822bffc43",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_0_EncodingFilter.java",
    "status" : "added",
    "additions" : 36,
    "deletions" : 0,
    "changes" : 36,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_0_EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_0_EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_0_EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,36 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myFilters;\n+\n+import java.io.IOException;\n+import java.util.Enumeration;\n+\n+import javax.servlet.*;\n+import javax.servlet.http.*;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName=\"encodingFilter\", urlPatterns=\"/*\")\n+public class _0_EncodingFilter implements Filter {\n+\n+  public void doFilter(ServletRequest request, ServletResponse response,\n+      FilterChain chain) throws IOException, ServletException {\n+    HttpSession session = ((HttpServletRequest) request).getSession();\n+    Enumeration<String> pns = request.getParameterNames();\n+    //把从浏览器端传来的参数编码都转换成utf-8并写入session\n+    while (pns.hasMoreElements()) {\n+      String Pname = pns.nextElement();\n+      String param = request.getParameter(Pname);\n+      //Tomcat的参数传递的编码是ISO-8859-1\n+      String current = new String(param.getBytes(\"ISO-8859-1\"), \"utf-8\");\n+      session.setAttribute(Pname, current);\n+    }\n+    request.setCharacterEncoding(\"utf-8\");\n+    response.setCharacterEncoding(\"utf-8\");\n+    chain.doFilter(request, response);\n+  }\n+\n+  @Override\n+  public void init(FilterConfig arg0) throws ServletException {\n+  }\n+  @Override\n+  public void destroy() {\n+  }\n+}"
  }, {
    "sha" : "a6174e826518e52f699d582ec674dbe7e1077606",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_1_SecurityFilter.java",
    "status" : "added",
    "additions" : 29,
    "deletions" : 0,
    "changes" : 29,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_1_SecurityFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_1_SecurityFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_1_SecurityFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,29 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myFilters;\n+\n+import java.io.IOException;\n+import javax.servlet.*;\n+import javax.servlet.http.*;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName=\"securityFilter\", urlPatterns={\"/home.jsp\", \"/new_content.jsp\", \"/display.jsp\"})\n+public class _1_SecurityFilter implements Filter {\n+\n+  public void doFilter(ServletRequest request, ServletResponse response,\n+      FilterChain chain) throws IOException, ServletException {\n+    HttpServletRequest req = (HttpServletRequest) request;\n+    HttpServletResponse res = (HttpServletResponse) response;\n+    HttpSession session = req.getSession();\n+    //若没登录则跳转到登录页面\n+    if (session.getAttribute(\"hasLogined\") != null)\n+      chain.doFilter(request, response);\n+    else\n+      res.sendRedirect(\"./\");\n+  }\n+\n+  @Override\n+  public void init(FilterConfig filterConfig) throws ServletException {\n+  }\n+  @Override\n+  public void destroy() {\n+  }\n+}"
  }, {
    "sha" : "08a223fce84e9b9ddf1c3881ce93391cc4857c92",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_2_LoginFilter.java",
    "status" : "added",
    "additions" : 29,
    "deletions" : 0,
    "changes" : 29,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_2_LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_2_LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_2_LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,29 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myFilters;\n+\n+import java.io.IOException;\n+import javax.servlet.*;\n+import javax.servlet.http.*;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName=\"loginFilter\", urlPatterns=\"/index.jsp\")\n+public class _2_LoginFilter implements Filter {\n+\n+  public void doFilter(ServletRequest request, ServletResponse response,\n+      FilterChain chain) throws IOException, ServletException {\n+    HttpServletRequest req = (HttpServletRequest) request;\n+    HttpServletResponse res = (HttpServletResponse) response;\n+    HttpSession session = req.getSession();\n+    //若已经登录则直接进入home.jsp\n+    if (session.getAttribute(\"hasLogined\") != null)\n+      res.sendRedirect(\"./home.jsp\");\n+    else\n+      chain.doFilter(request, response);\n+  }\n+\n+  @Override\n+  public void init(FilterConfig filterConfig) throws ServletException {\n+  }\n+  @Override\n+  public void destroy() {\n+  }\n+}"
  }, {
    "sha" : "09c75ba81977d336b2023f59f18cbad439a6edcf",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_3_HomeFilter.java",
    "status" : "added",
    "additions" : 41,
    "deletions" : 0,
    "changes" : 41,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_3_HomeFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_3_HomeFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_3_HomeFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,41 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myFilters;\n+\n+import java.io.IOException;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.*;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpSession;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebFilter(filterName=\"homeFilter\", urlPatterns=\"/home.jsp\")\n+public class _3_HomeFilter implements Filter {\n+\n+  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+    HttpSession session = ((HttpServletRequest) request).getSession();\n+    //使用DAO获取所有帖子列表\n+    MyDAO<Posts> dao = new MyDAO<Posts>(Posts.class);\n+    Vector<Posts> result = null;\n+    Posts param = new Posts();\n+    try {\n+      //执行获取所有帖子的操作\n+      result = dao.get(1, param);\n+      //把结果写入session\n+      session.setAttribute(\"posts\", result);\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    }\n+    chain.doFilter(request, response);\n+  }\n+\n+  @Override\n+  public void init(FilterConfig arg0) throws ServletException {\n+  }\n+  @Override\n+  public void destroy() {\n+  }\n+}"
  }, {
    "sha" : "13e887a1e291a77c7002de3e34a69262679c53cc",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_4_DisplayFilter.java",
    "status" : "added",
    "additions" : 53,
    "deletions" : 0,
    "changes" : 53,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_4_DisplayFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_4_DisplayFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_4_DisplayFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,53 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myFilters;\n+\n+import java.io.IOException;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.*;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebFilter(filterName=\"displayFilter\", urlPatterns=\"/display.jsp\")\n+public class _4_DisplayFilter implements Filter {\n+\n+  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+    HttpSession session = ((HttpServletRequest) request).getSession();\n+    //获取参数\n+    int id = Integer.parseInt((String) session.getAttribute(\"id\"));\n+    session.removeAttribute(\"id\");\n+    //使用DAO获取帖子信息\n+    MyDAO<Posts> dao1 = new MyDAO<Posts>(Posts.class);\n+    Vector<Posts> posts = null;\n+    Posts param1 = new Posts();\n+    param1.setId(id);\n+    try {\n+      posts = dao1.get(0, param1);\n+      session.setAttribute(\"posts\", posts.get(0));\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    }\n+    //获取帖子的1级回复信息\n+    MyDAO<Reply1> dao2 = new MyDAO<Reply1>(Reply1.class);\n+    Vector<Reply1> reply1 = null;\n+    Reply1 param2 = new Reply1();\n+    param2.setPid(id);\n+    try {\n+      reply1 = dao2.get(1, param2);\n+      session.setAttribute(\"reply1\", reply1);\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    }\n+    chain.doFilter(request, response);\n+  }\n+\n+  @Override\n+  public void init(FilterConfig arg0) throws ServletException {\n+  }\n+  @Override\n+  public void destroy() {\n+  }\n+}"
  }, {
    "sha" : "8258d790fdb8441f46276ed3487a9183a40452a0",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_5_AccountFilter.java",
    "status" : "added",
    "additions" : 56,
    "deletions" : 0,
    "changes" : 56,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_5_AccountFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_5_AccountFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myFilters/_5_AccountFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,56 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myFilters;\n+\n+import java.io.IOException;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.*;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpSession;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebFilter(\"/account.jsp\")\n+public class _5_AccountFilter implements Filter {\n+\n+  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+    HttpSession session = ((HttpServletRequest) request).getSession();\n+    //获取参数\n+    int id = Integer.parseInt((String) session.getAttribute(\"id\"));\n+    session.removeAttribute(\"id\");\n+    //组装数据\n+    Account param1 = new Account();\n+    param1.setId(id);\n+    Posts param2 = new Posts();\n+    param2.setAid(id);\n+    //使用DAO获取账户信息\n+    MyDAO<Account> dao1 = new MyDAO<Account>(Account.class);\n+    Vector<Account> result1 = null;\n+    try {\n+      result1 = dao1.get(1, param1);\n+      result1.get(0).setId(id);\n+      session.setAttribute(\"other\", result1.get(0));\n+    } catch (SQLException e1) {\n+      e1.printStackTrace();\n+    }\n+    //使用DAO获取账户发表的帖子\n+    MyDAO<Posts> dao2 = new MyDAO<Posts>(Posts.class);\n+    Vector<Posts> result2 = null;\n+    try {\n+      result2 = dao2.get(2, param2);\n+      session.setAttribute(\"posts\", result2);\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    }\n+    chain.doFilter(request, response);\n+  }\n+\n+  @Override\n+  public void init(FilterConfig arg0) throws ServletException {\n+  }\n+  @Override\n+  public void destroy() {\n+  }\n+}"
  }, {
    "sha" : "ca61cd4581808c8402c8acaaaac9e3956db69378",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Account.java",
    "status" : "added",
    "additions" : 75,
    "deletions" : 0,
    "changes" : 75,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Account.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Account.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Account.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,75 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myJavaBeans;\n+\n+//负责提供注册、登录、注销操作的相关内容\n+public class Account extends MyJavaBean {\n+  private int id;\n+  private String username;\n+  private String password;\n+  private String name;\n+  public int getId() {\n+    return id;\n+  }\n+  public void setId(int id) {\n+    this.id = id;\n+  }\n+  public String getUsername() {\n+    return username;\n+  }\n+  public void setUsername(String username) {\n+    this.username = username;\n+  }\n+  public String getPassword() {\n+    return password;\n+  }\n+  public void setPassword(String password) {\n+    this.password = password;\n+  }\n+  public String getName() {\n+    return name;\n+  }\n+  public void setName(String name) {\n+    this.name = name;\n+  }\n+  @Override\n+  public String getGetSQL(int method) {\n+    switch (method) {\n+    case 0:\n+      in = new int[2];\n+      in[0] = 1;\n+      in[1] = 2;\n+      out = new int[2];\n+      out[0] = 0;\n+      out[1] = 3;\n+      return \"Login @username='?',@password='?'\";\n+    case 1:\n+      in = new int[1];\n+      in[0] = 0;\n+      out = new int[1];\n+      out[0] = 3;\n+      return \"GetAccount @id=?\";\n+    }\n+    return null;\n+  }\n+  @Override\n+  public String getInsertSQL() {\n+    in = new int[3];\n+    in[0] = 1;\n+    in[1] = 2;\n+    in[2] = 3;\n+    return \"CreateAccount @username='?',@password='?',@name='?'\";\n+  }\n+  @Override\n+  public String getDeleteSQL() {\n+    in = new int[1];\n+    in[0] = 1;\n+    return \"DeleteAccount @username='?'\";\n+  }\n+  @Override\n+  public String toString() {\n+    return \"{\" +\n+        \"\\\"id\\\" : \\\"\" + id + \"\\\", \" +\n+        \"\\\"username\\\" : \\\"\" + username + \"\\\", \" +\n+        \"\\\"password\\\" : \\\"\" + password + \"\\\", \" +\n+        \"\\\"name\\\" : \\\"\" + name + \"\\\"}\";\n+  }\n+}"
  }, {
    "sha" : "bee5779f720cd95815ef2deaaed9c7430e083449",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBean.java",
    "status" : "added",
    "additions" : 61,
    "deletions" : 0,
    "changes" : 61,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBean.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBean.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBean.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,61 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myJavaBeans;\n+\n+import java.sql.*;\n+import java.text.SimpleDateFormat;\n+\n+public abstract class MyJavaBean implements MyJavaBeanInterface {\n+  public int[] in;\t\t//用来表示接下来执行SQL操作时使用哪些属性作为输入\n+  public int[] out;\t\t//用来表示接下来执行SQL操作时使用哪些属性作为输出\n+  public final String myDFS = \"yyyy-MM-dd HH:mm:ss\"; //时间格式字符串\n+\n+  //格式化DateTime\n+  final public String formatDT(Date datetime) {\n+    SimpleDateFormat sdf = new SimpleDateFormat(myDFS);\n+    return sdf.format(datetime);\n+  }\n+\n+  public final Connection getDBConnection() throws InstantiationException,\n+  IllegalAccessException, ClassNotFoundException, SQLException {\n+    //装载驱动程序\n+    Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\").newInstance();\n+    //连接字符串\n+    String url =\"jdbc:sqlserver://localhost:1433;DatabaseName=CMSDB\";\n+    //建立连接\n+    Connection con = DriverManager.getConnection(url, \"me\", \"me\");\n+    return con;\n+  }\n+\n+  public final void closeDB(Connection con, CallableStatement call, ResultSet rs) throws SQLException {\n+    //关闭结果集\n+    if (rs != null)\n+      rs.close();\n+    //关闭操作对象\n+    if (call != null)\n+      call.close();\n+    //关闭连接\n+    if (con != null)\n+      con.close();\n+  }\n+  public final void closeDB(Connection con, PreparedStatement ps, ResultSet rs) throws SQLException {\n+    //关闭结果集\n+    if (rs != null)\n+      rs.close();\n+    //关闭操作对象\n+    if (ps != null)\n+      ps.close();\n+    //关闭连接\n+    if (con != null)\n+      con.close();\n+  }\n+  public final void closeDB(Connection con, Statement stmt, ResultSet rs) throws SQLException {\n+    //关闭结果集\n+    if (rs != null)\n+      rs.close();\n+    //关闭操作对象\n+    if (stmt != null)\n+      stmt.close();\n+    //关闭连接\n+    if (con != null)\n+      con.close();\n+  }\n+}"
  }, {
    "sha" : "92d5a75de3fdc2f130805ab19986b051c8a395e3",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBeanInterface.java",
    "status" : "added",
    "additions" : 14,
    "deletions" : 0,
    "changes" : 14,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBeanInterface.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBeanInterface.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/MyJavaBeanInterface.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,14 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myJavaBeans;\n+\n+import java.sql.*;\n+\n+public interface MyJavaBeanInterface {\n+  public abstract String getGetSQL(int method);\n+  public abstract String getInsertSQL();\n+  public abstract String getDeleteSQL();\n+  //public abstract String getDoSQL(int method);\n+  public abstract Connection getDBConnection() throws InstantiationException, IllegalAccessException, ClassNotFoundException, SQLException;\n+  public abstract void closeDB(Connection con, CallableStatement call, ResultSet rs) throws SQLException;\n+  public abstract void closeDB(Connection con, PreparedStatement ps, ResultSet rs) throws SQLException;\n+  public abstract void closeDB(Connection con, Statement stmt, ResultSet rs) throws SQLException;\n+}"
  }, {
    "sha" : "ae815bcd827c8aefacc37e671f211ebba3e34d59",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Posts.java",
    "status" : "added",
    "additions" : 118,
    "deletions" : 0,
    "changes" : 118,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Posts.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Posts.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Posts.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,118 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myJavaBeans;\n+\n+import java.sql.*;\n+\n+//负责发帖、删帖、看帖操作的相关内容\n+public class Posts extends MyJavaBean{\n+  private int id;\n+  private int aid;\n+  private String title;\n+  private String text;\n+  private Date createDateTime;\n+  private int replyCount;   //回复数\n+  private String name;      //作者昵称\n+  public int getId() {\n+    return id;\n+  }\n+  public void setId(int id) {\n+    this.id = id;\n+  }\n+  public int getAid() {\n+    return aid;\n+  }\n+  public void setAid(int aid) {\n+    this.aid = aid;\n+  }\n+  public String getTitle() {\n+    return title;\n+  }\n+  public void setTitle(String title) {\n+    this.title = title;\n+  }\n+  public String getText() {\n+    return text;\n+  }\n+  public void setText(String text) {\n+    this.text = text;\n+  }\n+  public Date getCreateDateTime() {\n+    return createDateTime;\n+  }\n+  public void setCreateDateTime(Date createDateTime) {\n+    this.createDateTime = createDateTime;\n+  }\n+  public int getReplyCount() {\n+    return replyCount;\n+  }\n+  public void setReplyCount(int replyCount) {\n+    this.replyCount = replyCount;\n+  }\n+  public String getName() {\n+    return name;\n+  }\n+  public void setName(String name) {\n+    this.name = name;\n+  }\n+  @Override\n+  public String getGetSQL(int method) {\n+    switch (method) {\n+    case 0:\n+      in = new int[1];\n+      in[0] = 0;\n+      out = new int[7];\n+      out[0] = 0;\n+      out[1] = 1;\n+      out[2] = 2;\n+      out[3] = 3;\n+      out[4] = 4;\n+      out[5] = 5;\n+      out[6] = 6;\n+      return \"GetPosts @id=?\";\n+    case 1:\n+      in = null;\n+      out = new int[6];\n+      out[0] = 0;\n+      out[1] = 2;\n+      out[2] = 1;\n+      out[3] = 6;\n+      out[4] = 4;\n+      out[5] = 5;\n+      return \"GetAllPosts\";\n+    case 2:\n+      in = new int[1];\n+      in[0] = 1;\n+      out = new int[4];\n+      out[0] = 0;\n+      out[1] = 2;\n+      out[2] = 4;\n+      out[3] = 5;\n+      return \"GetSomePosts @aid=?\";\n+    }\n+    return null;\n+  }\n+  @Override\n+  public String getInsertSQL() {\n+    in = new int[3];\n+    in[0] = 1;\n+    in[1] = 2;\n+    in[2] = 3;\n+    return \"CreatePosts @aid=?,@title='?',@text='?'\";\n+  }\n+  @Override\n+  public String getDeleteSQL() {\n+    in = new int[1];\n+    in[0] = 0;\n+    return \"DeletePosts @id=?\";\n+  }\n+  @Override\n+  public String toString() {\n+    return \"{\" +\n+        \"\\\"id\\\" : \\\"\" + id + \"\\\", \" +\n+        \"\\\"aid\\\" : \\\"\" + aid + \"\\\", \" +\n+        \"\\\"title\\\" : \\\"\" + title + \"\\\", \" +\n+        \"\\\"text\\\" : \\\"\" + text + \"\\\", \" +\n+        \"\\\"createDateTime\\\" : \\\"\" + formatDT(createDateTime) + \"\\\", \" +\n+        \"\\\"name\\\" : \\\"\" + name + \"\\\", \" +\n+        \"\\\"replyCount\\\" : \\\"\" + replyCount + \"\\\"}\";\n+  }\n+}"
  }, {
    "sha" : "f5d2f4a01422048751013b888c4961d856b5ff40",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply1.java",
    "status" : "added",
    "additions" : 99,
    "deletions" : 0,
    "changes" : 99,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply1.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply1.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply1.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,99 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myJavaBeans;\n+\n+import java.sql.*;\n+\n+//负责回复帖子、删除1级回复、查看1级回复操作的相关内容\n+public class Reply1 extends MyJavaBean {\n+  private int id;\n+  private int aid;\n+  private int pid;\n+  private String text;\n+  private Date createDateTime;\n+  private String name;  //作者昵称\n+  public int getId() {\n+    return id;\n+  }\n+  public void setId(int id) {\n+    this.id = id;\n+  }\n+  public int getAid() {\n+    return aid;\n+  }\n+  public void setAid(int aid) {\n+    this.aid = aid;\n+  }\n+  public int getPid() {\n+    return pid;\n+  }\n+  public void setPid(int pid) {\n+    this.pid = pid;\n+  }\n+  public String getText() {\n+    return text;\n+  }\n+  public void setText(String text) {\n+    this.text = text;\n+  }\n+  public Date getCreateDateTime() {\n+    return createDateTime;\n+  }\n+  public void setCreateDateTime(Date createDateTime) {\n+    this.createDateTime = createDateTime;\n+  }\n+  public String getName() {\n+    return name;\n+  }\n+  public void setName(String name) {\n+    this.name = name;\n+  }\n+  @Override\n+  public String getGetSQL(int method) {\n+    switch (method) {\n+    case 0:\n+      in = new int[1];\n+      in[0] = 0;\n+      out = new int[5];\n+      out[0] = 0;\n+      out[1] = 1;\n+      out[2] = 2;\n+      out[3] = 3;\n+      out[4] = 4;\n+      return \"GetReply1 @id=?\";\n+    case 1:\n+      in = new int[1];\n+      in[0] = 2;\n+      out = new int[5];\n+      out[0] = 0;\n+      out[1] = 3;\n+      out[2] = 1;\n+      out[3] = 5;\n+      out[4] = 4;\n+      return \"GetSomeReply1 @pid=?\";\n+    }\n+    return null;\n+  }\n+  @Override\n+  public String getInsertSQL() {\n+    in = new int[3];\n+    in[0] = 1;\n+    in[1] = 2;\n+    in[2] = 3;\n+    return \"CreateReply1 @aid=?,@pid=?,@text='?'\";\n+  }\n+  @Override\n+  public String getDeleteSQL() {\n+    in = new int[1];\n+    in[0] = 0;\n+    return \"DeleteReply1 @id=?\";\n+  }\n+  @Override\n+  public String toString() {\n+    return \"{\" +\n+        \"\\\"id\\\" : \\\"\" + id + \"\\\", \" +\n+        \"\\\"aid\\\" : \\\"\" + aid + \"\\\", \" +\n+        \"\\\"pid\\\" : \\\"\" + pid + \"\\\", \" +\n+        \"\\\"text\\\" : \\\"\" + text + \"\\\", \" +\n+        \"\\\"createDateTime\\\" : \\\"\" + formatDT(createDateTime) + \"\\\", \" +\n+        \"\\\"name\\\" : \\\"\" + name + \"\\\"}\";\n+  }\n+}"
  }, {
    "sha" : "505d4ab43eec87a49b8b026a2bdcc9e86e1499f7",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply2.java",
    "status" : "added",
    "additions" : 99,
    "deletions" : 0,
    "changes" : 99,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply2.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply2.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myJavaBeans/Reply2.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,99 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myJavaBeans;\n+\n+import java.sql.*;\n+\n+//负责回复1级回复、删除2级回复、查看2级回复操作的相关内容\n+public class Reply2 extends MyJavaBean {\n+  private int id;\n+  private int aid;\n+  private int rid;\n+  private String text;\n+  private Date createDateTime;\n+  private String name;  //作者昵称\n+  public int getId() {\n+    return id;\n+  }\n+  public void setId(int id) {\n+    this.id = id;\n+  }\n+  public int getAid() {\n+    return aid;\n+  }\n+  public void setAid(int aid) {\n+    this.aid = aid;\n+  }\n+  public int getRid() {\n+    return rid;\n+  }\n+  public void setRid(int rid) {\n+    this.rid = rid;\n+  }\n+  public String getText() {\n+    return text;\n+  }\n+  public void setText(String text) {\n+    this.text = text;\n+  }\n+  public Date getCreateDateTime() {\n+    return createDateTime;\n+  }\n+  public void setCreateDateTime(Date createDateTime) {\n+    this.createDateTime = createDateTime;\n+  }\n+  public String getName() {\n+    return name;\n+  }\n+  public void setName(String name) {\n+    this.name = name;\n+  }\n+  @Override\n+  public String getGetSQL(int method) {\n+    switch (method) {\n+    case 0:\n+      in = new int[1];\n+      in[0] = 0;\n+      out = new int[5];\n+      out[0] = 0;\n+      out[1] = 1;\n+      out[2] = 2;\n+      out[3] = 3;\n+      out[4] = 4;\n+      return \"GetReply2 @id=?\";\n+    case 1:\n+      in = new int[1];\n+      in[0] = 2;\n+      out = new int[5];\n+      out[0] = 0;\n+      out[1] = 3;\n+      out[2] = 1;\n+      out[3] = 5;\n+      out[4] = 4;\n+      return \"GetSomeReply2 @rid=?\";\n+    }\n+    return null;\n+  }\n+  @Override\n+  public String getInsertSQL() {\n+    in = new int[3];\n+    in[0] = 1;\n+    in[1] = 2;\n+    in[2] = 3;\n+    return \"CreateReply2 @aid=?,@rid=?,@text='?'\";\n+  }\n+  @Override\n+  public String getDeleteSQL() {\n+    in = new int[1];\n+    in[0] = 0;\n+    return \"DeleteReply2 @id=?\";\n+  }\n+  @Override\n+  public String toString() {\n+    return \"{\" +\n+        \"\\\"id\\\" : \\\"\" + id + \"\\\", \" +\n+        \"\\\"aid\\\" : \\\"\" + aid + \"\\\", \" +\n+        \"\\\"rid\\\" : \\\"\" + rid + \"\\\", \" +\n+        \"\\\"text\\\" : \\\"\" + text + \"\\\", \" +\n+        \"\\\"createDateTime\\\" : \\\"\" + formatDT(createDateTime) + \"\\\", \" +\n+        \"\\\"name\\\" : \\\"\" + name + \"\\\"}\";\n+  }\n+}"
  }, {
    "sha" : "cfca22d373b2ee4916aa30a5d8c51d06eff7153f",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/GetReply2.java",
    "status" : "added",
    "additions" : 43,
    "deletions" : 0,
    "changes" : 43,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/GetReply2.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/GetReply2.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/GetReply2.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,43 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/getReply2\")\n+public class GetReply2 extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  //负责获取、返回2级回复\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    //获取数据\n+    int rid = Integer.parseInt((String) session.getAttribute(\"rid\"));\n+    session.removeAttribute(\"rid\");\n+    //组装数据\n+    Reply2 param = new Reply2();\n+    param.setRid(rid);\n+    //使用DAO获取2级回复\n+    MyDAO<Reply2> dao = new MyDAO<Reply2>(Reply2.class);\n+    Vector<Reply2> result = null;\n+    PrintWriter out = response.getWriter();\n+    try {\n+      result = dao.get(1, param);\n+      String s = result.toString();\n+      //返回2级回复\n+      out.print(s);\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    }\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+  }\n+}"
  }, {
    "sha" : "e5bf791d2e1e79463ae3354c1165b68e986a7745",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Login.java",
    "status" : "added",
    "additions" : 86,
    "deletions" : 0,
    "changes" : 86,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Login.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Login.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Login.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,86 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.*;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;;\n+\n+@WebServlet(\"/login\")\n+public class Login extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  public Login() {\n+    super();\n+  }\n+\n+  public void destroy() {\n+    super.destroy();\n+  }\n+\n+  //负责退出操作\n+  public void doGet(HttpServletRequest request, HttpServletResponse response)\n+      throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    //获取参数\n+    String out = (String) session.getAttribute(\"out\");\n+    session.removeAttribute(\"out\");\n+    //存在参数out表示是退出请求\n+    if (out != null) {\n+      //移除已登录的标记\n+      session.removeAttribute(\"hasLogined\");\n+      //移除登录信息\n+      session.removeAttribute(\"account\");\n+    }\n+    //跳转到index.jsp\n+    response.sendRedirect(\"./\");\n+  }\n+\n+  //负责登录操作\n+  public void doPost(HttpServletRequest request, HttpServletResponse response)\n+      throws ServletException, IOException {\n+\n+    HttpSession session = request.getSession();\n+    //获取参数——用户名、密码\n+    String username = (String) session.getAttribute(\"username\");\n+    session.removeAttribute(\"username\");\n+    String password = (String) session.getAttribute(\"password\");\n+    session.removeAttribute(\"password\");\n+\n+    //使用MyDAO进行检查\n+\n+    //创建DAO实例\n+    MyDAOInterface<Account> dao = new MyDAO<Account>(Account.class);\n+    //获取输入数据\n+    Account current = new Account();\n+    current.setUsername(username);\n+    current.setPassword(password);\n+    //使用DAO执行检查\n+    Vector<Account> result;\n+    PrintWriter out = response.getWriter();\n+    try {\n+      result = dao.get(0, current);\n+      result.get(0).setUsername(username);\n+      //没有抛出则一定正确\n+      //设置标记\n+      session.setAttribute(\"hasLogined\", true);\n+      //写入登录信息\n+      session.setAttribute(\"account\", result.get(0));\n+      //返回成功消息\n+      out.print(\"success\");\n+    } catch (SQLException e) {\n+      //关闭原来的数据库连接\n+      dao.CloseDB();\n+      //返回错误消息\n+      out.print(e.getMessage());\n+    }\n+  }\n+\n+  public void init() throws ServletException {\n+  }\n+}"
  }, {
    "sha" : "4c3ebf206b01a50c5b6e4fd6a07d5cee533ebde6",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewPosts.java",
    "status" : "added",
    "additions" : 45,
    "deletions" : 0,
    "changes" : 45,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewPosts.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewPosts.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewPosts.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,45 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/newPosts\")\n+public class NewPosts extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    PrintWriter out = response.getWriter();\n+    //获取标题、内容\n+    String title = (String) session.getAttribute(\"title\");\n+    session.removeAttribute(\"title\");\n+    String text = (String) session.getAttribute(\"text\");\n+    session.removeAttribute(\"text\");\n+    //获取发帖账户ID\n+    int aid = ((Account) session.getAttribute(\"account\")).getId();\n+    //组装数据\n+    Posts New = new Posts();\n+    New.setAid(aid);\n+    New.setTitle(title);\n+    New.setText(text);\n+    //使用DAO写入新帖\n+    MyDAO<Posts> dao = new MyDAO<Posts>(Posts.class);\n+    try {\n+      dao.Insert(New);\n+      out.print(\"success\");\n+    } catch (SQLException e) {\n+      out.print(e.getMessage());\n+    }\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    doGet(request, response);\n+  }\n+}"
  }, {
    "sha" : "01c7b01e4f88ab1ebe7d4b328bc943c3776a7a2b",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply1.java",
    "status" : "added",
    "additions" : 46,
    "deletions" : 0,
    "changes" : 46,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply1.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply1.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply1.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,46 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.IOException;\n+import java.sql.SQLException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/reply1\")\n+public class NewReply1 extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  //负责处理1级回复\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    //获取发表回复账户的ID\n+    int aid = ((Account) session.getAttribute(\"account\")).getId();\n+    //获取所回复的帖子的ID\n+    int pid = Integer.parseInt((String) session.getAttribute(\"pid\"));\n+    //获取1级回复的内容\n+    String text = (String) session.getAttribute(\"text\");\n+    session.removeAttribute(\"text\");\n+    //组装新回复对象\n+    Reply1 item = new Reply1();\n+    item.setAid(aid);\n+    item.setPid(pid);\n+    item.setText(text);\n+    //使用DAO插入新回复\n+    MyDAO<Reply1> dao = new MyDAO<Reply1>(Reply1.class);\n+    try {\n+      dao.Insert(item);\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    }\n+    //跳转回刚才的帖子页面\n+    response.sendRedirect(\"./display.jsp?id=\" + pid);\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    doGet(request, response);\n+  }\n+}"
  }, {
    "sha" : "43b01537a58864eedf039126e35fe6f9bf68f9fe",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply2.java",
    "status" : "added",
    "additions" : 46,
    "deletions" : 0,
    "changes" : 46,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply2.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply2.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/NewReply2.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,46 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+\n+import javax.servlet.*;\n+import javax.servlet.http.*;\n+import javax.servlet.annotation.WebServlet;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/reply2\")\n+public class NewReply2 extends HttpServlet implements Servlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  //负责处理2级回复\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    //获取数据\n+    int aid = ((Account) session.getAttribute(\"account\")).getId();\n+    int rid = Integer.parseInt((String) session.getAttribute(\"rid\"));\n+    session.removeAttribute(\"rid\");\n+    String text = (String) session.getAttribute(\"text\");\n+    session.removeAttribute(\"text\");\n+    //组装数据\n+    Reply2 item = new Reply2();\n+    item.setAid(aid);\n+    item.setRid(rid);\n+    item.setText(text);\n+    //使用DAO插入2级回复\n+    MyDAO<Reply2> dao = new MyDAO<Reply2>(Reply2.class);\n+    try {\n+      dao.Insert(item);\n+    } catch (SQLException e) {\n+      e.printStackTrace();\n+    }\n+    //返回结果\n+    PrintWriter out = response.getWriter();\n+    out.print(\"success\");\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    doGet(request, response);\n+  }\n+}"
  }, {
    "sha" : "0b8141376d42372392ed0631471bdd5cedcb8314",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Register.java",
    "status" : "added",
    "additions" : 54,
    "deletions" : 0,
    "changes" : 54,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Register.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Register.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/Register.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,54 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.sql.SQLException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/register\")\n+public class Register extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  public Register() {\n+    super();\n+  }\n+\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    //获取提交的数据\n+    String username = (String) session.getAttribute(\"username\");\n+    session.removeAttribute(\"username\");\n+    String password = (String) session.getAttribute(\"password\");\n+    session.removeAttribute(\"password\");\n+    String name = (String) session.getAttribute(\"name\");\n+    session.removeAttribute(\"name\");\n+    //写入JavaBean\n+    Account New = new Account();\n+    New.setUsername(username);\n+    New.setPassword(password);\n+    New.setName(name);\n+    //使用DAO注册\n+    MyDAO<Account> dao = new MyDAO<Account>(Account.class);\n+    PrintWriter out = response.getWriter();\n+    try {\n+      //执行注册操作\n+      dao.Insert(New);\n+      //返回成功消息\n+      out.print(\"success\");\n+    } catch (SQLException e) {\n+      //关闭原来的数据库连接\n+      dao.CloseDB();\n+      //返回错误消息\n+      out.print(e.getMessage());\n+    }\n+  }\n+}"
  }, {
    "sha" : "4c0b9f8e1f79aff9fceb8198aeb7c689f74387b8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveAccount.java",
    "status" : "added",
    "additions" : 48,
    "deletions" : 0,
    "changes" : 48,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveAccount.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveAccount.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveAccount.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,48 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/removeAccount\")\n+public class RemoveAccount extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    PrintWriter out = response.getWriter();\n+    //获取数据\n+    String username = (String) session.getAttribute(\"username\");\n+    session.removeAttribute(\"username\");\n+    String susn = ((Account) session.getAttribute(\"account\")).getUsername();\n+    //判断是否是本账户的操作\n+    if (!susn.equals(username)) {\n+      out.print(\"无法注销其他人的账户！\");\n+      return;\n+    }\n+    //组装数据\n+    Account item = new Account();\n+    item.setUsername(username);\n+    //使用DAO删除账户\n+    MyDAO<Account> dao = new MyDAO<Account>(Account.class);\n+    try {\n+      dao.Remove(item);\n+      //同时准备退出\n+      session.removeAttribute(\"account\");\n+      session.removeAttribute(\"hasLogined\");\n+      out.print(\"success\");\n+    } catch (SQLException e) {\n+      out.print(e.getMessage());\n+    }\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    doGet(request, response);\n+  }\n+}"
  }, {
    "sha" : "446fd9742409020bdacf4f84c7f9230bf1f2c1a0",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemovePosts.java",
    "status" : "added",
    "additions" : 49,
    "deletions" : 0,
    "changes" : 49,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemovePosts.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemovePosts.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemovePosts.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,49 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/removePosts\")\n+public class RemovePosts extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    PrintWriter out = response.getWriter();\n+    //获取数据\n+    int aid = ((Account) session.getAttribute(\"account\")).getId();\n+    int id = Integer.parseInt((String) session.getAttribute(\"id\"));\n+    session.removeAttribute(\"id\");\n+    //组装数据\n+    Posts item = new Posts();\n+    item.setId(id);\n+    //使用DAO\n+    MyDAO<Posts> dao = new MyDAO<Posts>(Posts.class);\n+    Vector<Posts> result = null;\n+    try {\n+      //判断是否可以删帖\n+      result = dao.get(0, item);\n+      if (result.get(0).getAid() != aid) {\n+        out.print(\"无法删除非本账号的帖子！\");\n+        return;\n+      }\n+      //删帖\n+      dao.Remove(item);\n+      out.print(\"success\");\n+    } catch (SQLException e) {\n+      out.print(e.getMessage());\n+    }\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    doGet(request, response);\n+  }\n+}"
  }, {
    "sha" : "4cd61998d2758f4efd1e42798fdbc5fce0bf06d8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply1.java",
    "status" : "added",
    "additions" : 49,
    "deletions" : 0,
    "changes" : 49,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply1.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply1.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply1.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,49 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/removeReply1\")\n+public class RemoveReply1 extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    PrintWriter out = response.getWriter();\n+    //获取数据\n+    int aid = ((Account) session.getAttribute(\"account\")).getId();\n+    int id = Integer.parseInt((String) session.getAttribute(\"id\"));\n+    session.removeAttribute(\"id\");\n+    //组装数据\n+    Reply1 item = new Reply1();\n+    item.setId(id);\n+    //使用DAO\n+    MyDAO<Reply1> dao = new MyDAO<Reply1>(Reply1.class);\n+    Vector<Reply1> result = null;\n+    try {\n+      //判断是否可以删帖\n+      result = dao.get(0, item);\n+      if (result.get(0).getAid() != aid) {\n+        out.print(\"无法删除非本账号的回复！\");\n+        return;\n+      }\n+      //删除回复\n+      dao.Remove(item);\n+      out.print(\"success\");\n+    } catch (SQLException e) {\n+      out.print(e.getMessage());\n+    }\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    doGet(request, response);\n+  }\n+}"
  }, {
    "sha" : "16f672fbfb42ef090f37de76b773563f9023cf59",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply2.java",
    "status" : "added",
    "additions" : 49,
    "deletions" : 0,
    "changes" : 49,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply2.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply2.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902106/myServlets/RemoveReply2.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,49 @@\n+package edu.hzu.javaweb.labs.se1414080902106.myServlets;\n+\n+import java.io.*;\n+import java.sql.SQLException;\n+import java.util.Vector;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.*;\n+\n+import edu.hzu.javaweb.labs.se1414080902106.MyDAO;\n+import edu.hzu.javaweb.labs.se1414080902106.myJavaBeans.*;\n+\n+@WebServlet(\"/removeReply2\")\n+public class RemoveReply2 extends HttpServlet {\n+  private static final long serialVersionUID = 1L;\n+\n+  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    HttpSession session = request.getSession();\n+    PrintWriter out = response.getWriter();\n+    //获取数据\n+    int aid = ((Account) session.getAttribute(\"account\")).getId();\n+    int id = Integer.parseInt((String) session.getAttribute(\"id\"));\n+    session.removeAttribute(\"id\");\n+    //组装数据\n+    Reply2 item = new Reply2();\n+    item.setId(id);\n+    //使用DAO\n+    MyDAO<Reply2> dao = new MyDAO<Reply2>(Reply2.class);\n+    Vector<Reply2> result = null;\n+    try {\n+      //判断是否可以删帖\n+      result = dao.get(0, item);\n+      if (result.get(0).getAid() != aid) {\n+        out.print(\"无法删除非本账号的回复！\");\n+        return;\n+      }\n+      //删除回复\n+      dao.Remove(item);\n+      out.print(\"success\");\n+    } catch (SQLException e) {\n+      out.print(e.getMessage());\n+    }\n+  }\n+\n+  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+    doGet(request, response);\n+  }\n+}"
  }, {
    "sha" : "63fc76ed5fa77aed14a212978512f29812aa685b",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902107/Se1414080902107Servlet.java",
    "status" : "added",
    "additions" : 74,
    "deletions" : 0,
    "changes" : 74,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902107/Se1414080902107Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902107/Se1414080902107Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902107/Se1414080902107Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,74 @@\n+package edu.hzu.javaweb.labs.se1414080902107;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet implementation class Se1414080902107\n+ */\n+@WebServlet(\"/Se1414080902107\")\n+public class Se1414080902107Servlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public Se1414080902107Servlet() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t\tresponse.setContentType(\"text/html;charset=UTF-8\");\n+\t\t\n+\t\tString name =new String(request.getParameter(\"name\").getBytes(\"ISO8859-1\"),\"UTF-8\");\n+\t\tString phone =new String(request.getParameter(\"phone\").getBytes(\"ISO8859-1\"),\"UTF-8\");\n+\t\tString position = new String(request.getParameter(\"position\").getBytes(\"ISO8859-1\"),\"UTF-8\");\n+\t\tString description = new String(request.getParameter(\"description\").getBytes(\"ISO8859-1\"),\"UTF-8\");\n+\t\t\n+\t\tPrintWriter out = response.getWriter();\n+\t\t\n+\t\tString docType = \"<!DOCTYPE html> \\n\";\n+\t\tout.println(docType +\n+\t\t    \"<html>\\n\" +\n+\t\t    \"<head><meta charset=\\\"utf-8\\\"><title>确认报修信息</title></head>\\n\" +\n+\t\t    \"<body bgcolor=\\\"#f0f0f0\\\">\\n\" +\n+\t\t    \"<h1 align=\\\"center\\\">\" + \"报修单信息：\" + \"</h1>\\n\" +\n+\t\t    \"<ul>\\n\" +\n+\t\t    \"  <li><b>姓名：</b>\"\n+\t\t    + name + \"\\n\" +\n+\t\t    \"  <li><b>电话：</b>\"\n+\t\t    + phone + \"\\n\" +\n+\t\t    \"  <li><b>地点：</b>\"\n+\t\t    + position + \"\\n\" +\n+\t\t    \"  <li><b>详情：</b>\"\n+\t\t    + description + \"\\n\" +\n+\t\t    \"</ul>\\n\" +\n+\t\t    \"<div align=\\\"center\\\">\"+\n+\t\t    \"<button type=\\\"submit\\\" >确认</button> \"+\n+\t\t    \"<button type=\\\"submit\\\" >返回</button>\"+\n+\t\t    \"</div>\"+\n+\t\t    \"</body></html>\");\n+\t\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\tdoGet(request, response);\n+\t}\n+\n+}"
  }, {
    "sha" : "17b2d91457130c69d15e1453ecb026214042400f",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902108/DbConnect.java",
    "status" : "added",
    "additions" : 42,
    "deletions" : 0,
    "changes" : 42,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/DbConnect.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/DbConnect.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902108/DbConnect.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,42 @@\n+package edu.hzu.javaweb.labs.se1414080902108;\n+\n+import java.sql.Connection;\n+import java.sql.DriverManager;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+\n+public class DbConnect {\n+\tprivate static String driverName = \"com.mysql.jdbc.Driver\";\n+\tprivate static String userName = \"root\";\n+\tprivate static String userPwd = \"\";\n+\tprivate static String dbName = \"jweb\";\n+\n+\tpublic static Connection getDBconnection() {\n+\t\tString url1 = \"jdbc:mysql://localhost:3306/\" + dbName;\n+\t\tString url2 = \"?user=\" + userName + \"&password=\" + userPwd;\n+\t\tString url3 = \"&useUnicode=true&characterEncoding=utf-8&useSSL=false\";\n+\t\tString url = url1 + url2 + url3;\n+\t\ttry {\n+\t\t\tClass.forName(driverName);\n+\t\t\tConnection conn = DriverManager.getConnection(url);\n+\t\t\treturn conn;\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn null;\n+\t}\n+\n+\tpublic static void closeDB(Connection con, PreparedStatement pstm,\n+\t\t\tResultSet rs) {\n+\t\ttry {\n+\t\t\tif (rs != null)\n+\t\t\t\trs.close();\n+\t\t\tif (pstm != null)\n+\t\t\t\tpstm.close();\n+\t\t\tif (con != null)\n+\t\t\t\tcon.close();\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t}\n+}"
  }, {
    "sha" : "3e0b1c6f3aa7e299ac5d0ca5ed60fd0b8b0ad076",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902108/Do1414080902108.java",
    "status" : "added",
    "additions" : 97,
    "deletions" : 0,
    "changes" : 97,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/Do1414080902108.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/Do1414080902108.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902108/Do1414080902108.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,97 @@\n+package edu.hzu.javaweb.labs.se1414080902108;\n+\n+import java.io.IOException;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet implementation class Do1414080902108\n+ */\n+@WebServlet(\"/1414080902108\")\n+public class Do1414080902108 extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\t/**\n+\t * @see HttpServlet#HttpServlet()\n+\t */\n+\tpublic Do1414080902108() {\n+\t\tsuper();\n+\t\t// TODO Auto-generated constructor stub\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse\n+\t *      response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request,\n+\t\t\tHttpServletResponse response) throws ServletException, IOException {\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tHttpSession session = request.getSession();\n+\t\tString subject = (String) session.getAttribute(\"subject\");\n+\t\tString name = (String) session.getAttribute(\"name\");\n+\t\tint grade = 0;\n+\t\tQuestion que = new Question();\n+\t\tque.setSubject(subject);\n+\t\tQuestionDAO dao = new QuestionDAO();\n+\t\tList<Question> questionlist = new ArrayList<Question>();\n+\t\ttry {\n+\t\t\tquestionlist = dao.findExam(que);\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\tfor (int i = 1; i <= questionlist.size(); i++) {\n+\t\t\tString answer = \"answer\" + i ;\n+\t\t\tanswer = request.getParameter(answer);\n+\t\t\tif (answer.equals(questionlist.get(i-1).getAnswer())) {\n+\t\t\t\tgrade += 10;\n+\t\t\t}\n+\t\t}\n+\t\ttry {\n+\t\t\tint a = dao.createGrade(subject, name, grade);\n+\t\t\trequest.setAttribute(\"name\", name);\n+\t\t\tif(a>=1){\n+\t\t\t\trequest.setAttribute(\"Message\", \"提交成功，您的成绩为：\");\n+\t\t\t}else{\n+\t\t\t\tgrade = dao.select(name, subject);\n+\t\t\t\trequest.setAttribute(\"Message\", \"提交失败，您已经参加过考试！\");\n+\t\t\t}\n+\t\t\trequest.setAttribute(\"grade\", grade);\n+\t\t\trequest.getRequestDispatcher(\"/result.jsp\").forward(request, response);\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\t\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse\n+\t *      response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request,\n+\t\t\tHttpServletResponse response) throws ServletException, IOException {\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tHttpSession session = request.getSession();\n+\t\tString subject = request.getParameter(\"select\");\n+\t\tsession.setAttribute(\"subject\", subject);\n+\t\tQuestion que = new Question();\n+\t\tque.setSubject(subject);\n+\t\tQuestionDAO dao = new QuestionDAO();\n+\t\tList<Question> questionlist = new ArrayList<Question>();\n+\t\ttry {\n+\t\t\tquestionlist = dao.findExam(que);\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\trequest.setAttribute(\"Message\", subject);\n+\t\trequest.setAttribute(\"result\", questionlist);\n+\t\trequest.getRequestDispatcher(\"/exam.jsp\").forward(request, response);\n+\t}\n+\n+}"
  }, {
    "sha" : "b3c39c6f603963647bdc072d8388ea2cb81eb6b2",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902108/EncodingFilter.java",
    "status" : "added",
    "additions" : 57,
    "deletions" : 0,
    "changes" : 57,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902108/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,57 @@\n+package edu.hzu.javaweb.labs.se1414080902108;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+/**\n+ * Servlet Filter implementation class EncodingFilter\n+ */\n+@WebFilter(\"/1414080902108\")\n+public class EncodingFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+\tprivate String encoding = null;   \n+\t\n+\tprivate String getEncoding() {   \n+        return this.encoding;   \n+     }   \n+\t\n+    public EncodingFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\tencoding = null;   \n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t String encoding = getEncoding();   \n+\t        if (encoding == null){   \n+\t             encoding = \"UTF-8\";   \n+\t         }   \n+\t         request.setCharacterEncoding(encoding);\n+\t         chain.doFilter(request, response);   \n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\tthis.encoding = fConfig.getInitParameter(\"encoding\");   \n+\t}\n+\n+}"
  }, {
    "sha" : "5dff9048958e9e0156b8312fc82ee1116035575c",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902108/Question.java",
    "status" : "added",
    "additions" : 86,
    "deletions" : 0,
    "changes" : 86,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/Question.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/Question.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902108/Question.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,86 @@\n+package edu.hzu.javaweb.labs.se1414080902108;\n+\n+public class Question {\n+\tprivate String subject, question, answer1, answer2, answer3, answer4,\n+\t\t\tanswer;\n+\tprivate int num;\n+\n+\tpublic int getNum() {\n+\t\treturn num;\n+\t}\n+\n+\tpublic void setNum(int num) {\n+\t\tthis.num = num;\n+\t}\n+\n+\tpublic Question(){\n+\t\t\n+\t}\n+\tpublic Question(String subject, String question, String answer1,\n+\t\t\tString answer2, String answer3, String answer4, String answer,int num) {\n+\t\tthis.subject = subject;\n+\t\tthis.question = question;\n+\t\tthis.answer1 = answer1;\n+\t\tthis.answer2 = answer2;\n+\t\tthis.answer3 = answer3;\n+\t\tthis.answer4 = answer4;\n+\t\tthis.answer = answer;\n+\t\tthis.num = num;\n+\t}\n+\n+\tpublic String getSubject() {\n+\t\treturn subject;\n+\t}\n+\n+\tpublic void setSubject(String subject) {\n+\t\tthis.subject = subject;\n+\t}\n+\n+\tpublic String getQuestion() {\n+\t\treturn question;\n+\t}\n+\n+\tpublic void setQuestion(String question) {\n+\t\tthis.question = question;\n+\t}\n+\n+\tpublic String getAnswer1() {\n+\t\treturn answer1;\n+\t}\n+\n+\tpublic void setAnswer1(String answer1) {\n+\t\tthis.answer1 = answer1;\n+\t}\n+\n+\tpublic String getAnswer2() {\n+\t\treturn answer2;\n+\t}\n+\n+\tpublic void setAnswer2(String answer2) {\n+\t\tthis.answer2 = answer2;\n+\t}\n+\n+\tpublic String getAnswer3() {\n+\t\treturn answer3;\n+\t}\n+\n+\tpublic void setAnswer3(String answer3) {\n+\t\tthis.answer3 = answer3;\n+\t}\n+\n+\tpublic String getAnswer4() {\n+\t\treturn answer4;\n+\t}\n+\n+\tpublic void setAnswer4(String answer4) {\n+\t\tthis.answer4 = answer4;\n+\t}\n+\n+\tpublic String getAnswer() {\n+\t\treturn answer;\n+\t}\n+\n+\tpublic void setAnswer(String answer) {\n+\t\tthis.answer = answer;\n+\t}\n+}"
  }, {
    "sha" : "a3a71b55c53d33f112a61ad36b038fbd89312e73",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902108/QuestionDAO.java",
    "status" : "added",
    "additions" : 165,
    "deletions" : 0,
    "changes" : 165,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/QuestionDAO.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/QuestionDAO.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902108/QuestionDAO.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,165 @@\n+package edu.hzu.javaweb.labs.se1414080902108;\n+\n+import java.sql.Connection;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+public class QuestionDAO {\n+\tprotected static final String FIELDS_INSERT = \"subject,question,answer1,answer2,answer3,answer4,answer\";\n+\tprotected static String INSERT_SQL = \"insert into question_info(\"\n+\t\t\t+ FIELDS_INSERT + \")\" + \"values(?,?,?,?,?,?,?)\";\n+\tprotected static String SELECT_ALL_SQL = \"select * from question_info\";\n+\tprotected static String SELECT_SUBJECT_SQL = \"select * from subject_info\";\n+\tprotected static String SELECT_EXAM_SQL = \"select * from question_info where subject = ?\";\n+\tprotected static String INSERT_GRADE_SQL = \"insert into grade(\"\n+\t\t\t+ \"id,subject,name,grade\" + \")\" + \"values(?,?,?,?)\";\n+\tprotected static String SELECT_GRADE_SQL = \"select * from grade where name = ? and subject = ?\";\n+\t\n+\tpublic int create(Question que) throws Exception {\n+\t\tConnection con = null;\n+\t\tPreparedStatement pstmt = null;\n+\t\tResultSet rs = null;\n+\t\tint n = -1;\n+\t\ttry {\n+\t\t\tcon = DbConnect.getDBconnection();\n+\t\t\tpstmt = con.prepareStatement(INSERT_SQL);\n+\t\t\tpstmt.setString(1, que.getSubject());\n+\t\t\tpstmt.setString(2, que.getQuestion());\n+\t\t\tpstmt.setString(3, que.getAnswer1());\n+\t\t\tpstmt.setString(4, que.getAnswer2());\n+\t\t\tpstmt.setString(5, que.getAnswer3());\n+\t\t\tpstmt.setString(6, que.getAnswer4());\n+\t\t\tpstmt.setString(7, que.getAnswer());\n+\t\t\tn = pstmt.executeUpdate();\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t} finally {\n+\t\t\tDbConnect.closeDB(con, pstmt, rs);\n+\t\t}\n+\t\treturn n;\n+\t}\n+\n+\tpublic List<Question> findAll() throws Exception {\n+\t\tConnection con = null;\n+\t\tPreparedStatement pstm = null;\n+\t\tResultSet rs = null;\n+\t\tList<Question> question = new ArrayList<Question>();\n+\t\ttry {\n+\t\t\tcon = DbConnect.getDBconnection();\n+\t\t\tpstm = con.prepareStatement(SELECT_ALL_SQL);\n+\t\t\trs = pstm.executeQuery();\n+\t\t\twhile (rs.next()) {\n+\t\t\t\tQuestion que = new Question();\n+\t\t\t\tque.setSubject(rs.getString(1));\n+\t\t\t\tque.setQuestion(rs.getString(2));\n+\t\t\t\tque.setAnswer1(rs.getString(3));\n+\t\t\t\tque.setAnswer2(rs.getString(4));\n+\t\t\t\tque.setAnswer3(rs.getString(5));\n+\t\t\t\tque.setAnswer4(rs.getString(6));\n+\t\t\t\tque.setAnswer(rs.getString(7));\n+\t\t\t\tquestion.add(que);\n+\t\t\t}\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t} finally {\n+\t\t\tDbConnect.closeDB(con, pstm, rs);\n+\t\t}\n+\t\treturn question;\n+\t}\n+\t\n+\tpublic List<Question> findSubject() throws Exception {\n+\t\tConnection con = null;\n+\t\tPreparedStatement pstm = null;\n+\t\tResultSet rs = null;\n+\t\tList<Question> question = new ArrayList<Question>();\n+\t\ttry {\n+\t\t\tcon = DbConnect.getDBconnection();\n+\t\t\tpstm = con.prepareStatement(SELECT_SUBJECT_SQL);\n+\t\t\trs = pstm.executeQuery();\n+\t\t\twhile (rs.next()) {\n+\t\t\t\tQuestion que = new Question();\n+\t\t\t\tque.setSubject(rs.getString(2));\n+\t\t\t\tquestion.add(que);\n+\t\t\t}\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t} finally {\n+\t\t\tDbConnect.closeDB(con, pstm, rs);\n+\t\t}\n+\t\treturn question;\n+\t}\n+\t\n+\tpublic List<Question> findExam(Question que) throws Exception {\n+\t\tConnection con = null;\n+\t\tPreparedStatement pstm = null;\n+\t\tResultSet rs = null;\n+\t\tList<Question> question = new ArrayList<Question>();\n+\t\ttry {\n+\t\t\tcon = DbConnect.getDBconnection();\n+\t\t\tpstm = con.prepareStatement(SELECT_EXAM_SQL);\n+\t\t\tpstm.setString(1, que.getSubject());\n+\t\t\trs = pstm.executeQuery();\n+\t\t\twhile (rs.next()) {\n+\t\t\t\tQuestion que2 = new Question();\n+\t\t\t\tque2.setQuestion(rs.getString(2));\n+\t\t\t\tque2.setAnswer1(rs.getString(3));\n+\t\t\t\tque2.setAnswer2(rs.getString(4));\n+\t\t\t\tque2.setAnswer3(rs.getString(5));\n+\t\t\t\tque2.setAnswer4(rs.getString(6));\n+\t\t\t\tque2.setAnswer(rs.getString(7));\n+\t\t\t\tquestion.add(que2);\n+\t\t\t}\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t} finally {\n+\t\t\tDbConnect.closeDB(con, pstm, rs);\n+\t\t}\n+\t\treturn question;\n+\t}\n+\t\n+\tpublic int createGrade(String subject,String name,int Grade)throws Exception{\n+\t\tConnection con = null;\n+\t\tPreparedStatement pstmt = null;\n+\t\tResultSet rs = null;\n+\t\tint n = -1;\n+\t\ttry {\n+\t\t\tcon = DbConnect.getDBconnection();\n+\t\t\tpstmt = con.prepareStatement(INSERT_GRADE_SQL);\n+\t\t\tpstmt.setInt(1, 1);\n+\t\t\tpstmt.setString(2, subject);\n+\t\t\tpstmt.setString(3, name);\n+\t\t\tpstmt.setInt(4, Grade);\n+\t\t\tn = pstmt.executeUpdate();\n+\t\t} catch (Exception e) {\n+\t\t\t\n+\t\t} finally {\n+\t\t\tDbConnect.closeDB(con, pstmt, rs);\n+\t\t}\n+\t\treturn n;\n+\t}\n+\t\n+\tpublic int select(String name,String subject) throws Exception {\n+\t\tConnection con = null;\n+\t\tPreparedStatement pstmt = null;\n+\t\tResultSet rs = null;\n+\t\tint grade = 0;\n+\t\ttry {\n+\t\t\tcon = DbConnect.getDBconnection();\n+\t\t\tpstmt = con.prepareStatement(SELECT_GRADE_SQL);\n+\t\t\tpstmt.setString(1, name);\n+\t\t\tpstmt.setString(2, subject);\n+            rs = pstmt.executeQuery();\n+            while(rs.next()){\n+            \tgrade = rs.getInt(4);\n+            }\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t} finally {\n+\t\t\tDbConnect.closeDB(con, pstmt, rs);\n+\t\t}\n+\t\t\n+\t\treturn grade;\n+\t}\n+}"
  }, {
    "sha" : "a54c41303e3f012596d7db2b15db28dc584823ad",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902108/Se1414080902108Servlet.java",
    "status" : "added",
    "additions" : 85,
    "deletions" : 0,
    "changes" : 85,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/Se1414080902108Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/Se1414080902108Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902108/Se1414080902108Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,85 @@\n+package edu.hzu.javaweb.labs.se1414080902108;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.*;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet implementation class Se1414080902108Servlet\n+ */\n+@WebServlet(\"/1414080902108\")\n+public class Se1414080902108Servlet extends HttpServlet {\n+\t/**\n+\t * @see HttpServlet#HttpServlet()\n+\t */\n+\tpublic Se1414080902108Servlet() {\n+\t\tsuper();\n+\t\t// TODO Auto-generated constructor stub\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse\n+\t *      response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request,\n+\t\t\tHttpServletResponse response) throws ServletException, IOException {\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tQuestionDAO dao = new QuestionDAO();\n+\t\tList<Question> questionlist = new ArrayList<Question>();\n+\t\ttry {\n+\t\t\tquestionlist = dao.findAll();\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\trequest.setAttribute(\"Message\", \"查看所有题目\");\n+\t\trequest.setAttribute(\"result\", questionlist);\n+\t\trequest.getRequestDispatcher(\"/show.jsp\").forward(request, response);\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse\n+\t *      response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request,\n+\t\t\tHttpServletResponse response) throws ServletException, IOException {\n+\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tString subject = request.getParameter(\"subject\");\n+\t\tString question = request.getParameter(\"question\");\n+\t\tString answer1 = request.getParameter(\"answer1\");\n+\t\tString answer2 = request.getParameter(\"answer2\");\n+\t\tString answer3 = request.getParameter(\"answer3\");\n+\t\tString answer4 = request.getParameter(\"answer4\");\n+\t\tString answer = request.getParameter(\"answer\");\n+\n+\t\tQuestion que = new Question(subject, question, answer1, answer2,\n+\t\t\t\tanswer3, answer4, answer, 0);\n+\n+\t\tQuestionDAO dao = new QuestionDAO();\n+\t\ttry {\n+\t\t\tint n = dao.create(que);\n+\t\t\tif (n >= 1) {\n+\t\t\t\trequest.setAttribute(\"Message\", \"保存成功\");\n+\t\t\t} else {\n+\t\t\t\trequest.setAttribute(\"Message\", \"保存失败\");\n+\t\t\t}\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\tList<Question> questionlist = new ArrayList<Question>();\n+\t\ttry {\n+\t\t\tquestionlist = dao.findAll();\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\trequest.setAttribute(\"result\", questionlist);\n+\t\trequest.getRequestDispatcher(\"/show.jsp\").forward(request, response);\n+\t}\n+\n+}"
  }, {
    "sha" : "f2393b03ecb3e249f7a25c912d2b32820b4e0896",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902108/SecurityFilter.java",
    "status" : "added",
    "additions" : 79,
    "deletions" : 0,
    "changes" : 79,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/SecurityFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/SecurityFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902108/SecurityFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,79 @@\n+package edu.hzu.javaweb.labs.se1414080902108;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet Filter implementation class SecurityFilter\n+ */\n+@WebFilter(\"/1414080902108\")\n+public class SecurityFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public SecurityFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest req = (HttpServletRequest) request;   \n+\t    HttpServletResponse res = (HttpServletResponse) response;   \n+\t    HttpSession session = req.getSession();\n+\t    String servletPath = req.getServletPath();\n+\t    String flag = (String) session.getAttribute(\"flag\");\n+\t    \n+\t    if(servletPath !=null && (servletPath.equals(\"/sign.jsp\")) || \n+\t    \t\t(servletPath.equals(\"/index.jsp\")) || (servletPath.equals(\"/LoginSe1414080902108\")) ||\n+\t    \t\t(servletPath.equals(\"/sign_up.jsp\"))){\n+\t    \tchain.doFilter(request, response);  \n+\t    }else{\n+\t    \tif(flag != null && flag.equals(\"login_success\")){\n+\t    \t\tchain.doFilter(request, response);  \n+\t    \t}else if(flag != null && flag.equals(\"login_error\")){\n+\t    \t\treq.setAttribute(\"msg\", \"登录失败\");\n+\t    \t\treq.setAttribute(\"return_uri\", servletPath);\n+\t    \t\tRequestDispatcher rd = null;\n+\t    \t\trd = request.getRequestDispatcher(\"/sign.jsp\");\n+\t\t\t\trd.forward(request, response);\n+\t    \t}else{\n+\t    \t\treq.setAttribute(\"msg\", \"尚未登录\");\n+\t    \t\treq.setAttribute(\"return_uri\", servletPath);\n+\t    \t\tRequestDispatcher rd = null;\n+\t    \t\trd = request.getRequestDispatcher(\"/sign.jsp\");\n+\t\t\t\trd.forward(request, response);\n+\t    \t}\n+\t    }\n+\t    \n+\t    \t    \n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "fe60af8bd91a0cfe1a22dc7218124effbe722109",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902108/View1414080902108.java",
    "status" : "added",
    "additions" : 56,
    "deletions" : 0,
    "changes" : 56,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/View1414080902108.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/View1414080902108.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902108/View1414080902108.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,56 @@\n+package edu.hzu.javaweb.labs.se1414080902108;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet implementation class View1414080902108\n+ */\n+@WebServlet(\"/1414080902108\")\n+public class View1414080902108 extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public View1414080902108() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tString subject = request.getParameter(\"select\");\n+\t\tString name = request.getParameter(\"name\");\n+\t\tHttpSession session = request.getSession();\n+\t\tint grade ;\n+\t\tQuestionDAO dao = new QuestionDAO();\n+\t\ttry {\n+\t\t\tgrade = dao.select(name, subject);\n+\t\t\trequest.setAttribute(\"grade\",grade);\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\tsession.setAttribute(\"subject\", subject);\n+\t    request.setAttribute(\"name\", name);\n+\t\trequest.setAttribute(\"Message\", \"您查询的成绩为：\");\n+\t\trequest.getRequestDispatcher(\"/result.jsp\").forward(request, response);\n+\t}\n+\n+}"
  }, {
    "sha" : "7bcbb116563eea9d957cc7e8e440d79b0b3ac5bc",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902108/loginSe1414080902108.java",
    "status" : "added",
    "additions" : 59,
    "deletions" : 0,
    "changes" : 59,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/loginSe1414080902108.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/loginSe1414080902108.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902108/loginSe1414080902108.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,59 @@\n+package edu.hzu.javaweb.labs.se1414080902108;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet implementation class loginSe1414080902108\n+ */\n+@WebServlet(\"/1414080902108\")\n+public class LoginSe1414080902108 extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public LoginSe1414080902108() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tdoPost(request,response);\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tString username = request.getParameter(\"userName\");\n+\t\tString password = request.getParameter(\"password\");\n+\t\tString returnUri = request.getParameter(\"return_uri\");\n+\t\tRequestDispatcher rd = null;\n+\t\tif(username == \"\" || password == \"\"){\n+\t\t\trequest.setAttribute(\"msg\", \"用户名或者密码为空！！！\");\n+\t\t\trd = request.getRequestDispatcher(\"/sign_up.jsp\");\n+\t\t\trd.forward(request, response);\n+\t\t}else{\n+\t\t\trequest.getSession().setAttribute(\"name\", username);\n+\t\t\trequest.getSession().setAttribute(\"flag\", \"login_success\");\n+\t\t\tif(returnUri != null){\n+\t\t\t\trd = request.getRequestDispatcher(returnUri);\n+\t\t\t\trd.forward(request, response);\n+\t\t\t}else{\n+\t\t\t\trd = request.getRequestDispatcher(\"/index.jsp\");\n+\t\t\t\trd.forward(request, response);\n+\t\t\t}\n+\t\t}\n+\t}\n+\n+}"
  }, {
    "sha" : "0dc7e7433c1608230a081e9cac64ad290413c7a2",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902108/logoutSe1414080902108.java",
    "status" : "added",
    "additions" : 40,
    "deletions" : 0,
    "changes" : 40,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/logoutSe1414080902108.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902108/logoutSe1414080902108.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902108/logoutSe1414080902108.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,40 @@\n+package edu.hzu.javaweb.labs.se1414080902108;\n+\n+import java.io.IOException;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet implementation class logoutSe1414080902108\n+ */\n+@WebServlet(\"/1414080902108\")\n+public class LogoutSe1414080902108 extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public LogoutSe1414080902108() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tdoPost(request,response);\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\trequest.getSession().invalidate();\n+\t\tresponse.sendRedirect(request.getContextPath() + \"/index.jsp\");\n+\t}\n+\n+}"
  }, {
    "sha" : "44fd5f4943e8ba545a91ba8e72b340c1526d54a0",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902110/EditEssayServlet.java",
    "status" : "added",
    "additions" : 67,
    "deletions" : 0,
    "changes" : 67,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902110/EditEssayServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902110/EditEssayServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902110/EditEssayServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,67 @@\n+package edu.hzu.javaweb.labs.se1414080902110;\n+\n+import java.io.IOException;\n+import java.sql.Connection;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+@WebServlet(name=\"EditEssayServlet\",urlPatterns={\"/edit\"})\n+public class EditEssayServlet extends HttpServlet {\n+\tprivate Connection conn;\n+\tprivate PreparedStatement pstmt;\n+\tprivate ResultSet rs;\n+\tint user_id;\n+\tpublic EditEssayServlet() {\n+\t\tsuper();\n+\t}\n+\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); \n+\t}\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tdoPost(request, response);\n+\t}\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\ttry {\n+\t\t\tString title = request.getParameter(\"essay_title\");\n+\t\t\tString content = request.getParameter(\"essay_content\");\n+\t\t\tString classify = request.getParameter(\"classify\");\n+\t\t\tJDBCconnection connection = new JDBCconnection();\n+\t\t\tconn= connection.connection();\n+\t\t\tString userName = (String) request.getSession().getAttribute(\"loginUserAccount\");\n+\t\t\tString sql1 = \"select user_id from user where user_account =?\";\n+\t\t\tpstmt = conn.prepareStatement(sql1);\n+\t\t\tpstmt.setString(1, userName);\n+\t\t\trs = pstmt.executeQuery();\n+\t\t\twhile(rs.next()){\n+\t\t\t\tuser_id = rs.getInt(\"user_id\");\n+\t\t\t}\n+\t\t\tString sql2 = \"insert into essay(essay_title,essay_content,user_id,classify) values(?,?,?,?)\";\n+\t\t\tpstmt = conn.prepareStatement(sql2);\n+\t\t\tpstmt.setString(1, title);\n+\t\t\tpstmt.setString(2, content);\n+\t\t\tpstmt.setInt(3, user_id);\n+\t\t\tpstmt.setString(4, classify);\n+\t\t\tpstmt.executeUpdate();\n+\t\t\trequest.getRequestDispatcher(\"/index.jsp\").forward(request, response);\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t}\n+\n+\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "027e6fa08c7412e83af155bf742f7d8e820226da",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902110/EncodingFilter.java",
    "status" : "added",
    "additions" : 33,
    "deletions" : 0,
    "changes" : 33,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902110/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902110/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902110/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,33 @@\n+package edu.hzu.javaweb.labs.se1414080902110;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+public class EncodingFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\");\n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+}"
  }, {
    "sha" : "16e8c7c66d80ce9b9bc0fed4db0fe82f2acd991b",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902110/HomeServlet.java",
    "status" : "added",
    "additions" : 72,
    "deletions" : 0,
    "changes" : 72,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902110/HomeServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902110/HomeServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902110/HomeServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,72 @@\n+package edu.hzu.javaweb.labs.se1414080902110;\n+\n+import java.io.IOException;\n+import java.sql.Connection;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import bean.Messay;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+@WebServlet(name = \"HomeServlet\", urlPatterns = { \"/homepage\" })\n+public class HomeServlet extends HttpServlet {\n+\tprivate Connection conn1, conn2;\n+\tprivate PreparedStatement pstmt1, pstmt2;\n+\tprivate ResultSet rs1, rs2;\n+\n+\tpublic HomeServlet() {\n+\t\tsuper();\n+\t}\n+\n+\tpublic void destroy() {\n+\t\tsuper.destroy();\n+\t}\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tdoPost(request, response);\n+\t}\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\ttry {\n+\t\t\tJDBCconnection connection = new JDBCconnection();\n+\t\t\tconn1 = connection.connection();\n+\t\t\tconn2 = connection.connection();\n+\t\t\tString sql1 = \"select * from essay where is_del=1\";\n+\t\t\tpstmt1 = conn1.prepareStatement(sql1);\n+\t\t\trs1 = pstmt1.executeQuery();\n+\t\t\tList<Messay> messayList = new ArrayList<Messay>();\n+\t\t\twhile (rs1.next()) {\n+\t\t\t\tString sql2 = \"select user_name,user_photo from user where user_id=?\";\n+\t\t\t\tpstmt2 = conn2.prepareStatement(sql2);\n+\t\t\t\tpstmt2.setInt(1, rs1.getInt(\"user_id\"));\n+\t\t\t\trs2 = pstmt2.executeQuery();\n+\t\t\t\tif (rs2.next()) {\n+\t\t\t\t\tmessayList.add(new Messay(rs1.getInt(\"essay_id\"),\n+\t\t\t\t\t\t\trs1.getString(\"essay_title\"), \n+\t\t\t\t\t\t\trs1.getString(\"classify\"), \n+\t\t\t\t\t\t\trs1.getInt(\"click\"),\n+\t\t\t\t\t\t\trs2.getString(\"user_name\")));\n+\t\t\t\t}\n+\t\t\t}\n+\t\t\trequest.setAttribute(\"messay\", messayList);\n+\t\t\trequest.getRequestDispatcher(\"/index/homepage.jsp\").forward(\n+\t\t\t\t\trequest, response);\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t}\n+\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "f44b3088af2426607d281cccf818c11dda40de08",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902110/JDBCconnection.java",
    "status" : "added",
    "additions" : 28,
    "deletions" : 0,
    "changes" : 28,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902110/JDBCconnection.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902110/JDBCconnection.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902110/JDBCconnection.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,28 @@\n+package edu.hzu.javaweb.labs.se1414080902110;\n+\n+import java.sql.*;\n+\n+public class JDBCconnection {\n+\tpublic Connection connection() {\n+\t\tString driverName = \"com.mysql.jdbc.Driver\";\n+\t\tString userName = \"root\";\n+\t\tString userpwd = \"123456\";\n+\t\tString dbName = \"musicforum\";\n+\t\tString url1 = \"jdbc:mysql://localhost:3306/\" + dbName;\n+\t\tString url2 = \"?user=\" + userName + \"&password=\" + userpwd;\n+\t\tString url3 = \"&useUnicode=true&characterEncoding=UTF-8\";\n+\t\tString url = url1 + url2 + url3;\n+\t\ttry {\n+\t\t\tClass.forName(driverName);\n+\t\t} catch (ClassNotFoundException driver) {\n+\t\t\tdriver.printStackTrace();\n+\t\t}\n+\t\ttry {\n+\t\t\tConnection connection = DriverManager.getConnection(url);\n+\t\t\treturn connection;\n+\t\t} catch (SQLException sql) {\n+\t\t\tsql.printStackTrace();\n+\t\t}\n+\t\treturn null;\n+\t}\n+}"
  }, {
    "sha" : "b2ee5a1f6414522fd8c5307612c0760a19dfa8d1",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902110/LoginFilter.java",
    "status" : "added",
    "additions" : 45,
    "deletions" : 0,
    "changes" : 45,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902110/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902110/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902110/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,45 @@\n+package edu.hzu.javaweb.labs.se1414080902110;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebFilter(filterName = \"LoginFilter\", urlPatterns = \"/essay/*\")\n+public class LoginFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest req = (HttpServletRequest) request;\n+\t\tHttpServletResponse res = (HttpServletResponse) response;\n+\n+\t\tHttpSession session = req.getSession();\n+\t\tif (session.getAttribute(\"loginUserAccount\") != null) {\n+\t\t\tchain.doFilter(request, response);\n+\t\t} else {\n+\t\t\tres.sendRedirect(\"../error.jsp\");\n+\t\t}\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "9a50c9ed1ca92e62005d42ebc09eb9cdca97f83a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902110/Messay.java",
    "status" : "added",
    "additions" : 58,
    "deletions" : 0,
    "changes" : 58,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902110/Messay.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902110/Messay.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902110/Messay.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,58 @@\n+package bean;\n+\n+public class Messay {\n+\tprivate int essay_Id, click;\n+\tprivate String essay_title, classify, user_name;\n+\n+\tpublic Messay() {\n+\t}\n+\n+\tpublic Messay(int essay_Id, String essay_title, String classify, int click, String user_name) {\n+\t\tthis.essay_Id = essay_Id;\n+\t\tthis.essay_title = essay_title;\n+\t\tthis.classify = classify;\n+\t\tthis.click = click;\n+\t\tthis.user_name = user_name;\n+\t}\n+\n+\tpublic int getEssay_Id() {\n+\t\treturn essay_Id;\n+\t}\n+\n+\tpublic void setEssay_Id(int essay_Id) {\n+\t\tthis.essay_Id = essay_Id;\n+\t}\n+\n+\tpublic String getEssay_title() {\n+\t\treturn essay_title;\n+\t}\n+\n+\tpublic void setEssay_title(String essay_title) {\n+\t\tthis.essay_title = essay_title;\n+\t}\n+\n+\tpublic String getClassify() {\n+\t\treturn classify;\n+\t}\n+\n+\tpublic void setClassify(String classify) {\n+\t\tthis.classify = classify;\n+\t}\n+\n+\tpublic int getClick() {\n+\t\treturn click;\n+\t}\n+\n+\tpublic void setClick(int click) {\n+\t\tthis.click = click;\n+\t}\n+\n+\tpublic String getUser_name() {\n+\t\treturn user_name;\n+\t}\n+\n+\tpublic void setUser_name(String user_name) {\n+\t\tthis.user_name = user_name;\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "f88c92305318758fc88371c43880f05fcac032d5",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902110/Se1414080902110Sevlet.java",
    "status" : "added",
    "additions" : 60,
    "deletions" : 0,
    "changes" : 60,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902110/Se1414080902110Sevlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902110/Se1414080902110Sevlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902110/Se1414080902110Sevlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,60 @@\n+package edu.hzu.javaweb.labs.se1414080902110;\n+\n+import java.io.IOException;\n+import java.sql.Connection;\n+import java.sql.ResultSet;\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import java.sql.*;\n+import edu.hzu.javaweb.labs.se1414080902110.JDBCconnection;\n+\n+public class Se1414080902110Sevlet extends HttpServlet {\n+\tprivate Connection conn;\n+\tprivate PreparedStatement pstmt;\n+\tprivate ResultSet rs;\n+\n+\tpublic Se1414080902110Sevlet() {\n+\t\tsuper();\n+\t}\n+\n+\tpublic void destroy() {\n+\t\tsuper.destroy();\n+\t}\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tdoPost(request, response);\n+\t}\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tString account = request.getParameter(\"account\");\n+\t\tString password = request.getParameter(\"password\");\n+\t\ttry {\n+\t\t\tJDBCconnection connnection = new JDBCconnection();\n+\t\t\tconn = connnection.connection();\n+\t\t\tString sql = \"select user_id from user where user_account =? and user_password =?\";\n+\t\t\tpstmt = conn.prepareStatement(sql);\n+\t\t\tpstmt.setString(1, account);\n+\t\t\tpstmt.setString(2, password);\n+\t\t\trs = pstmt.executeQuery();\n+\t\t\tif (rs.next()) {\n+\t\t\t\trequest.getSession().setAttribute(\"loginUserAccount\", account);\n+\t\t\t\trequest.getRequestDispatcher(\"/essay.jsp\").forward(request,\n+\t\t\t\t\t\tresponse);\n+\t\t\t} else {\n+\t\t\t\trequest.getRequestDispatcher(\"/error.jsp\").forward(request,\n+\t\t\t\t\t\tresponse);\n+\t\t\t}\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t}\n+\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "288200e53f9093795a579cf48e6cce9c2457c883",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902111/EncodingFilter.java",
    "status" : "added",
    "additions" : 35,
    "deletions" : 0,
    "changes" : 35,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902111/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902111/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902111/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,35 @@\n+package edu.hzu.javaweb.labs.se1414080902111;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+\n+public class EncodingFilter implements Filter {\n+\t@Override\n+\tpublic void destroy() {\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\t\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\"); \n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "2ee225827b36cc4ec1fd258b9a472988175177fd",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902111/LoginFilter.java",
    "status" : "added",
    "additions" : 45,
    "deletions" : 0,
    "changes" : 45,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902111/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902111/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902111/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,45 @@\n+package edu.hzu.javaweb.labs.se1414080902111;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebFilter(filterName = \"LoginFilter\", urlPatterns = \"/*\")\n+public class LoginFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy()  {\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest req = (HttpServletRequest) request;   \n+\t     HttpServletResponse res = (HttpServletResponse) response;   \n+\t  \n+\t     HttpSession session = req.getSession();   \n+\t    if (session.getAttribute(\"username\") != null) { \n+\t         chain.doFilter(request, response);   \n+\t     } else {   \n+\t         res.sendRedirect(\"failure.jsp\");   \n+\t     }   \n+\t}  \n+\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\n+\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "4d59f6d46b5ebcf3cca4ec1b3bd505f08de14a34",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902111/Se1414080902111Servlet.java",
    "status" : "added",
    "additions" : 83,
    "deletions" : 0,
    "changes" : 83,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902111/Se1414080902111Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902111/Se1414080902111Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902111/Se1414080902111Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,83 @@\n+package edu.hzu.javaweb.labs;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+@WebServlet(\"/1414080902111\")\n+public class Se1414080902111Servlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Se1414080902111Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+\t\tout.println(\"<HTML>\");\n+\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+\t\tout.println(\"  <BODY>\");\n+\t\tout.print(\"    This is \");\n+\t\tout.print(this.getClass());\n+\t\tout.println(\", using the GET method\");\n+\t\tout.println(\"  </BODY>\");\n+\t\tout.println(\"</HTML>\");\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tdoGet(request, response);\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "1be458c29ff5234f6190e5c49784ec5499cf4edf",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902112/EncodingFilter.java",
    "status" : "added",
    "additions" : 35,
    "deletions" : 0,
    "changes" : 35,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902112/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902112/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902112/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,35 @@\n+package edu.hzu.javaweb.labs.se1414080902112;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+\n+public class EncodingFilter implements Filter {\n+\t@Override\n+\tpublic void destroy() {\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\t\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\"); \n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "d29f661b37ddc1c8963ecff28f7c5059f38987e7",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902112/LoginFilter.java",
    "status" : "added",
    "additions" : 46,
    "deletions" : 0,
    "changes" : 46,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902112/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902112/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902112/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,46 @@\n+package edu.hzu.javaweb.labs.se1414080902112;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebFilter(filterName = \"LoginFilter\", urlPatterns = \"/*\")\n+public class LoginFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy()  {\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest req = (HttpServletRequest) request;   \n+\t     HttpServletResponse res = (HttpServletResponse) response;   \n+\t  \n+\t     HttpSession session = req.getSession();   \n+\t    if (session.getAttribute(\"username\") != null) { \n+\t         chain.doFilter(request, response);   \n+\t     } else {   \n+\t         res.sendRedirect(\"failure.jsp\");   \n+\t     }   \n+\t}  \n+\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\n+\n+\t}\n+\n+}\n+"
  }, {
    "sha" : "52f2a8e6409755245fad712d76b53de28fb83fa0",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902112/Se1414080902112Servlet.java",
    "status" : "added",
    "additions" : 55,
    "deletions" : 0,
    "changes" : 55,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902112/Se1414080902112Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902112/Se1414080902112Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902112/Se1414080902112Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,55 @@\n+package edu.hzu.javaweb.labs.se1414080902112;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+@WebServlet(\"/1414080902112\")\n+\n+public class Se1414080902112Servlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\t\n+\tpublic Se1414080902112Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); \n+\t\t\n+\t}\n+\n+\t\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\n+\t\tresponse.setContentType(\"text/html;charset=utf-8\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+\t\tout.println(\"<HTML>\");\n+\t\tout.println(\"  <HEAD><TITLE>ע��ҳ��</TITLE></HEAD>\");\n+\t\tout.println(\"  <BODY>\");\n+\t\tout.println(\"��Ϣע��\");\n+\t\tout.println(\"  </BODY>\");\n+\t\tout.println(\"</HTML>\");\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tdoGet(request, response);\n+\t}\n+\n+\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "104c542924150a3dd454cd6f1097c55548a6db4e",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902112/SetUser.java",
    "status" : "added",
    "additions" : 55,
    "deletions" : 0,
    "changes" : 55,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902112/SetUser.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902112/SetUser.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902112/SetUser.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,55 @@\n+package edu.hzu.javaweb.labs.se1414080902112;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import edu.hzu.javaweb.labs.se1414080902112.User;\n+\n+public class SetUser extends HttpServlet {\n+\n+\t \n+\tpublic SetUser() {\n+\t\tsuper();\n+\t}\n+\n+\t\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); \n+\t}\n+\n+\t\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"UTF-8\");\t\t\n+\t\tString name=request.getParameter(\"name\");\n+        String sex=request.getParameter(\"sex\");\n+\t\tString id=request.getParameter(\"id\");\n+\t\tString brithdate=request.getParameter(\"brithdate\");\n+\t\tString information=request.getParameter(\"information\");\n+\t  List<User> Users=new ArrayList<User>();\n+\t  Users.add(new User(name,sex,id,brithdate,information));\n+\t   request.setAttribute(\"User\", Users);\n+\t   request.getRequestDispatcher(\"show.jsp\").forward(request, response);\n+\t}\n+\n+\t\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tdoGet(request,response);\n+\t}\n+\n+\t\n+\tpublic void init() throws ServletException {\n+\t\t\n+\t}\n+\n+}"
  }, {
    "sha" : "110fbdda7e6a8bacb3dfeb3c99f51ad05e5cec14",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902112/User.java",
    "status" : "added",
    "additions" : 48,
    "deletions" : 0,
    "changes" : 48,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902112/User.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902112/User.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902112/User.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,48 @@\n+package edu.hzu.javaweb.labs.se1414080902112;\n+\n+public class User {\n+\tprivate String name;\n+    private String sex;\n+\tprivate String id;\n+\tprivate String brithdate;\n+\tprivate String information;\n+\tpublic User(){}\n+\tpublic User(String name,String sex,String id,String brithdate,String information)\n+\t{\n+\t\tthis.name=name;\n+        this.sex=sex;\n+\t\tthis.id=id;\n+\t\tthis.brithdate=brithdate;\n+\t\tthis.information=information;\n+\t}\n+\tpublic String getName() {\n+\t\treturn name;\n+\t}\n+\tpublic void setName(String name) {\n+\t\tthis.name = name;\n+\t}\n+        public String getSex() {\n+\t\treturn sex;\n+\t}\n+\tpublic void setSex(String sex) {\n+\t\tthis.sex = sex;\n+\t}\n+\tpublic String getId() {\n+\t\treturn id;\n+\t}\n+\tpublic void setId(String id) {\n+\t\tthis.id = id;\n+\t}\n+\tpublic String getBrithdate() {\n+\t\treturn brithdate;\n+\t}\n+\tpublic void setBrithdate(String brithdate) {\n+\t\tthis.brithdate = brithdate;\n+\t}\n+\tpublic String getInformation() {\n+\t\treturn information;\n+\t}\n+\tpublic void setInformation(String information) {\n+\t\tthis.information =information;\n+\t}\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "8ae0dea26232f5f1c34c6aefc4a12927760edef6",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902113/Book.java",
    "status" : "added",
    "additions" : 49,
    "deletions" : 0,
    "changes" : 49,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Book.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Book.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Book.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,49 @@\n+package edu.hzu.javaweb.labs.se1414080902113;\n+\n+public class Book {\n+\tprivate String name;\n+\tprivate String writer;\n+\tprivate String date;\n+\tprivate String publish;\n+\tprivate String main;\n+\tpublic Book(){}\n+\tpublic Book(String sname,String swriter,String sdate,String spublish,String smain)\n+\t{\n+\t\tthis.name=sname;\n+\t\tthis.writer=swriter;\n+\t\tthis.date=sdate;\n+\t\tthis.publish=spublish;\n+\t\tthis.main=smain;\n+\t}\n+\tpublic String getName() {\n+\t\treturn name;\n+\t}\n+\tpublic void setName(String name) {\n+\t\tthis.name = name;\n+\t}\n+\tpublic String getWriter() {\n+\t\treturn writer;\n+\t}\n+\tpublic void setWriter(String writer) {\n+\t\tthis.writer = writer;\n+\t}\n+\tpublic String getDate() {\n+\t\treturn date;\n+\t}\n+\tpublic void setDate(String date) {\n+\t\tthis.date = date;\n+\t}\n+\tpublic String getPublish() {\n+\t\treturn publish;\n+\t}\n+\tpublic void setPublish(String publish) {\n+\t\tthis.publish = publish;\n+\t}\n+\tpublic String getMain() {\n+\t\treturn main;\n+\t}\n+\tpublic void setMain(String main) {\n+\t\tthis.main = main;\n+\t}\n+\n+}"
  }, {
    "sha" : "0c23284f6e10d9f6b8e18b8b9ed0a1add3cedd18",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902113/BookServlet.java",
    "status" : "added",
    "additions" : 83,
    "deletions" : 0,
    "changes" : 83,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902113/BookServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902113/BookServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902113/BookServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,83 @@\n+package edu.hzu.javaweb.labs.se1414080902113;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.*;\n+import java.sql.*;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+\n+public class BookServlet extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic BookServlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tresponse.setContentType(\"text/html;charset=utf-8\");\n+\t\tPrintWriter out=response.getWriter();\n+\t\tString sname=request.getParameter(\"name\");\n+\t\tString swriter=request.getParameter(\"writer\");\n+\t\tString sdate=request.getParameter(\"date\");\n+\t\tString spublish=request.getParameter(\"publish\");\n+\t\tString smain=request.getParameter(\"main\"); \n+\t    String sql=\"Insert into book_info(name,writer,date,publish,main) values('\"+sname+\"','\"+swriter+\"','\"+sdate+\"','\"+spublish+\"','\"+smain+\"')\";\n+\t\tUtil run=new Util();\n+\t\tint n=run.insertSQL(sql);\n+\t    if(n>=1) out.println(\"�鼮��ӳɹ�\"); else  out.println(\"�鼮���ʧ��\");\n+\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tdoGet(request,response);\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "21621de569663e03ac59ef63ace779fbe9fe5f29",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902113/Connect.java",
    "status" : "added",
    "additions" : 23,
    "deletions" : 0,
    "changes" : 23,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Connect.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Connect.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Connect.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,23 @@\n+package KK;\n+import java.sql.*;\n+public class Connect {\n+\t public static Connection sqlData(){\n+\t        Connection con=null;\n+\t        try{\n+\t        Class.forName(\"com.mysql.jdbc.Driver\");\n+\t        con=DriverManager.getConnection(\"jdbc:mysql://localhost:3306/book?user=root&password=root\");\n+\t        }catch(Exception ee){}\n+\t        return con;\n+\t }\n+      public static void close(Connection con,PreparedStatement pstm,ResultSet rs)\n+      {\n+    \t  try{\n+    \t\t  if(rs!=null) rs.close();\n+    \t\t  if(pstm!=null) pstm.close();\n+    \t\t  if(con!=null) con.close();\n+    \t  }catch(SQLException e){\n+    \t\t  e.printStackTrace();\n+    \t  }\n+      }\n+}\n+"
  }, {
    "sha" : "adb1fe149da1c3b3e3d6e5527c3227e358ad2f60",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902113/Se1414080902113Filter1.java",
    "status" : "added",
    "additions" : 37,
    "deletions" : 0,
    "changes" : 37,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Se1414080902113Filter1.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Se1414080902113Filter1.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Se1414080902113Filter1.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,37 @@\n+package edu.hzu.javaweb.labs;\n+\n+import java.io.*;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+\n+public class Se1414080902113Filter1 implements Filter {\n+    private String FilteredIP;\n+\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\tpublic void doFilter(ServletRequest arg0, ServletResponse arg1,\n+\t\t\tFilterChain arg2) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t \n+           arg0.setCharacterEncoding(\"UTF-8\"); \n+           arg2.doFilter(arg0,arg1); \n+\t\t\n+\n+\t}\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\n+\n+}"
  }, {
    "sha" : "6b8f1b459fd18d698c2f52c12a5976d9eb6ca41a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902113/Se1414080902113Filter2.java",
    "status" : "added",
    "additions" : 43,
    "deletions" : 0,
    "changes" : 43,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Se1414080902113Filter2.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Se1414080902113Filter2.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Se1414080902113Filter2.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,43 @@\n+package edu.hzu.javaweb.labs;\n+\n+import java.io.*;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+\n+public class Se1414080902113Filter2 implements Filter {\n+    private String FilteredIP;\n+\t\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\tpublic void doFilter(ServletRequest arg0, ServletResponse arg1,\n+\t\t\tFilterChain arg2) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\tHttpServletRequest requ = (HttpServletRequest)arg0; \n+               HttpServletResponse resp = (HttpServletResponse)arg1; \n+                HttpSession session = requuest.getSession(true); \n+               if(session.getAttribute(\"username\")==null){ \n+               responsee.sendRedirect(\"index.jsp\"); \n+                }else{ \n+                 arg2.doFilter(arg0,arg1); \n+                 } \n+\t\t\n+\n+\t}\n+        public void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\n+\t}\n+\n+\n+\n+}"
  }, {
    "sha" : "37ad214db6b065755513c6e8a03653185df1b3e0",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902113/Se1414080902113Servlet.java",
    "status" : "added",
    "additions" : 48,
    "deletions" : 0,
    "changes" : 48,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Se1414080902113Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Se1414080902113Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Se1414080902113Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,48 @@\n+package edu.hzu.javaweb.labs.se1414080902113;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebServlet(\"/1414080902113\")\n+public class Se1414080902113Servlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\tpublic Se1414080902113Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\tpublic void init(ServletConfig config) throws ServletException {\n+\t\t\n+\t}\n+\n+\tpublic void destroy() {\n+\t}\n+\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t       PrintWriter out=response.getWriter();\n+\t       response.setContentType(\"text/html;charset=utf-8\");\n+\t       out.println(\"<HTML>\");\n+\t       out.println(\"  <HEAD><TITLE>��1��Servletʾ��</TITLE></HEAD>\");\n+\t       out.println(\"<BODY>\");\n+\t       out.println(\"���Գɹ�!\");\n+\t       out.println(\"</BODY>\");\n+\t       out.println(\"</HTLM>\");\n+\t       out.flush();\n+\t       out.close();\n+\t}\n+\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tdoGet(request, response);\n+\t}\n+\n+}"
  }, {
    "sha" : "9980227f114e403200755be0e6360b43c2cfac61",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902113/Util.java",
    "status" : "added",
    "additions" : 17,
    "deletions" : 0,
    "changes" : 17,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Util.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Util.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902113/Util.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,17 @@\n+package KK;\n+import java.sql.*;\n+public class Util {\n+   private Connection con=null;\n+   private PreparedStatement pstmt=null;\n+   private ResultSet rs=null;\n+   public int insertSQL(String sql){\n+\t   int n=-1;\n+\t   try{\n+\t\t   con=Connect.sqlData(); \n+\t\t   pstmt=con.prepareStatement(sql);\n+\t\t   n=pstmt.executeUpdate();\n+\t   }catch(SQLException e){e.printStackTrace();}\n+\t   Connect.close(con, pstmt, rs);\n+\t   return n;\n+   }\n+}"
  }, {
    "sha" : "6658dc3b0fb1070c22f6e43c1b91ac7bf997310e",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902114/Login.java",
    "status" : "added",
    "additions" : 76,
    "deletions" : 0,
    "changes" : 76,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902114/Login.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902114/Login.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902114/Login.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,76 @@\n+package se1414080902114;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.Calendar;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;//使用注释时候必需导入的注释包\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+import se1414080902114.Users;\n+\n+@WebServlet(\"/1414080902114\")\n+public class login extends HttpServlet {\n+\n+\n+\t\n+\n+\tpublic login() {\n+\t\tsuper();\n+\t}\n+\n+\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t}\n+\t\n+    public void calendar(HttpSession session){\n+        Calendar rightNow=Calendar.getInstance();\n+        Integer Hour=new Integer(rightNow.get(Calendar.HOUR_OF_DAY));;\n+        session.setAttribute(\"hour\",Hour);\n+    }\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t    HttpSession session = request.getSession();\n+\t\tUsers user=new Users();\n+\t\tString type=request.getParameter(\"Type\");\n+\t\tString username=request.getParameter(\"Username\");\n+\t\tString password=request.getParameter(\"Password\");\n+\t\tuser.setType(type);\n+\t\tuser.setUsername(username);\n+\t\tuser.setPassword(password);\n+\t\tsession.setAttribute(\"username\",username);//把用户登录账号保存到session中\n+\t\tsession.setAttribute(\"password\",password);//把用户登录密码保存到session中\n+\t\tsession.setAttribute(\"type\",type);//把用户类型的保存到session中\n+\t\tcalendar(session);\n+\t\tif(user.getType() != null&&user.getUsername()!=null&&user.getPassword()!=null){\n+\t\t\tRequestDispatcher dispatcher=request.getRequestDispatcher(\"/login/main.jsp\");\n+\t\t\tdispatcher.forward(request,response);\n+\t\t}\n+\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "c83b79905b36f01b699ec8220aac6756c469346a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902114/LoginFilter.java",
    "status" : "added",
    "additions" : 45,
    "deletions" : 0,
    "changes" : 45,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902114/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902114/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902114/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,45 @@\n+package com.filter;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebFilter(filterName=\"loginFilter\",urlPatterns=\"/login/main.jsp\")\n+public class loginFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain filter) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\tHttpServletRequest requ=(HttpServletRequest)request;\n+\t\tHttpServletResponse resp=(HttpServletResponse)response;\n+\t\tHttpSession session=requ.getSession(true);\n+\t\tif(session.getAttribute(\"Username\")==null||session.getAttribute(\"Password\")==null||session.getAttribute(\"Type\")==null){\n+\t\t\tresp.sendRedirect(\"./login_error.jsp\");\n+\t\t}else{\n+\t\t\tfilter.doFilter(request, response);\n+\t\t}\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "efbae91e56f53ebfe817f4a5fb0ebcec040d5d23",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902114/Users.java",
    "status" : "added",
    "additions" : 26,
    "deletions" : 0,
    "changes" : 26,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902114/Users.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902114/Users.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902114/Users.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,26 @@\n+package se1414080902114;\n+\n+public class Users {\n+\tprivate String Type;\n+\tprivate String Username;\n+\tprivate String Password;\n+\tpublic String getType() {\n+\t\treturn Type;\n+\t}\n+\tpublic void setType(String type) {\n+\t\tType = type;\n+\t}\n+\tpublic String getUsername() {\n+\t\treturn Username;\n+\t}\n+\tpublic void setUsername(String username) {\n+\t\tUsername = username;\n+\t}\n+\tpublic String getPassword() {\n+\t\treturn Password;\n+\t}\n+\tpublic void setPassword(String password) {\n+\t\tPassword = password;\n+\t}\n+\t\n+}"
  }, {
    "sha" : "b4a53195e435a4c59037b5020725133d27878978",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902115/DbConnect.java",
    "status" : "added",
    "additions" : 39,
    "deletions" : 0,
    "changes" : 39,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902115/DbConnect.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902115/DbConnect.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902115/DbConnect.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,39 @@\n+package edu.hzu.javaweb.labs.se1414080902115;\n+\n+import java.sql.Connection;\n+import java.sql.DriverManager;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+import java.sql.SQLException;\n+\n+public class DbConnect {\n+ private static String driverName=\"com.mysql.jdbc.Driver\";\n+ private static String userName=\"root\";\n+ private static String userPwd=\"123456\";\n+ private static String dbName=\"students\";\n+ static Connection getDBConnection(){\n+\t String url1=\"jdbc:mysql://localhost:3306/\"+dbName;\n+\t String url2=\"?user=\"+userName+\"&password=\"+userPwd;\n+\t String url3=\"&userUnicode=true&characterEncoding=utf8&useSSL=true\";\n+\t String url=url1+url2+url3;\n+\t try{\n+\t\t Class.forName(driverName);\n+\t\t Connection con=DriverManager.getConnection(url);\n+\t\t return con;\n+\t }catch(Exception e){\n+\t\t e.printStackTrace();\n+\t }\n+\treturn null;\n+\t \n+ }\n+ public static void closeDB(Connection con,PreparedStatement pstm,ResultSet rs){\n+\t try{\n+\t\t if(rs!=null)rs.close();\n+\t\t if(pstm!=null)pstm.close();\n+\t\t if(con!=null)con.close();\n+\t }catch(SQLException e){\n+\t\t e.printStackTrace();\n+\t }\n+ }\n+\t\t \n+}"
  }, {
    "sha" : "41eb38e888af8fd64140e0be5f6e6285eccc989f",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902115/EncodingFilter.java",
    "status" : "added",
    "additions" : 52,
    "deletions" : 0,
    "changes" : 52,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902115/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902115/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902115/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,52 @@\n+package edu.hzu.javaweb.labs.se1414080902115;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+\n+import javax.servlet.annotation.WebFilter;\n+\n+\n+@WebFilter(\"/EncodingFilter\")\n+public class EncodingFilter implements Filter{\n+\tprivate String encoding = null; \n+\tpublic   EncodingFilter() {\n+\t\t// TODO Auto-generated constructor stub\n+\t\tSystem.out.println(\"EncodingFilter\");\n+\t}\n+\t\n+\t@Override\n+\tpublic void destroy() {\n+\t\tSystem.out.println(\"destroy\");\n+\t\t\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\tString encoding = getEncoding();   \n+        if (encoding == null){   \n+             encoding = \"utf-8\";   \n+         }   \n+         request.setCharacterEncoding(encoding);// ��������������ָ���ı���   \n+         \n+\t\tSystem.out.println(\"doFilter\");\n+\t\tchain.doFilter(request, response); \n+\t\t\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\tSystem.out.println(\"initEncodingFilter\");\n+\t\tthis.encoding = filterConfig.getInitParameter(\"encoding\");   \n+\t}\n+\tprivate String getEncoding() {   \n+        return this.encoding;   \n+     }   \n+\n+}"
  }, {
    "sha" : "ced7a3e1ca998a37554a84188ff92226892b59bf",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902115/Se1414080902115Servlet.java",
    "status" : "added",
    "additions" : 109,
    "deletions" : 0,
    "changes" : 109,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902115/Se1414080902115Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902115/Se1414080902115Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902115/Se1414080902115Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,109 @@\n+package edu.hzu.javaweb.labs.se1414080902115;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+public class Se1414080902115Servlet extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Se1414080902115Servlet() {\n+\t\tsuper();\n+\t\tSystem.out.println(\"dasdsa\");\n+\t\t\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\t\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tString user=request.getParameter(\"username\");\n+\t\tString pwd=request.getParameter(\"userpwd\");\n+\t//\tPrintWriter out = response.getWriter();\n+\t\tHttpSession session=request.getSession();\n+\t\tsession.setAttribute(\"user\", user);\n+\t\tsession.setAttribute(\"pwd\", pwd);\n+\t\t\n+\t   /* out.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+\t\tout.println(\"<HTML>\");\n+\t\tout.println(\"  <HEAD><TITLE>A New Servlet</TITLE></HEAD>\");\n+\t\tout.println(\"  <BODY>\");\n+\t\tout.print(\"    This is \");\n+\t\tout.print(this.getClass());\n+\t\tout.println(\", using the GET method\");\n+\t\tout.print(\"welcome   \"+session.getAttribute(\"user\")+\"   !!!\"+\"<br>\");\n+\t\tout.println(\"  </BODY>\");\n+\t\tout.println(\"</HTML>\");\n+\t\tout.flush();\n+\t\tout.close();*/\n+\t\tresponse.sendRedirect(\"Second.jsp\");\n+\t\t\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+\t\tout.println(\"<HTML>\");\n+\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+\t\tout.println(\"  <BODY>\");\n+\t\tout.print(\"    This is \");\n+\t\tout.print(this.getClass());\n+\t\tout.println(\", using the POST method\");\n+\t\tout.println(\"  </BODY>\");\n+\t\tout.println(\"</HTML>\");\n+\t\tout.flush();\n+\t\tout.close();\n+\t\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t\t//��ʼ��\n+\t\tSystem.out.println(\"init(_)\");\n+\t}\n+\n+}"
  }, {
    "sha" : "490bb6485a0ba58e7a9688ca8761a2d50eabec64",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902115/SecurityFilter.java",
    "status" : "added",
    "additions" : 59,
    "deletions" : 0,
    "changes" : 59,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902115/SecurityFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902115/SecurityFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902115/SecurityFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,59 @@\n+package edu.hzu.javaweb.labs.se1414080902115;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet Filter implementation class SecurityFilter\n+ */\n+\n+public class SecurityFilter implements Filter {\n+\n+   \n+    public SecurityFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\tSystem.out.println(\"destroy222222222\");\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest req = (HttpServletRequest) request;   \n+\t     HttpServletResponse res = (HttpServletResponse) response;    \n+\t     HttpSession session = req.getSession();   \n+\t    if (session.getAttribute(\"user\") != null) {//鐧诲綍鍚庢墠鑳借闂�  \n+\t         chain.doFilter(request, response);   \n+\t     } else {   \n+\t         //res.sendRedirect(\"../failure.jsp\");  \n+\t    \t PrintWriter pr=response.getWriter();\n+\t    \t pr.print(\"shibai!!!!\");\n+\t     }  \n+\t    chain.doFilter(request, response);   \n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "e2f1586a6bbc073bc40ca560be476d5014eeaf05",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902115/Student.java",
    "status" : "added",
    "additions" : 48,
    "deletions" : 0,
    "changes" : 48,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902115/Student.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902115/Student.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902115/Student.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,48 @@\n+package edu.hzu.javaweb.labs.se1414080902115;\n+\n+public class Student {\n+private int id;\n+private String name;\n+private String sex;\n+private int age;\n+private float weight;\n+private float height;\n+\n+public int getId() {\n+\treturn id;\n+}\n+public void setId(int id) {\n+\tthis.id = id;\n+}\n+public String getName() {\n+\treturn name;\n+}\n+public void setName(String name) {\n+\tthis.name = name;\n+}\n+public String getSex() {\n+\treturn sex;\n+}\n+public void setSex(String sex) {\n+\tthis.sex = sex;\n+}\n+public int getAge() {\n+\treturn age;\n+}\n+public void setAge(int age) {\n+\tthis.age = age;\n+}\n+public float getWeight() {\n+\treturn weight;\n+}\n+public void setWeight(float weight) {\n+\tthis.weight = weight;\n+}\n+public float getHeight() {\n+\treturn height;\n+}\n+public void setHeight(float height) {\n+\tthis.height = height;\n+}\n+\n+}"
  }, {
    "sha" : "bf2083b6ab278cf6c7f6f6bead0ad53658a6e935",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902115/StudentDAO.java",
    "status" : "added",
    "additions" : 134,
    "deletions" : 0,
    "changes" : 134,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902115/StudentDAO.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902115/StudentDAO.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902115/StudentDAO.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,134 @@\n+package edu.hzu.javaweb.labs.se1414080902115;\n+\n+import java.sql.Connection;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import edu.hzu.javaweb.labs.se1414080902115.Student;\n+\n+public class StudentDAO {\n+\tprotected static final String FIELDS_INSERT =\"id,name,sex,age,weight,height\";\n+\tprotected static String INSERT_SQL=\"insert into student_info (\"\n+                                    +FIELDS_INSERT+\")\"+\"values (?,?,?,?,?,?)\";\n+\tprotected static String SELECT_SQL=\"select \"\n+                                    +FIELDS_INSERT+\" from student_info where id=?\";\n+\tprotected static String UPDATE_SQL=\"update student_info set \"\n+                              +\"id=?,name=?,sex=?,age=?,weight=?,height=? where id=?\";\n+\tprotected static String DELETE_SQL =\"delete from student_info where id=?\";\n+ //ʵ������ݿ�����Ӽ�¼�ķ��� \n+\tpublic Student create(Student stu) throws Exception{\n+\t\t Connection con=null;\n+\t      PreparedStatement prepStmt=null;\n+\t      ResultSet rs=null;\n+\t      try{\n+\t    \t  con=DbConnect.getDBConnection();\n+\t    \t  prepStmt =con.prepareStatement(INSERT_SQL); \n+\t    \t  prepStmt.setInt(1,stu.getId());\n+\t    \t  prepStmt.setString(2,stu.getName());\n+\t    \t  prepStmt.setString(3,stu.getSex());\n+\t    \t  prepStmt.setInt(4,stu.getAge());\n+\t    \t  prepStmt.setFloat(5,stu.getWeight());\n+\t    \t  prepStmt.setFloat(6,stu.getHeight()); \n+\t          prepStmt.executeUpdate();\n+\t          //System.out.println(\"charuchenggong\");\n+\t      } catch(Exception e){\n+\t    \t  e.printStackTrace();\n+\t      } finally{\n+\t    \t     DbConnect.closeDB(con, prepStmt, rs);\n+\t      }\n+\t     return stu;\n+\t}\n+//ʵ�ֲ�ѯ��ݿ��ж�ָ���ļ�¼�Ƿ���ڵķ���\n+\tpublic Student find(Student stu) throws Exception {\n+\t    Connection con=null;\n+\t    PreparedStatement prepStmt=null;\n+\t    ResultSet rs=null;\n+\t    Student stu2 = null;\n+\t    try {\n+\t       con=DbConnect.getDBConnection();\n+            prepStmt = con.prepareStatement(SELECT_SQL);\n+            prepStmt.setInt(1,stu.getId());\n+            rs = prepStmt.executeQuery();\n+            if (rs.next()){\n+            \tstu2 = new Student();\n+                stu2.setId(rs.getInt(1)); \n+                stu2.setName(rs.getString(2));\n+                stu2.setSex(rs.getString(3));\n+                stu2.setAge(rs.getInt(4)); \n+                stu2.setWeight(rs.getFloat(5));\n+                stu2.setHeight(rs.getFloat(6)); \n+           }\n+      } catch (Exception e) {\n+          // handle exception\n+      } finally {\n+    \t     DbConnect.closeDB(con, prepStmt, rs);\n+      }\n+     return stu2;\n+\t}\n+   //ʵ���г���ݿ�ȫ����¼�ķ��� \n+\tpublic List<Student> findAll() throws Exception {\n+\t\tConnection con=null;\n+\t    PreparedStatement prepStmt=null;\n+\t    ResultSet rs=null;\t\n+\t    List<Student> student = new ArrayList<Student>();\n+\t    con=DbConnect.getDBConnection();\n+\t    prepStmt = con.prepareStatement(\"select * from student_info\");\n+        rs = prepStmt.executeQuery();\n+        while(rs.next()) {\n+        \tStudent stu2 = new Student();\n+            stu2.setId(rs.getInt(1)); \n+            stu2.setName(rs.getString(2));\n+            stu2.setSex(rs.getString(3));\n+            stu2.setAge(rs.getInt(4)); \n+            stu2.setWeight(rs.getFloat(5));\n+            stu2.setHeight(rs.getFloat(6)); \n+            student.add(stu2);\n+        }\n+        DbConnect.closeDB(con, prepStmt, rs); \n+        return student;\n+\t}\n+//ʵ��ɾ����ݿ���ָ���ļ�¼���� \n+\tpublic void remove(Student stu) throws Exception {\n+\t\tConnection con=null;\n+\t    PreparedStatement prepStmt=null;\n+\t    ResultSet rs=null;\n+\t    try {\n+\t    \tcon=DbConnect.getDBConnection();\n+\t    \tprepStmt = con.prepareStatement(DELETE_SQL);\n+\t        prepStmt.setInt(1,stu.getId());\n+\t        prepStmt.executeUpdate();\n+\t    }catch(Exception e) {\n+\t          //\n+\t    } finally{\n+\t    \t DbConnect.closeDB(con, prepStmt, rs);\n+\t    }\n+\t}\n+//ʵ����ָ���Ķ����޸���ݿ��м�¼�ķ��� \n+\tpublic void update(Student stu) throws Exception {\n+\t\tConnection con=null;\n+\t    PreparedStatement prepStmt=null;\n+\t    ResultSet rs=null;\n+\t    try {\n+\t    \tcon=DbConnect.getDBConnection();\n+         prepStmt = con.prepareStatement(UPDATE_SQL);\n+         prepStmt.setInt(1,stu.getId());\n+\t    \tprepStmt.setString(2,stu.getName());\n+\t    \tprepStmt.setString(3,stu.getSex());\n+\t    \tprepStmt.setInt(4,stu.getAge());\n+\t    \tprepStmt.setFloat(5,stu.getWeight());\n+\t    \tprepStmt.setFloat(6,stu.getHeight());\n+\t    \tprepStmt.setInt(7,stu.getId());\n+\t    \tint rowCount=prepStmt.executeUpdate();\n+            if (rowCount == 0) {\n+                   throw new Exception(\"Update Error:Student Id:\" + stu.getId());\n+            }\n+        } catch (Exception e) {\n+                // handle exception\n+        } finally {\n+        \t DbConnect.closeDB(con, prepStmt, rs);\n+        }\n+    }\n+  \n+}"
  }, {
    "sha" : "5eb0e1e5c3d28fab4ab2518e2c26c249ddf03b81",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902115/UserData.java",
    "status" : "added",
    "additions" : 39,
    "deletions" : 0,
    "changes" : 39,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902115/UserData.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902115/UserData.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902115/UserData.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,39 @@\n+package edu.hzu.javaweb.labs.se1414080902115;\n+\n+public class UserData {\n+\tprivate String id;\n+ private String user;\n+ private String pwd;\n+ private boolean Remember;\n+ public void UserDate(){\n+\t user=\"\";\n+\t pwd=\"\";\n+\t Remember=true;\n+ }\n+ public void setUser(String name){\n+\t   user=name;\n+ }\n+ public void setPwd(String Pwd)\n+ {\n+\t pwd=Pwd;\n+ }\n+ public void setRemeber(boolean remember)\n+ {\n+\t Remember=remember;\n+ }\n+ public String getId() {\n+\treturn id;\n+}\n+public void setId(String id) {\n+\tthis.id = id;\n+}\n+public String getUser(){\n+\treturn user;\n+ }\n+ public String getPwd(){\n+\t return pwd;\n+ }\n+ public boolean getRemember(){\n+\t return Remember;\n+ }\n+}"
  }, {
    "sha" : "198605759b6f9d2f22ef647e11a559a596e548d5",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/EncodingFilter.java",
    "status" : "added",
    "additions" : 37,
    "deletions" : 0,
    "changes" : 37,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,37 @@\n+package filters;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+public class EncodingFilter implements Filter {\n+\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\tpublic void doFilter(ServletRequest arg0, ServletResponse arg1,\n+\t\t\tFilterChain arg2) throws IOException, ServletException {\n+\t\tHttpServletRequest request;\n+// TODO Auto-generated method stub\n+\t\targ0.setCharacterEncoding(\"UTF-8\");    \n+\t\t\t\targ1.setCharacterEncoding(\"UTF-8\");    \n+\t\t\t\t\targ2.doFilter(arg0, arg1); \n+\n+\t}\n+\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "82ebeae28247b03f5159497fadada861b91d3f90",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/JDBC.class",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/JDBC.class",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/JDBC.class",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/JDBC.class?ref=ff6b6cefecd0688765915617855d46424c07c15e"
  }, {
    "sha" : "c2d6e983ae4e5d6c507e88c4a40b9a247ae5b56f",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/JDBC.java",
    "status" : "added",
    "additions" : 33,
    "deletions" : 0,
    "changes" : 33,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/JDBC.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/JDBC.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/JDBC.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,33 @@\n+package bean;\n+\n+import java.sql.*;\n+\n+public class JDBC {\n+\tprivate String url = \"jdbc:mysql://localhost:3306/test?user=root&password=&useUnicode=true&characterEncoding=UTF8\";\n+\tprivate Connection conn;\n+\tprivate String sql;\n+\tprivate Statement stmt;\n+\tprivate ResultSet Rs;\n+\tprivate int rs;\n+\tpublic void getConnection() throws SQLException\n+\t{\n+\t\tnew com.mysql.jdbc.Driver();\n+\t\tconn = DriverManager.getConnection(url);\n+\t}\n+\t\n+\t\n+\tpublic ResultSet setQuery(String sql) throws SQLException\n+\t{\t\t//��ѯ\n+\t\tstmt = conn.createStatement();\n+\t\tthis.sql = sql;\n+\t\tRs = stmt.executeQuery(sql);\n+\t\treturn Rs;\n+\t}\n+\t\n+\tpublic void setUpdate(String sql) throws SQLException\n+\t{\n+\t\tstmt=conn.createStatement();\n+\t\tthis.sql = sql;\n+\t\trs = stmt.executeUpdate(sql);\n+\t}\n+}"
  }, {
    "sha" : "5afc7f98bca2245660046b55099c02ed360ce4f2",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/SC1414080902116Serevlet.java",
    "status" : "added",
    "additions" : 146,
    "deletions" : 0,
    "changes" : 146,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/SC1414080902116Serevlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/SC1414080902116Serevlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/SC1414080902116Serevlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,146 @@\n+package edu.hzu.javaweb.labs;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.sql.ResultSet;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import bean.JDBC;\n+\n+\n+\n+public class SC1414080902116Serevlet extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic SC1414080902116Serevlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+\t\tout.println(\"<HTML>\");\n+\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+\t\tout.println(\"  <BODY>\");\n+\t\tout.print(\"    This is \");\n+\t\tout.print(this.getClass());\n+\t\tout.println(\", using the GET method\");\n+\t\tout.println(\"  </BODY>\");\n+\t\tout.println(\"</HTML>\");\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tJDBC jdbc = new JDBC();\n+\t\tresponse.setContentType(\"text/html\");\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tString name = request.getParameter(\"name1\");\n+\t\tString delete = String.format(\"delete from yonghu where name='%s'\", name);\n+\t\tString sql = \"select * from yonghu\";\n+\t\ttry\n+\t\t{\n+\t\t\tjdbc.getConnection();\n+\t\t\tjdbc.setUpdate(delete);\n+\t\t\tResultSet Rs = jdbc.setQuery(sql);\n+\t\t\tout.println(\"��ӳɹ�<br>\");\n+\t\t\tout.println(\"<table border='1'><tr>\");\n+\t\t    out.println(\"<td>name</td>\");\n+\t\t    out.println(\"<td>id</td>\");\n+\t\t    out.println(\"<td>roomnumber</td>\");\n+\t\t    out.println(\"<td>telephone</td>\");\n+\t\t    out.println(\"<td>assumption</td>\");\n+\t\t    out.println(\"</tr>\");\n+\t\t\twhile(Rs.next())\n+\t\t\t{  \n+\t\t\t    String name1 = Rs.getString(\"name\");\n+\t\t\t\tString id1 = Rs.getString(\"id\");\n+\t\t\t\tString roomnumber1 = Rs.getString(\"roomnuber\");\n+\t\t\t\tString telephone1 = Rs.getString(\"telephone\");\n+\t\t\t\tString assumption1 = Rs.getString(\"assumption\");\n+\t\t\t\tout.println(\"<tr>\");\n+\t\t       \tout.println(\"<td>\"+name1+\"</td>\");\n+\t\t       \tout.println(\"<td>\"+id1+\"</td>\");\n+\t\t       \tout.println(\"<td>\"+roomnumber1+\"</td>\");\n+\t\t       \tout.println(\"<td>\"+telephone1+\"</td>\");\n+\t\t       \tout.println(\"<td>\"+assumption1+\"</td>\");\n+\t\t\t\tout.println(\"</tr>\");\n+\t\t\t}\n+\t\t\t\tout.println(\"</table><br>\");\n+\t\t\t\tout.println(\"<a href='/sy5/add1.jsp'>����</a>\");\n+\t\t}\n+\t\tcatch (Exception e){\n+\t\t\t\n+\t\t\t\n+\t\t}\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+\t/**\n+\t * The doPut method of the servlet. <br>\n+\t *\n+\t * This method is called when a HTTP put request is received.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPut(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "75a190877394b320d511f8ba1d0716d3ecf0449c",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/Sc1414080902116Servlet.java",
    "status" : "added",
    "additions" : 140,
    "deletions" : 0,
    "changes" : 140,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/Sc1414080902116Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/Sc1414080902116Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/Sc1414080902116Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,140 @@\n+package edu.hzu.javaweb.labs;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+\n+\n+import bean.JDBC;\n+\n+import com.hzu.*;\n+\n+import java.sql.*;\n+\n+public class Sc1414080902116Servlet extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Sc1414080902116Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\t\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tJDBC jdbc = new JDBC();\n+\t\tresponse.setContentType(\"text/html\");\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tString name = request.getParameter(\"name\");\n+\t\tString id=request.getParameter(\"id\");\n+\t\tString telephone = request.getParameter(\"telephone\");\n+\t\tString roomnumber  =request.getParameter(\"roomnumber\");\n+\t\tString assumption = request.getParameter(\"assumption\");\n+\t\tString insert = String.format(\"insert into yonghu(name,id,telephone,roomnuber,assumption) values ('%s','%s','%s','%s','%s')\", name,id,telephone,roomnumber,assumption);\n+\t\tString sql = \"select * from yonghu\";\n+\t\ttry\n+\t\t{\n+\t\t\tjdbc.getConnection();\n+\t\t\tjdbc.setUpdate(insert);\n+\t\t\tResultSet Rs = jdbc.setQuery(sql);\n+\t\t\tout.println(\"��ӳɹ�<br>\");\n+\t\t\tout.println(\"<table border='1'><tr>\");\n+\t\t    out.println(\"<td>name</td>\");\n+\t\t    out.println(\"<td>id</td>\");\n+\t\t    out.println(\"<td>roomnumber</td>\");\n+\t\t    out.println(\"<td>telephone</td>\");\n+\t\t    out.println(\"<td>assumption</td>\");\n+\t\t    out.println(\"</tr>\");\n+\t\t\twhile(Rs.next())\n+\t\t\t{  \n+\t\t\t    String name1 = Rs.getString(\"name\");\n+\t\t\t\tString id1 = Rs.getString(\"id\");\n+\t\t\t\tString roomnumber1 = Rs.getString(\"roomnuber\");\n+\t\t\t\tString telephone1 = Rs.getString(\"telephone\");\n+\t\t\t\tString assumption1 = Rs.getString(\"assumption\");\n+\t\t\t\tout.println(\"<tr>\");\n+\t\t       \tout.println(\"<td>\"+name1+\"</td>\");\n+\t\t       \tout.println(\"<td>\"+id1+\"</td>\");\n+\t\t       \tout.println(\"<td>\"+roomnumber1+\"</td>\");\n+\t\t       \tout.println(\"<td>\"+telephone1+\"</td>\");\n+\t\t       \tout.println(\"<td>\"+assumption1+\"</td>\");\n+\t\t\t\tout.println(\"</tr>\");\n+\t\t\t}\n+\t\t\t\tout.println(\"</table><br>\");\n+\t\t\t\tout.println(\"<a href='/sy5/add1.jsp'>����</a>\");\n+\t\t}\n+\t\tcatch (Exception e){\n+\t\t\t\n+\t\t\t\n+\t\t}\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+\t/**\n+\t * The doPut method of the servlet. <br>\n+\t *\n+\t * This method is called when a HTTP put request is received.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPut(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "5143d55893d649d7fc0f39e0c32d9748373f8b0a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/Se1414080902116Servlet.java",
    "status" : "added",
    "additions" : 103,
    "deletions" : 0,
    "changes" : 103,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/Se1414080902116Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/Se1414080902116Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/Se1414080902116Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,103 @@\n+ package edu.hzu.javaweb.labs;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class Se1414080902116Servlet extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Se1414080902116Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tString userName=request.getParameter(\"username\");\n+\t\tString userPwd=request.getParameter(\"userpwd\");\n+\t\tString fuctiond=\"\";\n+\t\tif(\"abc\".equals(userName)&&\"123\".equals(userPwd))\n+\t\t\t{fuctiond=\"��ӭ��,\"+userName+\",��¼�������ϵͳ! \";\n+\t\t\t\n+\t\t\t} else { fuctiond=\"�û�����ȷ,��������ȷ����Ϣ!\" ;}\n+\n+\t\trequest.setAttribute(\"outputMessage\",fuctiond);\n+\t\trequest.getRequestDispatcher(\"/fuction.jsp\").forward(request, response);\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+String userName=request.getParameter(\"username\");\n+String userPwd=request.getParameter(\"userpwd\");\n+String fuction=\"\";\n+if(\"abc\".equals(userName)&&\"123\".equals(userPwd))\n+\t{fuction=\"��ӭ��,\"+userName+\",��¼�������ϵͳ! \";\n+\t\n+\t} else { fuction=\"�û�����ȷ,��������ȷ����Ϣ!\" ;}\n+\n+request.setAttribute(\"outputMessage\",fuction);\n+request.getRequestDispatcher(\"/fuction.jsp\").forward(request, response);\n+\t}\n+\n+\t\n+\t/**\n+\t * The doPut method of the servlet. <br>\n+\t *\n+\t * This method is called when a HTTP put request is received.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPut(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "1e7c736c0c04331c6f67aba3bce10bbb258a5861",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/Tj1414080902116Servlet.java",
    "status" : "added",
    "additions" : 144,
    "deletions" : 0,
    "changes" : 144,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/Tj1414080902116Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/Tj1414080902116Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/Tj1414080902116Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,144 @@\n+package edu.hzu.javaweb.labs;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import bean.*;\n+\n+\n+\n+import java.sql.*;\n+\n+public class Tj1414080902116Servlet extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Tj1414080902116Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+\t\tout.println(\"<HTML>\");\n+\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+\t\tout.println(\"  <BODY>\");\n+\t\tout.print(\"    This is \");\n+\t\tout.print(this.getClass());\n+\t\tout.println(\", using the GET method\");\n+\t\tout.println(\"  </BODY>\");\n+\t\tout.println(\"</HTML>\");\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\");\n+\t\tString name = request.getParameter(\"name1\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tJDBC jdbc = new JDBC();\n+\t\tString sql = String.format(\"select * from yonghu where name='%s'\", name);\n+\t\ttry{\n+\t\t\t\tjdbc.getConnection();\n+\t\t\t\tResultSet Rs =jdbc.setQuery(sql);\n+\t\t\t\tout.println(\"��ӳɹ�<br>\");\n+\t\t\t\tout.println(\"<table border='1'><tr>\");\n+\t\t\t    out.println(\"<td>name</td>\");\n+\t\t\t    out.println(\"<td>id</td>\");\n+\t\t\t    out.println(\"<td>roomnumber</td>\");\n+\t\t\t    out.println(\"<td>telephone</td>\");\n+\t\t\t    out.println(\"<td>assumption</td>\");\n+\t\t\t    out.println(\"</tr>\");\n+\t\t\t\twhile(Rs.next())\n+\t\t\t\t{  \n+\t\t\t\t    String name1 = Rs.getString(\"name\");\n+\t\t\t\t\tString id = Rs.getString(\"id\");\n+\t\t\t\t\tString roomnumber = Rs.getString(\"roomnuber\");\n+\t\t\t\t\tString telephone = Rs.getString(\"telephone\");\n+\t\t\t\t\tString assumption = Rs.getString(\"assumption\");\n+\t\t\t\t\tout.println(\"<tr>\");\n+\t\t\t       \tout.println(\"<td>\"+name1+\"</td>\");\n+\t\t\t       \tout.println(\"<td>\"+id+\"</td>\");\n+\t\t\t       \tout.println(\"<td>\"+roomnumber+\"</td>\");\n+\t\t\t       \tout.println(\"<td>\"+telephone+\"</td>\");\n+\t\t\t       \tout.println(\"<td>\"+assumption+\"</td>\");\n+\t\t\t\t\tout.println(\"</tr>\");\n+\t\t\t\t}\n+\t\t\t\t\tout.println(\"</table><br>\");\n+\t\t\t\t\tout.println(\"<a href='/sy5/add1.jsp'>����</a>\");\n+\t\t}\n+\t\tcatch(Exception e)\n+\t\t{\n+\t\t\t\n+\t\t}\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+\t/**\n+\t * The doPut method of the servlet. <br>\n+\t *\n+\t * This method is called when a HTTP put request is received.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPut(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "2a4ef35ae6999ba64d827182d46269dbc5ec9863",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/add.jsp",
    "status" : "added",
    "additions" : 35,
    "deletions" : 0,
    "changes" : 35,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/add.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/add.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/add.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,35 @@\n+<%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"utf8\"%>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+%>\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'index.jsp' starting page</title>\n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+  </head>\n+  \n+  <body>\n+    新增的租客有：</br>\n+  <c:forEach var=\"item\" items=\"john  ,james    ,kobe   ,huang    ,liu    \" end=\"5\" step=\"1\">\n+   <if test=\"${ item}\">\n+\t\t<c:out value=\"${ item}\"/></br>\n+\t\t</if>\n+  </c:forEach>\n+  \n+  \n+\n+    </body>\n+</html>\n\\ No newline at end of file"
  }, {
    "sha" : "466e86c5299de74fd3320f2a8985fe7ef716ef7a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/add1.jsp",
    "status" : "added",
    "additions" : 73,
    "deletions" : 0,
    "changes" : 73,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/add1.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/add1.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/add1.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,73 @@\n+<%@ page language=\"java\" import=\"java.util.*,bean.JDBC,java.sql.*\" pageEncoding=\"UTF-8\"%>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+\n+//String id = request.getParameter(\"id\");\n+\n+JDBC jdbc = new JDBC();\t\t//实例化对象\n+try{\n+\tjdbc.getConnection();  \n+\t\n+\tResultSet Rs =jdbc.setQuery(\"select * from yonghu\");\n+\tout.println(\"连接成功<br>\");\n+\tout.println(\"<table border='1'><tr>\");\n+    out.println(\"<td>name</td>\");\n+    out.println(\"<td>id</td>\");\n+    out.println(\"<td>roomnumber</td>\");\n+    out.println(\"<td>telephone</td>\");\n+    out.println(\"<td>assumption</td>\");\n+    out.println(\"</tr>\");\n+\twhile(Rs.next())\n+\t{  \n+\t    String name = Rs.getString(\"name\");\n+\t\tString id = Rs.getString(\"id\");\n+\t\tString roomnumber = Rs.getString(\"roomnuber\");\n+\t\tString telephone = Rs.getString(\"telephone\");\n+\t\tString assumption = Rs.getString(\"assumption\");\n+\t\tout.println(\"<tr>\");\n+       \tout.println(\"<td>\"+name+\"</td>\");\n+       \tout.println(\"<td>\"+id+\"</td>\");\n+       \tout.println(\"<td>\"+roomnumber+\"</td>\");\n+       \tout.println(\"<td>\"+telephone+\"</td>\");\n+       \tout.println(\"<td>\"+assumption+\"</td>\");\n+\t\tout.println(\"</tr>\");\n+\t}\n+\t\tout.println(\"</table>\");\n+\t//jdbc.setUpdate(\"insert into yonghu(name,id,roomnuber,telephone,assumption) values('li','43353','301','123456','200')\");\n+\n+\t\n+\n+}\n+catch(Exception e)\n+{\n+\tout.println(\"连接失败\");\n+}\n+\n+%>\n+\n+\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'index.jsp' starting page</title>\n+    \n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+\n+  </head>\n+  \n+  <body>\n+   <a href=\"index.jsp\"> 添加，查询，删除功能</a></br></br>\n+ \n+  </body>\n+</html>"
  }, {
    "sha" : "37d3ea9702ce3aa4fb64250447d3ea0eaa61b575",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/doSubmit.jsp",
    "status" : "added",
    "additions" : 35,
    "deletions" : 0,
    "changes" : 35,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/doSubmit.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/doSubmit.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/doSubmit.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,35 @@\n+<%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"utf8\"%>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+%>\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'index.jsp' starting page</title>\n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+  </head>\n+  \n+  <body><h2>你提交显示的内容如下：</h2>\n+  <% request.setCharacterEncoding(\"utf8\"); %>\n+  用户名:${param.name }</br>\n+  密码：123\n+  性别:${param.sex }</br>\n+  电话：${param.regTelephone}</br>\n+ email:${param.email}</br>\n+  个人简介:${param.intro}</br>\n+  <a href=\"login.jsp\">返回登录界面 </a></br>\n+  <a href=\"zhuce.jsp\">返回注册界面</a>\n+      </form>\n+    </body>\n+</html>\n\\ No newline at end of file"
  }, {
    "sha" : "f5bdab2282240cd62e815a98c47e9db7aa73a3da",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/fuction.jsp",
    "status" : "added",
    "additions" : 72,
    "deletions" : 0,
    "changes" : 72,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/fuction.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/fuction.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/fuction.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,72 @@\n+<%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"utf8\"%>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+%>\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'index.jsp' starting page</title>\n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+  </head>\n+  \n+  <body>\n+ \n+    <h4 align=\"center\" style=color:blue; ></4></br>\n+    <%String str1 =request.getParameter(\"username\"); \n+    String str2 =request.getParameter(\"userpwd\"); \n+    String fuction=\"\";\n+\t\tif(\"abc\".equals(str1)&&\"123\".equals(str2))\n+\t\t\t{fuction=\"欢迎你,\"+str1+\",登录房租管理系统! \";\n+\t\t\tout.print(fuction);\n+\t\t\n+\t\t\t\n+\t\t\t}\n+\t\t\t\n+\t\t\t else { fuction=\"用户名不正确,请输入正确的信息!\" ;\n+\t\t\tout.print(fuction);%>\n+\t\t\t<jsp:forward page=\"/loginerror.jsp\" >\n+\t\t\t\t<jsp:param value=\"1\" name=\"error\"/>\n+\t\t\t</jsp:forward>\n+\t\t\t\n+\t\t\t<%}\n+\n+     %>\n+  \n+     </h4>\n+    <centre color=\"blue\">选择你需要的功能：</br>\n+    \n+\t\t\t<c:forEach var=\"item\" items=\"1.管理已经出租的房间,2.增加新租客的信息,3.查看XXX房间的水电消费情况。,4.发布最新租房信息\" \n+\t\tbegin=\"0\"\t end=\"4\" step=\"1\" > \n+\t\t<if test=\"${ item}\">\n+\t\t<c:out value=\"${ item}\"/></br>\n+\t\t</if>\n+\t\t\t</c:forEach></br>\n+   <a href=\"see.jsp\"> 1.fuction</a></br></br>\n+  \n+\n+   <a href=\"add1.jsp\"> 2.fuction</br></br>\n+    \n+    \n+            \n+    <a href=\"xxx1.jsp\"> 3.fuction</a></br></br>\n+      \n+     \n+              \n+   <a href=\"putfoward.jsp\"> 4.fuction</br></br>\n+    \n+\n+\n+  </body>\n+</html>\n\\ No newline at end of file"
  }, {
    "sha" : "33e0d7d30d7038466505f14a5e00e7ffc26b1fca",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/index.js",
    "status" : "added",
    "additions" : 15,
    "deletions" : 0,
    "changes" : 15,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/index.js",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/index.js",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/index.js?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,15 @@\n+function f_select()\n+\t{\n+\t\tform1.action = \"/sy5/servlet/Tj1414080902116Servlet\";\n+\t\tform1.submit();\n+\t}\n+function f_insert()\n+{\n+\tform1.action = \"/sy5/servlet/Sc1414080902116Servlet\";\n+\tform1.submit();\n+}\n+function f_delete()\n+{\n+\tform1.action = \"/sy5/servlet/SC1414080902116Serevlet\";\n+\tform1.submit();\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "d33b7d01c88f3b402ac3a67cbca7633a3cd80831",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/index.jsp",
    "status" : "added",
    "additions" : 49,
    "deletions" : 0,
    "changes" : 49,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/index.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/index.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/index.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,49 @@\n+<%@ page language=\"java\" import=\"java.util.*,bean.JDBC,java.sql.*\" pageEncoding=\"UTF-8\"%>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+\n+//String id = request.getParameter(\"id\");\n+\n+\n+%>\n+\n+\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>添加记录</title>\n+    \n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t\n+\t-->\n+\t<script src=\"js/index.js\"></script>\n+  </head>\n+\n+  <body>\n+  <form action=\"#\" method=\"post\" id=\"form1\">\n+  查询/删除\n+  <hr>\n+  名字:<input type=\"text\" name=\"name1\">\n+ \t<input type=\"submit\" value=\"查询\" onclick=\"f_select()\">&nbsp;\n+ \t<input type=\"submit\" value=\"删除\" onclick=\"f_delete()\">\n+ \t<br>\n+ \t<hr>\n+ 增加<br>\n+  名字:<input type=\"text\" name=\"name\"><br>\n+ ID:<input type=\"text\" name=\"id\"><br>\n+ roomnumber:<input type=\"text\" name=\"roomnumber\"><br>\n+ telephone:<input type=\"text\" name=\"telephone\"><br>\n+ assumption:<input type=\"text\" name=\"assumption\"><br>\n+ \t<input type=\"submit\" value=\"插入\" onclick=\"f_insert()\">\n+  </body>\n+</html>"
  }, {
    "sha" : "2ebca7ce4ab8f81f09bac74d4d66c973b5a8c317",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/login.jsp",
    "status" : "added",
    "additions" : 39,
    "deletions" : 0,
    "changes" : 39,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/login.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/login.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/login.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,39 @@\n+<%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"utf8\"%>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+%>\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'index.jsp' starting page</title>\n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+  </head>\n+  \n+  <body>\n+<form action=\"servlet/Se1414080902116Servlet\" method=\"post\" >\n+\n+    <h4 align=\"center\">会员登录界面</4></br>\n+请输入用户名:<input type=\"text\" name=\"username\"/></br>\n+请输入密码:<input type=\"password\" name=\"userpwd\"/></br>\n+<blockquote>\n+<input type=\"submit\" value=\"提交\" name=\"button1\">\n+<input type=\"submit\" value=\"重置\" name=\"button2\"></br>\n+\n+<form actin=\"zhuce.jsp\" method=\"post\">\n+你还没有注册，你是否想要注册一个账号：</br>\n+<a href=\"zhuce.jsp\">注册</a>\n+\n+</blockquote>\n+  </body>\n+</html>"
  }, {
    "sha" : "e133d797836db2b2cb05bb7b846eb9b4a366e6bd",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/loginFilter.java",
    "status" : "added",
    "additions" : 45,
    "deletions" : 0,
    "changes" : 45,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/loginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/loginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/loginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,45 @@\n+package filters;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+public class loginFilter implements Filter {\n+\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\tpublic void doFilter(ServletRequest arg0, ServletResponse arg1,\n+\t\t\tFilterChain arg2) throws IOException, ServletException {\n+\t\tHttpServletRequest request = null;\n+// TODO Auto-generated method stub\n+\t\targ0.setCharacterEncoding(\"utf-8\");\n+\t\targ1.setCharacterEncoding(\"utf-8\");\n+\t\tString username = arg0.getParameter(\"username\");\n+\t\t // TODO Auto-generated method stub \n+\t\t HttpServletRequest requ=(HttpServletRequest)request; \n+\t\t HttpServletResponse response = null; \n+\t\t HttpServletResponse resp=(HttpServletResponse)response; \n+\t\t HttpSession session=requ.getSession(true); \n+\t\t if(username == \"\") {resp.sendRedirect(\"login.jsp\"); } \n+\t\t else {FilterChain filterchain = null; \n+\t\t filterchain.doFilter(request,response);} \n+\n+\t}\n+\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generatedmethod stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "d986e69a76decefde7c192c37a918b2e17f3bfa0",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/loginerror.jsp",
    "status" : "added",
    "additions" : 27,
    "deletions" : 0,
    "changes" : 27,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/loginerror.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/loginerror.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/loginerror.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,27 @@\n+<%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"utf8\"%>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+%>\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'index.jsp' starting page</title>\n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+  </head>\n+<body>\n+你的账号密码错误:<a href=\"login.jsp\"> 返回登录界面</a></br>\n+你还没有注册，你是否想要注册一个账号：\n+<a href=\"zhuce.jsp\">注册</a></br>\n+  </body>\n+</html>\n\\ No newline at end of file"
  }, {
    "sha" : "c02bd1adb3fd75712de87b166416e3307e1530a4",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/p1.jsp",
    "status" : "added",
    "additions" : 27,
    "deletions" : 0,
    "changes" : 27,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/p1.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/p1.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/p1.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,27 @@\n+<%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"utf8\"%>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+%>\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'index.jsp' starting page</title>\n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+  </head>\n+<body>\n+提交成功</br>\n+\n+<a href=\"fuction.jsp\"> 返回功能界面</a>\n+  </body>\n+</html>\n\\ No newline at end of file"
  }, {
    "sha" : "b1e8e89785f49754145add2342499899c5171962",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/putfoward.jsp",
    "status" : "added",
    "additions" : 67,
    "deletions" : 0,
    "changes" : 67,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/putfoward.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/putfoward.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/putfoward.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,67 @@\n+<%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"utf8\"%>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+%>\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'index.jsp' starting page</title>\n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+  </head>\n+<body><h4 align=\"center\">租房信息发布系统</h4></br>\n+输入你的姓名：<input type=\"text\" name=\"uersName\"/></br>\n+输入你的电话联系方式:<input type=\"text\" name=\"uersphone\"/></br>\n+输入你出租房所在地址：<input type=\"text\" name=\"uershome\"/></br>\n+选择你所出租的房子类型：</br>\n+类型：\n+<select name=\"select2\">\n+<option select>三房一厅</option>\n+<option>两房两厅</option>\n+<option>两房一厅</option>\n+<option>四房两厅</option>\n+</br>\n+输入你出租的类型:<input type=\"text\" name=\"typeName\"/></br>\n+输入你所出售房子的价格：<input type=\"text\" name=\"typeprice\"/></br>\n+房子装修的类型：\n+<select name=\"select3\">\n+<option select>普通装修</option>\n+<option>居家精细装修</option>\n+<option>豪华装修</option>\n+<option>欧美风格装修</option>\n+输入你房子装修的类型:<input type=\"text\" name=\"typedecorate\"/></br>\n+出租房子的楼层：\n+<select name=\"select4\">\n+<option select>一楼</option>\n+<option>二楼</option>\n+<option>三楼</option>\n+<option>四楼</option>\n+<option>五楼</option>\n+输入你房子楼层:<input type=\"text\" name=\"type1e\"/></br>\n+房子所拥有家具或者电器：\n+<td= cospan=\"2\">\n+<input type=\"checkbox\" name=\"stucheck\">冰箱\n+<input type=\"checkbox\" name=\"stucheck\">空调\n+<input type=\"checkbox\" name=\"stucheck\">电视\n+<input type=\"checkbox\" name=\"stucheck\">沙发\n+<input type=\"checkbox\" name=\"stucheck\">风扇\n+\n+\n+房东说明：</br>\n+<td=colspan=\"2\"><textarea name=\"letter\" rows=\"8\" cols=\"60\"></textarea></br>\n+<a href=\"p1.jsp\"> 提交并发布所编辑内容</a></br>\n+<a href=\"fuction.jsp\"> 返回功能界面</a>\n+\n+   <p>:<%=new Date() %> </p>\n+  </body>\n+</html>"
  }, {
    "sha" : "9d74df77dbd23f926f675a7c00d4b4e433a66284",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/see.jsp",
    "status" : "added",
    "additions" : 42,
    "deletions" : 0,
    "changes" : 42,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/see.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/see.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/see.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,42 @@\n+<%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"utf8\"%>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+%>\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'index.jsp' starting page</title>\n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+  </head>\n+  \n+  <body>\n+  <form action=\"see1.jsp\" method=\"post\">\n+  <% request.setCharacterEncoding(\"utf8\"); %>\n+ 现在出出租的房间有：<input type=\"text\" name=\"c1\" value=\"301\" size=\"3\">,\n+ <input type=\"text\" name=\"c2\" value=\"302\" size=\"3\">,\n+ <input type=\"text\" name=\"c3\" value=\"303\" size=\"3\">,\n+<input type=\"text\" name=\"c4\" value=\"304\" size=\"3\"></br>\n+增加已经出租的房间:<input type=\"text\" name=\"c5\"  size=\"3\"></br>\n+\n+ 你要删除的出租的房间有：   <input type=\"text\" name=\"c6\"  size=\"3\">\n+ <input type=\"submit\" value=\"提交\" name=\"button1\">\n+<input type=\"submit\" value=\"重置\" name=\"button2\"></br>\n+\n+\n+    \n+    \n+    \n+\n+  </body>\n+</html>\n\\ No newline at end of file"
  }, {
    "sha" : "23de4e4110967adbb86dd866efd65213340db6c5",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/see1.jsp",
    "status" : "added",
    "additions" : 36,
    "deletions" : 0,
    "changes" : 36,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/see1.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/see1.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/see1.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,36 @@\n+<%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"utf8\"%>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+%>\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'index.jsp' starting page</title>\n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+  </head>\n+  \n+  <body>\n+  <% request.setCharacterEncoding(\"utf8\"); %>\n+  你所提交的内容如下：\n+ 现在出出租的房间有：</br>\n+${param.c2},${param.c3},${param.c4 },${param.c5 }</br>\n+ \n+ <a href=\"fuction.jsp\">返回功能界面</a>\n+ \n+ \n+\n+    </body>\n+</html>\n\\ No newline at end of file"
  }, {
    "sha" : "5d73239a0f53c74bd6cc0b886428d6780bfc25de",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/xxx.jsp",
    "status" : "added",
    "additions" : 32,
    "deletions" : 0,
    "changes" : 32,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/xxx.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/xxx.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/xxx.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,32 @@\n+<%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"utf8\"%>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jstl/core\" %>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+%>\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'index.jsp' starting page</title>\n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+  </head>\n+  \n+  <body>\n+  新增的租客有：\n+  <c:forEach var=\"item\" items=\"john,james,kobe,huang,liu\" end=\"5\" step=\"1\">\n+  ${item}</br>\n+  </c:forEach>\n+  \n+  \n+    </body>\n+</html>\n\\ No newline at end of file"
  }, {
    "sha" : "d7c94d5445dc752be887a17c9e40725b5ad0b588",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/xxx1.jsp",
    "status" : "added",
    "additions" : 75,
    "deletions" : 0,
    "changes" : 75,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/xxx1.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/xxx1.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/xxx1.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,75 @@\n+<%@ page language=\"java\" import=\"java.util.*,bean.JDBC,java.sql.*\" pageEncoding=\"UTF-8\"%>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+\n+//String id = request.getParameter(\"id\");\n+\n+JDBC jdbc = new JDBC();\t\t//实例化对象\n+try{\n+\tjdbc.getConnection();  \n+\t\n+\tResultSet Rs =jdbc.setQuery(\"select * from zhuke\");\n+\tout.println(\"连接成功<br>\");\n+\tout.println(\"<table border='1'><tr>\");\n+    out.println(\"<td>name</td>\");\n+    out.println(\"<td>id</td>\");\n+    out.println(\"<td>room</td>\");\n+    out.println(\"<td>water_assumption</td>\");\n+    out.println(\"<td>electionic_assumption</td>\");\n+    out.println(\"<td>rent_assumption</td>\");\n+    out.println(\"</tr>\");\n+\twhile(Rs.next())\n+\t{  \n+\t    String name = Rs.getString(\"name\");\n+\t\tString id = Rs.getString(\"id\");\n+\t\tString room = Rs.getString(\"room\");\n+\t\tString water_assumption = Rs.getString(\"water_assumption\");\n+\t\tString electionic_assumption = Rs.getString(\"electionic_assumption\");\n+\t\tString rent_assumption = Rs.getString(\"rent_assumption\");\n+\t\tout.println(\"<tr>\");\n+       \tout.println(\"<td>\"+name+\"</td>\");\n+       \tout.println(\"<td>\"+id+\"</td>\");\n+       \tout.println(\"<td>\"+room+\"</td>\");\n+       \tout.println(\"<td>\"+water_assumption+\"</td>\");\n+       \tout.println(\"<td>\"+electionic_assumption+\"</td>\");\n+       \tout.println(\"<td>\"+rent_assumption+\"</td>\");\n+\t\tout.println(\"</tr>\");\n+\t}\n+\t\tout.println(\"</table>\");\n+\t//jdbc.setUpdate(\"insert into yonghu(name,id,roomnuber,telephone,assumption) values('li','43353','301','123456','200')\");\n+\n+\t\n+\n+}\n+catch(Exception e)\n+{\n+\tout.println(\"连接失败\");\n+}\n+\n+%>\n+\n+\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'index.jsp' starting page</title>\n+    \n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+\n+  </head>\n+  \n+  <body>\n+  \n+  </body>\n+</html>"
  }, {
    "sha" : "ec540d4d3652145b4cef95dda1a9ce7c7d20f302",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902116/zhuce.jsp",
    "status" : "added",
    "additions" : 39,
    "deletions" : 0,
    "changes" : 39,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/zhuce.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902116/zhuce.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902116/zhuce.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,39 @@\n+<%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"utf8\"%>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+%>\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'index.jsp' starting page</title>\n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+  </head>\n+  \n+  <body>\n+  <form action=\"doSubmit.jsp\" method=\"post\">\n+  <head><title>  注册页面</title></head>\n+  <% request.setCharacterEncoding(\"utf8\"); %>\n+ 用户名：<input type=\"txet\" name=\"name\" value=\"abc\"></br>\n+密码:<input type=\"password\" name=\"userPwd\" value=\"123\"></br>\n+  性别：<td><input type=\"radio\" name=\"sex\" value=\"男\" checked/>男\n+  <input type=\"radio\" name=\"sex\" value=\"女\" checked/>女</td></br>\n+   电话：<input type=\"text\" name=\"regTelephone\"></br>\n+  邮箱地址：<input type=\"txet\" name=\"email\"></br>\n+  \n+  简介<textarea rows=\"2\" cols=\"30\" name=\"intro\"></textarea></br>\n+<tr><td colspan=\"3\" align=\"center\" height=\"40\">\n+<input type=\"submit\" value=\"提交\"/>  <input type=\"reset\" value=\"重置\"/>\n+    </form>\n+    </body>\n+</html>\n\\ No newline at end of file"
  }, {
    "sha" : "1072ce62e173f13dad77ce031615783b78662317",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902119/Category.java",
    "status" : "added",
    "additions" : 32,
    "deletions" : 0,
    "changes" : 32,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902119/Category.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902119/Category.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902119/Category.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,32 @@\n+package edu.hzu.javaweb.labs.se1414080902119;\n+\n+public class Category {\n+\tpublic String name; // 图书类别名字\n+\tprivate Boolean isHasBook; // 该类别下是否有图书标�?\n+\n+\tpublic String getName() {\n+\t\treturn name;\n+\t}\n+\n+\tpublic void setName(String name) {\n+\t\tthis.name = name;\n+\t}\n+\n+\tpublic Boolean getIsHasBook() {\n+\t\treturn isHasBook;\n+\t}\n+\n+\tpublic void setIsHasBook(Boolean isHasBook) {\n+\t\tthis.isHasBook = isHasBook;\n+\t}\n+\n+\tpublic Category(String name, Boolean isHasBook) {\n+\t\tsuper();\n+\t\tthis.name = name;\n+\t\tthis.isHasBook = isHasBook;\n+\t}\n+\n+\tpublic Category() {\n+\t\tsuper();\n+\t}\n+}"
  }, {
    "sha" : "160cc0be9c087089c3907182a99e1d5949e7618a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902119/Member.java",
    "status" : "added",
    "additions" : 23,
    "deletions" : 0,
    "changes" : 23,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902119/Member.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902119/Member.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902119/Member.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,23 @@\n+package edu.hzu.javaweb.labs.se1414080902119;\n+\n+public class Member {\n+\tpublic String name; // 图书类别名字\n+\n+\tpublic String getName() {\n+\t\treturn name;\n+\t}\n+\n+\tpublic void setName(String name) {\n+\t\tthis.name = name;\n+\t}\n+\n+\tpublic Member() {\n+\t\tsuper();\n+\t}\n+\n+\tpublic Member(String name) {\n+\t\tsuper();\n+\t\tthis.name = name;\n+\t}\n+\t\n+}"
  }, {
    "sha" : "317481a875150ba2d091272b9f1445d7dda34778",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902119/Se1414080902119filter.java",
    "status" : "added",
    "additions" : 46,
    "deletions" : 0,
    "changes" : 46,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902119/Se1414080902119filter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902119/Se1414080902119filter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902119/Se1414080902119filter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,46 @@\n+package edu.hzu.javaweb.labs.se1414080902119;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName=\"encodingFilter\",urlPatterns=\"/*\")\n+public class Se1414080902119filter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tresponse.setCharacterEncoding(\"utf-8\");\n+\t\tString localAddr = request.getLocalAddr();\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tchain.doFilter(request, response);\n+\t\tif(\"127.0.0.1\".equals(localAddr))\n+\t\t{\n+\t\t\tSystem.out.println(\"本机请求\");\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tSystem.out.println(localAddr+\"请求\");\n+\t\t}\n+\t\t\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t}\n+\n+}"
  }, {
    "sha" : "d0b038775ef7dc0bf9de62dcff3ef584d0255b60",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902119/se1414080902119servlet.java",
    "status" : "added",
    "additions" : 173,
    "deletions" : 0,
    "changes" : 173,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902119/se1414080902119servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902119/se1414080902119servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902119/se1414080902119servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,173 @@\n+package edu.hzu.javaweb.labs.se1414080902119;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.ArrayList;\n+import java.util.Iterator;\n+import java.util.List;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+@WebServlet(\"/1414080902119\")\n+public class Se1414080902119servlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+<<<<<<< HEAD\n+\n+\tprivate static List<Member> types;\n+\tstatic {\n+\t\ttypes = new ArrayList<Member>();\n+\t\ttypes.add(new Member(\"张三\"));\n+\t\ttypes.add(new Member(\"李四\"));\n+\t\ttypes.add(new Member(\"王五\"));\n+=======\n+\t\n+\t//初始化基本数�?\n+\tprivate static List<Category> types;\n+\tstatic{\n+\t\ttypes=new ArrayList<Category>();\n+\t\ttypes.add(new Category(\"日用品\", false));\n+\t\ttypes.add(new Category(\"零食\",false));\n+\t\ttypes.add(new Category(\"饮料\",true));\n+>>>>>>> 1b4d53de7844201415c405bb574a1f6751802111\n+\t}\n+\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tdoPost(request, response);\n+\t}\n+\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tresponse.setContentType(\"application/json;charset=utf-8\");\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tString operate = request.getParameter(\"operate\");\n+\t\tSystem.out.println(request.getRequestURI());\n+\t\tif (operate == null)\n+\t\t\toperate = \"\";\n+\t\tif (\"show\".equals(operate))\n+\t\t\tdoshow(response, request);\n+\t\telse if (\"add\".equals(operate))\n+\t\t\taddTypes(response, request);\n+\t\telse\n+\t\t\tshowList(response);\n+\t}\n+\n+\tprivate void doshow(HttpServletResponse response, HttpServletRequest request) throws IOException, ServletException {\n+\t\trequest.setAttribute(\"list\", types);\n+\t\tRequestDispatcher dispatcher = request.getRequestDispatcher(\"/1414080902119/client.jsp\");\n+\t\tdispatcher.forward(request, response);\n+\t}\n+<<<<<<< HEAD\n+=======\n+\tprivate void deleteTypes(HttpServletResponse response, HttpServletRequest request) throws IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\tString name=request.getParameter(\"name\");\n+\t\tString str=\"\";\n+\t\tSystem.out.println(name);\n+\t\tString[]arr=name.split(\",\");\n+\t\tfor(int j=0;j<arr.length;j++)\n+\t\t{\n+\t\t\tfor(int i=0;i<types.size();i++){\n+\t\t\t\tCategory type=types.get(i);\n+\t\t\t\tString typeName=type.getName();\n+\t\t\t\tif(typeName.equals(arr[j]))\n+\t\t\t\t{\n+\t\t\t\t\tif(type.getIsHasBook()==false)\n+\t\t\t\t\ttypes.remove(type);\n+\t\t\t\t\telse str+=type.getName()+\",\";\n+\t\t\t\t\tbreak;\n+\t\t\t\t}\n+\t\t\t} \n+\t\t}\n+\t\tif(str.length()>1){\n+\t\t\tstr=str.substring(0, str.length()-1);\n+\t\t}\n+\t\tPrintWriter writer = response.getWriter();\n+\t\tif(str.length()==0){\n+\t\t\twriter.write(\"{\\\"msg\\\":\\\"success\\\"}\");\n+\t\t}\n+\t\telse writer.write(\"{\\\"msg\\\":\\\"\"+str+\"该类别下有商品\"+\"\\\"}\");\n+\t\t\n+\t\twriter.close();\n+\t}\n+>>>>>>> 1b4d53de7844201415c405bb574a1f6751802111\n+\n+\tpublic void showList(HttpServletResponse response) throws IOException {\n+\t\tPrintWriter writer = response.getWriter();\n+\t\twriter.write(reJSON(types));\n+\t\twriter.close();\n+\t}\n+\n+\tpublic void addTypes(HttpServletResponse response, HttpServletRequest request) throws IOException {\n+\t\tString name = request.getParameter(\"name\");\n+\t\tPrintWriter writer = response.getWriter();\n+<<<<<<< HEAD\n+\t\tif (name == null || name.equals(\"\")) {\n+\t\t\twriter.write(\"{\\\"msg\\\":\\\"不能为空\\\"}\");\n+\t\t\twriter.close();\n+\t\t\treturn;\n+\t\t}\n+\t\tfor (int i = 0; i < types.size(); i++) {\n+\t\t\tif (types.get(i).getName().equals(name)) {\n+\t\t\t\twriter.write(\"{\\\"msg\\\":\\\"添加失败\\\"}\");\n+=======\n+\t\tif(name==null||name.equals(\"\"))\n+\t\t{\n+\t\twriter.write(\"{\\\"msg\\\":\\\"请输入商品类别\\\"}\");\n+\t\twriter.close();\n+\t\treturn ;\n+\t\t}\n+\t\tfor(int i=0;i<types.size();i++){\n+\t\t\tif(types.get(i).getName().equals(name))\n+\t\t\t{\n+\t\t\t\twriter.write(\"{\\\"msg\\\":\\\"该商品类别存在\\\"}\");\n+>>>>>>> 1b4d53de7844201415c405bb574a1f6751802111\n+\t\t\t\twriter.close();\n+\t\t\t\treturn;\n+\t\t\t}\n+\t\t}\n+<<<<<<< HEAD\n+\t\tMember type = new Member();\n+=======\n+\t\tCategory type=new Category();\n+>>>>>>> 1b4d53de7844201415c405bb574a1f6751802111\n+\t\ttype.setName(name);\n+\t\ttypes.add(type);\n+\t\twriter.write(\"{\\\"msg\\\":\\\"success\\\"}\");\n+\t\twriter.close();\n+\t}\n+<<<<<<< HEAD\n+\n+\tpublic String reJSON(List<Member> list) {\n+\t\tStringBuffer str = new StringBuffer(\"{\");\n+\t\tIterator<Member> iterator = list.iterator();\n+\t\twhile (iterator.hasNext()) {\n+\t\t\tMember Member = iterator.next();\n+\t\t\tstr.append(\"\\\"\" + Member.getName() + \"\\\":\\\"\" + true + \"\\\"\");\n+\t\t\tif (iterator.hasNext())\n+\t\t\t\tstr.append(\",\");\n+=======\n+\t\n+\t/**\n+\t * 返回JSON数据\n+\t * @param list   商品类别集合\n+\t * @return 商品类别的JSON数据\n+\t */\n+\tpublic String reJSON(List<Category> list)\n+\t{\n+\t\tStringBuffer str=new StringBuffer(\"{\");\n+\t\tIterator<Category> iterator = list.iterator();\n+\t\twhile(iterator.hasNext())\n+\t\t{\n+\t\t\tCategory bookType = iterator.next();\n+\t\t\tstr.append(\"\\\"\"+bookType.getName()+\"\\\":\\\"\"+bookType.getIsHasBook()+\"\\\"\");\n+\t\t\tif(iterator.hasNext())str.append(\",\");\n+>>>>>>> 1b4d53de7844201415c405bb574a1f6751802111\n+\t\t}\n+\t\tstr.append(\"}\");\n+\t\treturn str.toString();\n+\t}\n+}"
  }, {
    "sha" : "82eca6cc20ddf950ab680566320e122f2e9ef4a5",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902120/Se1414080902120EncodingFilter.java",
    "status" : "added",
    "additions" : 25,
    "deletions" : 0,
    "changes" : 25,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902120/Se1414080902120EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902120/Se1414080902120EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902120/Se1414080902120EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,25 @@\n+package edu.hzu.javaweb.labs;\n+\n+import javax.servlet.*;\n+import javax.servlet.annotation.WebFilter;\n+import java.io.IOException;\n+\n+/**\n+ * Created by Administrator on 2016/11/7 0007.\n+ */\n+@WebFilter(filterName = \"Se1414080902120EncodingFilter\")\n+public class Se1414080902120EncodingFilter implements Filter {\n+    public void destroy() {\n+    }\n+\n+    public void doFilter(ServletRequest req, ServletResponse resp, FilterChain chain) throws ServletException, IOException {\n+        chain.doFilter(req, resp);\n+        req.setCharacterEncoding(\"UTF-8\");\n+        chain.doFilter(req,resp);\n+    }\n+\n+    public void init(FilterConfig config) throws ServletException {\n+\n+    }\n+\n+}"
  }, {
    "sha" : "58b809a823eac360de0f6cfe7481fadf57bba4ef",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902120/Se1414080902120LoginFilter.java",
    "status" : "added",
    "additions" : 34,
    "deletions" : 0,
    "changes" : 34,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902120/Se1414080902120LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902120/Se1414080902120LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902120/Se1414080902120LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,34 @@\n+package edu.hzu.javaweb.labs;\n+\n+import javax.servlet.*;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+import java.io.IOException;\n+\n+/**\n+ * Created by Administrator on 2016/11/7 0007.\n+ */\n+@WebFilter(filterName = \"Se141480902120LoginFilter\")\n+public class Se1414080902120LoginFilter implements javax.servlet.Filter {\n+    public void destroy() {\n+    }\n+\n+    public void doFilter(ServletRequest req, ServletResponse resp, FilterChain chain) throws ServletException, IOException {\n+        chain.doFilter(req, resp);\n+        HttpServletRequest requuest = (HttpServletRequest)req;\n+        HttpServletResponse responsee = (HttpServletResponse)resp;\n+        HttpSession session = requuest.getSession(true);\n+        if(session.getAttribute(\"userName\")==null){\n+            responsee.sendRedirect(\"index.jsp\");\n+        }else{\n+            chain.doFilter(req,resp);\n+        }\n+    }\n+\n+    public void init(FilterConfig config) throws ServletException {\n+\n+    }\n+\n+}"
  }, {
    "sha" : "e45a3aa29d5ea3b9cdfc32de17c3dcd189a33e43",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902120/se1414080902120Servlet.java",
    "status" : "added",
    "additions" : 40,
    "deletions" : 0,
    "changes" : 40,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902120/se1414080902120Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902120/se1414080902120Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902120/se1414080902120Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,40 @@\n+package edu.hzu.javaweb.labs;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import java.io.IOException;\n+\n+/**\n+ * Created by Administrator on 2016/10/28 0028.\n+ */\n+public class se1414080902120Servlet extends HttpServlet {\n+    public se1414080902120Servlet(){\n+        super();\n+    }\n+    public void destroy(){\n+        super.destroy();\n+    }\n+    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+        String userName = request.getParameter(\"userName\");\n+        String userPwd = request.getParameter(\"passWord\");\n+        String info=\"\";\n+        //if((\"admin\".equals(userName)&&\"123456\".equals(userPwd))){\n+            //info = \"欢迎使用MyMusicPlyaer！\";\n+           // request.setAttribute(\"outPutMessage\",info);\n+            request.getRequestDispatcher(\"1414080902120/player.jsp\").forward(request,response);\n+//            response.sendRedirect(\"/player.jsp\");\n+       // }\n+        //else{\n+          //  info=\"用户或密码错误！\";\n+         //   request.setAttribute(\"outPutMessage\",info);\n+        //    request.getRequestDispatcher(\"/index.jsp\").forward(request,response);\n+      //  }\n+\n+    }\n+\n+    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+        doPost(request,response);\n+    }\n+}"
  }, {
    "sha" : "1879c657067fd1e8c41680d60fb6cc8d97076f03",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902124/DbConnect.java",
    "status" : "added",
    "additions" : 43,
    "deletions" : 0,
    "changes" : 43,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/DbConnect.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/DbConnect.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902124/DbConnect.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,43 @@\n+package edu.hzu.javaweb.labs.se1414080902124;\n+\n+import java.sql.*;\n+\n+/**\n+ * Created by Administrator on 2016/11/22.\n+ */\n+public class DbConnect {\n+    private static String driverName = \"com.mysql.jdbc.Driver\";   //驱动程序名\n+    private static String userName = \"root\";                    //数据库用户名\n+    private static String userPwd = \"335588\";                  //密码\n+    private static String dbName = \"students\";                 //数据库名\n+\n+    public static Connection getDBConnection() {\n+        String url1 = \"jdbc:mysql://localhost/\" + dbName;\n+        String url2 = \"?user=\" + userName + \"&password=\" + userPwd;\n+        String url3 = \"&useUnicode=true&characterEncoding=utf8\";\n+        String url = url1 + url2 + url3;\n+        try {\n+            Class.forName(driverName);\n+            Connection con = DriverManager.getConnection(url, userName, userPwd);\n+            System.out.println(\"已连接db\");\n+            return con;\n+        } catch (Exception e) {\n+            e.printStackTrace();\n+        }\n+        return null;\n+    }\n+\n+    public static void closeDB(Connection con, PreparedStatement pstm, ResultSet rs) {\n+        try {\n+            if (rs != null) try {\n+                rs.close();\n+            } catch (SQLException e) {\n+                e.printStackTrace();\n+            }\n+            if (pstm != null) pstm.close();\n+            if (con != null) con.close();\n+        } catch (SQLException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+}"
  }, {
    "sha" : "da07ff378307afd911ad714f6c863deb74f54383",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902124/DeleteServlet.java",
    "status" : "added",
    "additions" : 33,
    "deletions" : 0,
    "changes" : 33,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/DeleteServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/DeleteServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902124/DeleteServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,33 @@\n+package edu.hzu.javaweb.labs.se1414080902124;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+import java.io.IOException;\n+\n+/**\n+ * Created by Administrator on 2016/11/29.\n+ */\n+@WebServlet(\"/DeleteServlet\")\n+public class DeleteServlet extends HttpServlet {\n+    @Override\n+    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n+        super.doGet(req, resp);\n+    }\n+\n+    @Override\n+    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n+        StudentDAO dao = new StudentDAO();\n+        HttpSession session = req.getSession(true);\n+        Student student = (Student) session.getAttribute(\"stu\");\n+        try {\n+            dao.remove(student);\n+        } catch (Exception e) {\n+            e.printStackTrace();\n+        }\n+        req.getRequestDispatcher(\"/index.jsp\").forward(req,resp);\n+    }\n+}"
  }, {
    "sha" : "c9cf757128c7fbe5f820c69bafb1e803db68eee7",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902124/EncodingFilter.java",
    "status" : "added",
    "additions" : 39,
    "deletions" : 0,
    "changes" : 39,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902124/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,39 @@\n+package com.hzu.javaweb.labs.se1414080902124;\n+\n+\n+import javax.servlet.*;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+import java.io.IOException;\n+import java.util.logging.LogRecord;\n+\n+/**\n+ * Created by Administrator on 2016/11/10.\n+ */\n+\n+@WebFilter(filterName = \"EncodingFilter\",urlPatterns = \"/*\")\n+public class EncodingFilter implements Filter {\n+    private String mEncoding = null;\n+\n+    @Override\n+    public void init(FilterConfig filterConfig) throws ServletException {\n+        this.mEncoding = filterConfig.getInitParameter(\"encoding\");\n+    }\n+\n+    @Override\n+    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n+        String encoding = this.mEncoding;\n+        if (encoding == null) {\n+            encoding = \"utf-8\";\n+        }\n+        servletRequest.setCharacterEncoding(encoding);\n+        filterChain.doFilter(servletRequest, servletResponse);\n+    }\n+\n+    @Override\n+    public void destroy() {\n+        mEncoding = null;\n+    }\n+}"
  }, {
    "sha" : "48be0e40d228fd21e93598803893ada8635766a5",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902124/IStudentDAO.java",
    "status" : "added",
    "additions" : 21,
    "deletions" : 0,
    "changes" : 21,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/IStudentDAO.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/IStudentDAO.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902124/IStudentDAO.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,21 @@\n+package edu.hzu.javaweb.labs.se1414080902124;\n+\n+import java.util.List;\n+\n+/**\n+ * Created by Administrator on 2016/11/22.\n+ */\n+public interface IStudentDAO {\n+    /**\n+     * 添加记录的方法\n+     * */\n+    public abstract Student insert(Student stu) throws Exception;\n+    /**\n+     * 删除记录的方法\n+     * */\n+    public abstract void remove(Student stu) throws Exception;\n+    /**\n+     * 修改记录的方法\n+     * */\n+    public abstract void update(Student stu) throws Exception;\n+}"
  }, {
    "sha" : "6657ed3dc7ae5512617390946f6513a1de7a40bf",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902124/InsertServlet.java",
    "status" : "added",
    "additions" : 40,
    "deletions" : 0,
    "changes" : 40,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/InsertServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/InsertServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902124/InsertServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,40 @@\n+package edu.hzu.javaweb.labs.se1414080902124;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import java.io.IOException;\n+\n+/**\n+ * Created by Administrator on 2016/11/28.\n+ */\n+@WebServlet(\"/InsertServlet\")\n+public class InsertServlet extends HttpServlet {\n+    @Override\n+    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n+            req.setCharacterEncoding(\"UTF-8\");\n+            resp.setCharacterEncoding(\"UTF-8\");\n+            StudentDAO dao = new StudentDAO();\n+            Student student = new Student();\n+            student.setId(req.getParameter(\"id\"));\n+            student.setName(req.getParameter(\"name\"));\n+            student.setClazz(req.getParameter(\"clazz\"));\n+            student.setCity(req.getParameter(\"city\"));\n+            student.setSalary(req.getParameter(\"salary\"));\n+            req.setAttribute(\"stu\",student);\n+            req.getRequestDispatcher(\"/c.jsp\").forward(req,resp);\n+        try {\n+            dao.insert(student);\n+        } catch (Exception e) {\n+            e.printStackTrace();\n+        }\n+    }\n+\n+    @Override\n+    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n+        super.doGet(req, resp);\n+    }\n+\n+}"
  }, {
    "sha" : "1e55a04d1ddcae50c4a3e3302d933b129d85d010",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902124/Se1414080902124Servlet.java",
    "status" : "added",
    "additions" : 43,
    "deletions" : 0,
    "changes" : 43,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/Se1414080902124Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/Se1414080902124Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902124/Se1414080902124Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,43 @@\n+package com.hzu.javaweb.labs.se1414080902124;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import java.io.IOException;\n+import java.lang.System;\n+\n+\n+/**\n+ * Created by Administrator on 2016/11/6.\n+ */\n+\n+@WebServlet(name = \"Se1414080902124Servlet\",urlPatterns = \"/change\" )\n+public class Se1414080902124Servlet extends HttpServlet {\n+    @Override\n+    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+        super.doGet(request, response);\n+    }\n+\n+    @Override\n+    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+        request.setCharacterEncoding(\"UTF-8\");\n+        response.setContentType(\"text/html;UTF-8\");\n+\n+        String name = request.getParameter(\"name\");\n+        String id = request.getParameter(\"id\");\n+        String info = \"\";\n+        if (name.length() >= 8 || id.length() > 13) {\n+            info = \"你所提交的信息不合理，请重新输入\";\n+        } else {\n+            info = \"提交成功\";\n+        }\n+        request.setAttribute(\"Message\", info);\n+        request.getRequestDispatcher(\"/info.jsp\").forward(request, response);\n+    }\n+\n+}\n+\n+\n+"
  }, {
    "sha" : "570780a5c2b0d6620bf34c9a58581fe6129fe334",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902124/SecurityFilter.java",
    "status" : "added",
    "additions" : 28,
    "deletions" : 0,
    "changes" : 28,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/SecurityFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/SecurityFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902124/SecurityFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,28 @@\n+package com.hzu.javaweb.labs.se1414080902124;\n+\n+import javax.servlet.*;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+import java.io.IOException;\n+\n+/**\n+ * Created by Administrator on 2016/11/10.\n+ */\n+\n+@WebFilter(filterName = \"SecurityFilter\",urlPatterns = \"/index.jsp\")\n+public class SecurityFilter implements Filter {\n+    @Override\n+    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n+        HttpServletRequest req = (HttpServletRequest) servletRequest;\n+        HttpServletResponse res = (HttpServletResponse) servletResponse;\n+        HttpSession session = req.getSession();\n+        //��¼����ܷ���\n+        if (session.getAttribute(\"username\") != null) {\n+            filterChain.doFilter(req, res);\n+        } else {\n+            res.sendRedirect(\"../error.jsp\");\n+        }\n+    }\n+}"
  }, {
    "sha" : "6f45c7a4e295b22cfd2eb9068a606609d1bab8b6",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902124/Student.java",
    "status" : "added",
    "additions" : 54,
    "deletions" : 0,
    "changes" : 54,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/Student.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/Student.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902124/Student.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,54 @@\n+package edu.hzu.javaweb.labs.se1414080902124;\n+\n+/**\n+ * Created by Administrator on 2016/11/17.\n+ */\n+public class Student {\n+    private String mName;\n+    private String mId;\n+    private String mClass;\n+    private String mCity;\n+    private String mSalary;\n+\n+    public String getName() {\n+        return mName;\n+    }\n+\n+    public void setName(String mName) {\n+        this.mName = mName;\n+    }\n+\n+    public String getId() {\n+        return mId;\n+    }\n+\n+    public void setId(String mId) {\n+        this.mId = mId;\n+    }\n+\n+    public String getClazz() {\n+        return mClass;\n+    }\n+\n+    public void setClazz(String mClass) {\n+        this.mClass = mClass;\n+    }\n+\n+    public String getCity() {\n+        return mCity;\n+    }\n+\n+    public void setCity(String mCity) {\n+        this.mCity = mCity;\n+    }\n+\n+    public String getSalary() {\n+        return mSalary;\n+    }\n+\n+    public void setSalary(String mSalary) {\n+        this.mSalary = mSalary;\n+    }\n+\n+\n+}"
  }, {
    "sha" : "c4da2573b227a3f05064b90adadd2531322eb508",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902124/StudentDAO.java",
    "status" : "added",
    "additions" : 87,
    "deletions" : 0,
    "changes" : 87,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/StudentDAO.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/StudentDAO.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902124/StudentDAO.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,87 @@\n+package edu.hzu.javaweb.labs.se1414080902124;\n+\n+import java.sql.Connection;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+/**\n+ * Created by Administrator on 2016/11/22.\n+ */\n+public class StudentDAO implements IStudentDAO {\n+    protected static final String FIELDS_INSERT = \"id,stu_name,clazz,city,salary\";\n+    protected static String INSERT_SQL = \"insert into stu_info (\"\n+            + FIELDS_INSERT + \")\" + \"values (?,?,?,?,?)\";\n+    protected static String SELECT_SQL = \"select \"\n+            + FIELDS_INSERT + \" from stu_info where id=?\";\n+    protected static String UPDATE_SQL = \"update stu_info set \"\n+            + \"id=?,stu_name=?,clazz=?,city=?,salary=? where id=?\";\n+    protected static String DELETE_SQL = \"delete from stu_info where id=?\";\n+\n+    //实现向数据库中添加记录的方法\n+    public Student insert(Student stu) throws Exception {\n+        System.out.println(\"执行插入方法\");\n+        Connection con = null;\n+        PreparedStatement prepStmt = null;\n+        ResultSet rs = null;\n+        try {\n+            con = DbConnect.getDBConnection();\n+            prepStmt = con.prepareStatement(INSERT_SQL);\n+            prepStmt.setString(1, stu.getId());\n+            prepStmt.setString(2, stu.getName());\n+            prepStmt.setString(3, stu.getClazz());\n+            prepStmt.setString(4, stu.getCity());\n+            prepStmt.setString(5, stu.getSalary());\n+            prepStmt.executeUpdate();\n+        } catch (Exception e) {\n+            e.printStackTrace();\n+        } finally {\n+            DbConnect.closeDB(con, prepStmt, rs);\n+        }\n+        return stu;\n+    }\n+\n+    //实现删除数据库中指定的记录方法\n+    public void remove(Student stu) throws Exception {\n+        System.out.println(\"执行删除方法\");\n+        Connection con = null;\n+        PreparedStatement prepStmt = null;\n+        ResultSet rs = null;\n+        try {\n+            con = DbConnect.getDBConnection();\n+            prepStmt = con.prepareStatement(DELETE_SQL);\n+            prepStmt.setString(1, stu.getId());\n+            prepStmt.executeUpdate();\n+        } catch (Exception e) {\n+            //\n+        } finally {\n+            DbConnect.closeDB(con, prepStmt, rs);\n+        }\n+    }\n+\n+    //实现用指定的对象修改数据库中记录的方法\n+    public void update(Student stu) throws Exception {\n+        System.out.println(\"执行修改方法\");\n+        Connection con = null;\n+        PreparedStatement prepStmt = null;\n+        ResultSet rs = null;\n+        try {\n+            con = DbConnect.getDBConnection();\n+            prepStmt = con.prepareStatement(UPDATE_SQL);\n+            prepStmt.setString(1, stu.getId());\n+            prepStmt.setString(2, stu.getName());\n+            prepStmt.setString(3, stu.getClazz());\n+            prepStmt.setString(4, stu.getCity());\n+            prepStmt.setString(5, stu.getSalary());\n+            int rowCount = prepStmt.executeUpdate();\n+            if (rowCount == 0) {\n+                throw new Exception(\"Update Error:Student Id:\" + stu.getId());\n+            }\n+        } catch (Exception e) {\n+            // handle exception\n+        } finally {\n+            DbConnect.closeDB(con, prepStmt, rs);\n+        }\n+    }\n+}"
  }, {
    "sha" : "7c2461113b195e0668e9a4612b003b3a046bc88b",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902124/User.java",
    "status" : "added",
    "additions" : 54,
    "deletions" : 0,
    "changes" : 54,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/User.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902124/User.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902124/User.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,54 @@\n+package se1414080902124;\n+\n+/**\n+ * Created by Administrator on 2016/11/17.\n+ */\n+public class User {\n+    private String mName;\n+    private String mId;\n+    private String mClass;\n+\n+    public String getName() {\n+        return mName;\n+    }\n+\n+    public void setName(String mName) {\n+        this.mName = mName;\n+    }\n+\n+    public String getId() {\n+        return mId;\n+    }\n+\n+    public void setId(String mId) {\n+        this.mId = mId;\n+    }\n+\n+    public String getClazz() {\n+        return mClass;\n+    }\n+\n+    public void setClazz(String mClass) {\n+        this.mClass = mClass;\n+    }\n+\n+    public String getCity() {\n+        return mCity;\n+    }\n+\n+    public void setCity(String mCity) {\n+        this.mCity = mCity;\n+    }\n+\n+    public String getSalary() {\n+        return mSalary;\n+    }\n+\n+    public void setSalary(String mSalary) {\n+        this.mSalary = mSalary;\n+    }\n+\n+    private String mCity;\n+    private String mSalary;\n+\n+}"
  }, {
    "sha" : "f59961e0b12eda1252895eef26c38f0dda469f83",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902125/EncodingFilter.java",
    "status" : "added",
    "additions" : 37,
    "deletions" : 0,
    "changes" : 37,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902125/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902125/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902125/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,37 @@\n+package edu.hzu.javaweb.labs.se1414080902125;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+\n+public class EncodingFilter implements Filter {   \n+\t \n+\t@Override\n+    public void destroy() {   \n+\t\t// TODO Auto-generated method stub\n+     }   \n+  \n+\t@Override\n+    public void doFilter(ServletRequest request, ServletResponse response,   \n+             FilterChain chain) throws IOException, ServletException {   \n+    \n+    \trequest.setCharacterEncoding(\"UTF-8\");\n+    \tresponse.setCharacterEncoding(\"UTF-8\"); \n+         chain.doFilter(request, response);   \n+     }   \n+  \n+\t@Override\n+    public void init(FilterConfig filterConfig) throws ServletException {   \n+\t\t// TODO Auto-generated method stub\n+     }   \n+  \n+}  \n+ \n\\ No newline at end of file"
  }, {
    "sha" : "b75e26cd557a9f0b678c55cf60a57f7d93632a12",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902125/LoginFilter.java",
    "status" : "added",
    "additions" : 52,
    "deletions" : 0,
    "changes" : 52,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902125/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902125/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902125/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,52 @@\n+package edu.hzu.javaweb.labs.se1414080902125;\n+\n+import java.io.IOException;\n+import java.util.Enumeration;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebFilter(filterName = \"LoginFilter\", urlPatterns = \"/*\")\n+\n+public class LoginFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\tHttpServletRequest req = (HttpServletRequest) request;   \n+\t     HttpServletResponse res = (HttpServletResponse) response;   \n+\t  \n+\t     HttpSession session = req.getSession(); \n+\t     String url = (((HttpServletRequest) request).getRequestURI());\n+\t\t    if (session.getAttribute(\"NAME\") != null) {\n+\t\t         chain.doFilter(request, response);   \n+\t\t     }  else if (url.equals(\"/SY/Login.jsp\") || url.equals(\"/SY/Fail.jsp\")) {\n+\t\t         chain.doFilter(request, response);  \n+\t\t         System.out.println(\"Not Logined \");\n+\t\t     } else {\n+\t\t         res.sendRedirect(\"Fail.jsp\"); \n+\t\t     }\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "189373c978f1c30a32ae0526591f0d8c13790168",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902125/Se1414080902125.java",
    "status" : "added",
    "additions" : 54,
    "deletions" : 0,
    "changes" : 54,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902125/Se1414080902125.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902125/Se1414080902125.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902125/Se1414080902125.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,54 @@\n+package edu.hzu.javaweb.labs.se1414080902125;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet implementation class se1414080902125\n+ */\n+@WebServlet(\"/1414080902125\")\n+public class Se1414080902125 extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public Se1414080902125() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\tdoPost(request, response);\t\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tString name=request.getParameter(\"NAME\");\n+\t\tString pw=request.getParameter(\"PW\");\n+\t\tString user=request.getParameter(\"USER\");\n+\t\tString school=request.getParameter(\"SCHOOL\");\n+\t\tString majo=request.getParameter(\"MAJO\");\n+\t\t\n+\t\tString info= \"用户名：\"+name+\"；密码：\"+pw+\"；身份：\"+user+\"；学校：\"+school+\"；专业：\"+majo;\n+\t\t\n+\t\trequest.setAttribute(\"outputMessage\", info);\n+\t\trequest.getRequestDispatcher(\"/info.jsp\").forward(request,response);\n+\t}\n+\n+}"
  }, {
    "sha" : "58a2e8abc0b5bc7f85f7ceacea3d7b1a89603b0d",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902126/First_filter.class",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/First_filter.class",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/First_filter.class",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902126/First_filter.class?ref=ff6b6cefecd0688765915617855d46424c07c15e"
  }, {
    "sha" : "3c45211a6c0777632e3a654186797818833c3393",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902126/JDBC_update.jsp",
    "status" : "added",
    "additions" : 64,
    "deletions" : 0,
    "changes" : 64,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/JDBC_update.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/JDBC_update.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902126/JDBC_update.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,64 @@\n+<%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"UTF-8\"%>\n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %>   \n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\"%>  \n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %> \n+<%@ page import=\"java.sql.*\" %>\n+<%@ page import=\"com.mysql.jdbc.Driver\" %>\n+<%@ page import=\"java.sql.*\" %>\n+<%@ page import=\"com.mysql.jdbc.Driver\" %>\n+<%@ page import=\"dao.*\" %>\n+<%@ page import=\"dbc.*\" %>\n+<%@ page import=\"vo.*\" %>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+%>\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'JDBC_update.jsp' starting page</title>\n+    \n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+\n+  </head>\n+  \n+  <body>\n+  \t\t<% \n+\n+    String id=\"10001\";\n+    \n+\t\n+    \n+    User user1 =new User();\n+    User duser=new User();\n+    UserDao userdao = new UserDao();\n+    user1.setUserid(id);\n+\n+\tduser=userdao.findUserById(id);\n+\tString status=duser.getUserstatus();\n+    String account=duser.getaccount();\n+\tSystem.out.print(\"yes!!!\");\n+\n+    %>\n+  <table align=\"center\">\n+  \t\t<tr ><th>当前账号：</th><th><%= id %></th></tr>\n+   \t\t<tr ><th>使用状态：</th><th><%= status %></th>\n+    \t<tr ><th>余额：</th><th><%= account %></th>\n+\t\t<form action=\"test.jsp\" method=\"post\">\n+    \t<tr ><td>充值金额：</td><td><input type=\"text\" name=\"number\" id=\"str\"></td></tr>\n+    \t<tr ><td><input type=\"submit\" value=\"充值\" ></td></tr>\n+   \t\t\n+        </form>\n+  </table>\n+  </body>\n+</html>"
  }, {
    "sha" : "92cdb4739e993947bb3dbeb2fda85ec59fe2e02f",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902126/Jdbc.java",
    "status" : "added",
    "additions" : 51,
    "deletions" : 0,
    "changes" : 51,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/Jdbc.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/Jdbc.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902126/Jdbc.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,51 @@\n+package dbc;\n+\n+import java.sql.*;\n+import java.util.Properties;\n+\n+public  final class Jdbc {\n+\tprivate static String driver;\n+\tprivate static String url;\n+\tprivate static String user;\n+\tprivate static String password;\n+\tprivate static Properties pr=new Properties();\n+\tprivate Jdbc(){}\n+\t\n+\tstatic {\n+\t\ttry{\n+\t\t\tpr.load(Jdbc.class.getClassLoader().getResourceAsStream(\"db.properties\"));\n+\t\t\tdriver=pr.getProperty(\"driver\");\n+\t\t\turl=pr.getProperty(\"url\");\n+\t\t\tuser=pr.getProperty(\"username\");\n+\t\t\tpassword=pr.getProperty(\"password\");\n+\t\t\tClass.forName(driver);\n+\t\t}catch(Exception e)\n+\t\t{\n+\t\t\tthrow new ExceptionInInitializerError(e);\n+\t\t}\n+\t}\n+\tpublic static Connection getConnection()throws SQLException{\n+\t\treturn DriverManager.getConnection(url,user,password);\n+\t}\n+\tpublic static void free(ResultSet rs,Statement st, Connection conn)\n+\t{\n+\t\ttry{\n+\t\t\tif(rs!=null)rs.close();\n+\t\t\t}\n+\t\tcatch(SQLException e)\n+\t\t{\n+\t\t\t\te.printStackTrace();\n+\t\t}\n+\t\tfinally\n+\t\t{\n+\t\t\t\ttry{if(st!=null)st.close();\n+\t\t\t\t\t}catch(SQLException e)\n+\t\t\t\t{e.printStackTrace();}\n+\t\t\t\tfinally{\n+\t\t\t\t\tif(conn!=null)\n+\t\t\t\t\t\ttry{conn.close();}\n+\t\t\t\t\tcatch(SQLException e){e.printStackTrace();}\n+\t\t\t\t}\n+\t\t}\n+\t}\n+}"
  }, {
    "sha" : "ebc90de083604699a0615d3826e5eeb390bab78c",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902126/Se1414080902126.java",
    "status" : "added",
    "additions" : 80,
    "deletions" : 0,
    "changes" : 80,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/Se1414080902126.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/Se1414080902126.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902126/Se1414080902126.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,80 @@\n+package edu.hzu.javaweb.labs.se1414080902126;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class Se1414080902126 extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Se1414080902126() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\t\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tString userName=request.getParameter(\"username\");\n+\t\tString userPwd=request.getParameter(\"userpwd\");\n+\t\tString info=\"\";\n+\t\tif(\"abc\".equals(userName)&&\"123\".equals(userPwd)){\n+\t\t\tinfo=\"欢迎你\"+userName+\"!\";\t\t\n+\n+\t\t}\n+\t\telse{\n+\t\t\tinfo=\"用户名或密码不正确！\";\n+\t\t}\n+\t\t\trequest.setAttribute(\"outputMessage\", info);\n+\t\t\trequest.getRequestDispatcher(\"/info.jsp\").forward(request, response);\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "2e1ae2c812db0a6bf55f147018850fa2e67b3da8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902126/Second_filter.class",
    "status" : "added",
    "additions" : 0,
    "deletions" : 0,
    "changes" : 0,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/Second_filter.class",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/Second_filter.class",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902126/Second_filter.class?ref=ff6b6cefecd0688765915617855d46424c07c15e"
  }, {
    "sha" : "a25c107198fe3d6032d337baf92ff31dd761bc6b",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902126/User.java",
    "status" : "added",
    "additions" : 12,
    "deletions" : 0,
    "changes" : 12,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/User.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/User.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902126/User.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,12 @@\n+package vo;\n+\n+\n+public class User {\n+\tprivate String userid,userstatus,account;\n+\tpublic String getUserid(){return userid;}\n+\tpublic void setUserid(String userid){this.userid=userid;}\n+\tpublic String getUserstatus(){return userstatus;}\n+\tpublic void setUserstatus(String userstatus){this.userstatus=userstatus;}\n+\tpublic String getaccount(){return account;}\n+\tpublic void setaccount(String account){this.account=account;}\n+}"
  }, {
    "sha" : "540b4d00008949ca276dd198556b3d172d60ee59",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902126/UserDao.java",
    "status" : "added",
    "additions" : 55,
    "deletions" : 0,
    "changes" : 55,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/UserDao.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/UserDao.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902126/UserDao.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,55 @@\n+package dao;\n+import java.sql.*;\n+import java.util.ArrayList;\n+import vo.User;\n+import dbc.Jdbc;\n+\n+\n+public class UserDao {\n+\tpublic void add(User user)throws Exception{\n+\t\tConnection conn=null;\n+\t\tPreparedStatement ps=null;\n+\t\ttry{\n+\t\t\tconn=Jdbc.getConnection();\n+\t\t\tString sql=\"insert into cardos(id,status,account) values(?,?,?)\";\n+\t\t\tps = conn.prepareStatement(sql);\n+\t\t\tps.setString(1, user.getUserid());\n+\t\t\tps.setString(2, user.getUserstatus());\n+\t\t\tps.setString(3, user.getaccount());\n+\t\t\tps.executeUpdate();\n+\t\t}finally{Jdbc.free(null, ps, conn);}\n+\t}\n+\tpublic void update(User user)throws Exception{\n+\t\tConnection conn=null;\n+\t\tPreparedStatement ps =null;\n+\t\ttry{\n+\t\t\tconn = Jdbc.getConnection();\n+\t\t\tString sql=\"update cardos set account=account+? where id=?\";\n+\t\t\tps =conn.prepareStatement(sql);\n+\t\t\tps.setString(1, user.getaccount());\n+\t\t\tps.setString(2,user.getUserid());\n+\t\t\tps.executeUpdate();\n+\t\t}finally{Jdbc.free(null, ps, conn);}\n+\t}\n+\tpublic User findUserById(String userId)throws Exception{\n+\t\tConnection conn=null;\n+\t\tPreparedStatement ps=null;\n+\t\tResultSet rs=null;\n+\t\tUser user=null;\n+\t\ttry{\n+\t\t\tconn = Jdbc.getConnection();\n+\t\t\tString sql=\"select * from cardos where id=?\";\n+\t\t\tps= conn.prepareStatement(sql);\n+\t\t\tps.setString(1, userId);\n+\t\t\trs=ps.executeQuery();\n+\t\t\tif(rs.next()){\n+\t\t\t\tuser=new User();\n+\t\t\t\tuser.setUserid(rs.getString(1));\n+\t\t\t\tuser.setUserstatus(rs.getString(2));\n+\t\t\t\tuser.setaccount(rs.getString(3));\n+\t\t\t}\n+\t\t}finally{Jdbc.free(rs,ps,conn);}\n+\t\treturn user;\n+\t}\n+\t\n+}"
  }, {
    "sha" : "fa6ab55b8a47626ab4e26014b266d03be1e4a8f1",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902126/db.properties",
    "status" : "added",
    "additions" : 4,
    "deletions" : 0,
    "changes" : 4,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/db.properties",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/db.properties",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902126/db.properties?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,4 @@\n+driver=com.mysql.jdbc.Driver\n+url=jdbc:mysql://localhost:3306/student?useUnicode=true&characterEncoding=UTF-8\n+username=root\n+password=1234"
  }, {
    "sha" : "0c876f8f6e3b2b073d61f647c278c99439d72ce8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902126/error.jsp",
    "status" : "added",
    "additions" : 29,
    "deletions" : 0,
    "changes" : 29,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/error.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/error.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902126/error.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,29 @@\n+<%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"UTF-8\"%>\n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+%>\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    <base href=\"<%=basePath%>\">\n+    \n+    <title>My JSP 'error.jsp' starting page</title>\n+    \n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+\n+  </head>\n+  \n+  <body>\n+    \t<h3 align=\"center \">用户名或密码错误</h3>\n+    \t<a href=\"index.jsp\">点次链接回到登录界面</a>\n+  </body>\n+</html>"
  }, {
    "sha" : "0067e5b1542ad422691a2692cab969dad5e82bdf",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902126/info.jsp",
    "status" : "added",
    "additions" : 65,
    "deletions" : 0,
    "changes" : 65,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/info.jsp",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902126/info.jsp",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902126/info.jsp?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,65 @@\n+<%@ page language=\"java\" import=\"java.util.*\" pageEncoding=\"UTF-8\"%>\n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %>   \n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\"%>  \n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %> \n+<%\n+String path = request.getContextPath();\n+String basePath = request.getScheme()+\"://\"+request.getServerName()+\":\"+request.getServerPort()+path+\"/\";\n+%>\n+\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n+<html>\n+  <head>\n+    \n+    <title>显示结果页面</title>\n+    \n+\t<meta http-equiv=\"pragma\" content=\"no-cache\">\n+\t<meta http-equiv=\"cache-control\" content=\"no-cache\">\n+\t<meta http-equiv=\"expires\" content=\"0\">    \n+\t<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\">\n+\t<meta http-equiv=\"description\" content=\"This is my page\">\n+\t<!--\n+\t<link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n+\t-->\n+\t<script language=\"javascript\">\n+\t\tfunction pay()\n+\t\t{\n+\t\t\tvar a=document.getElementById(\"str\").value;\n+\t\t\talert(\"充值成功！！！\");\n+\t\t\tlocation.reload();\n+\t\t\t\n+\t\t}\n+\t</script>\n+\n+  </head>\n+  \n+  <body>\n+  \t<c:if test=\"${outputMessage==null}\">  \n+\t<% response.sendRedirect(\"index.jsp\"); %>\n+\t</c:if>  \n+  \t\n+  \t<% String state=\"正常\"; %>\n+  \t<% String name=\"1414080902126\"; %>\n+  \t<% int balance=100; %>\n+    <h2 align=center>饭卡管理系统</h2> <br>\n+    <hr width=\"100%\" size=\"1\" color=\"#00ffee\">\n+    \n+    \n+    <c:out value=\"${outputMessage}\">使用的表达式结果为null</c:out><br/>\n+\n+    <h3 align=\"center\">\n+    <tr >\n+    <table>\n+    <tr ><th>当前账号：</th><th><%= name %></th></tr>\n+    <tr ><th>使用状态：</th><th><%= state %></th>\n+    <tr ><th>余额：</th><th><%= balance %></th>\n+    </table>\n+    <br>\n+    <from>\n+    <tr ><td>充值金额：</td><td><input type=\"text\" name=\"number\" id=\"str\"></td></tr>\n+    <tr ><td><input type=\"submit\" value=\"充值\" onclick=\"pay()\"></td></tr>\n+    </from>\n+    \n+    </h3>\n+  </body>\n+</html>"
  }, {
    "sha" : "b755d4dd424ff3edbdf07e70f7880986b9f555b2",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902129/MyFilter.java",
    "status" : "added",
    "additions" : 47,
    "deletions" : 0,
    "changes" : 47,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902129/MyFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902129/MyFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902129/MyFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,47 @@\n+package filter;\n+\n+import java.io.IOException;\n+\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+@WebFilter(filterName=\"hehe\",urlPatterns=\"/web/index.jsp\")\n+\n+public class MyFilter implements Filter {\n+\t\n+\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t}\n+\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\"); \n+\t\t\n+\t\tString stuName=request.getParameter(\"stuname\");\n+\t\tif(stuName!=null&&!\"\".equals(stuName))\n+\t\t{\n+\t\t\tchain.doFilter(request, response);\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tRequestDispatcher dispatcher = request.getRequestDispatcher(\"/\");\n+\t\t\tdispatcher.forward(request,response);\n+\t\t}\n+\t}\n+\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t}\n+\n+}"
  }, {
    "sha" : "4f9f5f426c6f88ab4aefc1b4cf3851ba3569b047",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902129/Se1414080902129servlet.java",
    "status" : "added",
    "additions" : 95,
    "deletions" : 0,
    "changes" : 95,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902129/Se1414080902129servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902129/Se1414080902129servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902129/Se1414080902129servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,95 @@\n+package edu.hzu.javaweb.labs.se1414080902129;\n+\n+import java.awt.List;\n+\n+import java.io.IOException;\n+\n+\n+import java.io.PrintWriter;\n+import java.util.ArrayList;\n+\n+import javax.jws.WebService;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+\n+\n+@WebServlet(\"/1414080902129\")\n+public class Se1414080902129servlet extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Se1414080902129servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+        request.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setContentType(\"text/html;charset=utf-8\"); \n+\t\tString stuname=request.getParameter(\"stuname\");\n+\t\tString stuphone=request.getParameter(\"stuphone\");\n+\t\tString expressname=request.getParameter(\"expressname\");\n+\t\tString stuadd=request.getParameter(\"stuadd\");\n+\t\tString d=request.getParameter(\"d\");\n+     \n+\t\t\n+\t  \n+\t    request.setAttribute(\"stuname\", stuname);\n+\t    request.setAttribute(\"stuadd\", stuadd);\n+\t\trequest.setAttribute(\"d\",d);\n+\t    \n+\t    request.setAttribute(\"stuphone\", stuphone);\n+\t    request.setAttribute(\"expressname\", expressname);\n+\t\trequest.getRequestDispatcher(\"/web/output.jsp\").forward(request,response);\n+\t\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tdoGet(request, response);\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "d975512fe571eef31df841ebc914d08b9c3d5c75",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902130/DbConnect.java",
    "status" : "added",
    "additions" : 33,
    "deletions" : 0,
    "changes" : 33,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/DbConnect.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/DbConnect.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902130/DbConnect.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,33 @@\n+package train;\n+\n+import java.sql.*;\n+public class DbConnect {\n+\tprivate static String driverName = \"com.mysql.jdbc.Driver\";   //�������\n+\tprivate static String userName = \"root\";                    //��ݿ��û���\n+\tprivate static String userPwd = \"159357\";                  //����\n+\tprivate static String dbName = \"train\";                 //��ݿ���\n+\tpublic static Connection getDBconnection(){\n+\t\tString  url1=\"jdbc:mysql://localhost/\"+dbName;\n+\t\tString  url2 =\"?user=\"+userName+\"&password=\"+userPwd;\n+\t\tString  url3=\"&useUnicode=true&characterEncoding=utf-8\";\n+\t\tString  url =url1+url2+url3;\n+\t\ttry{\n+\t\t    Class.forName(driverName);\n+\t\t    Connection con=DriverManager.getConnection(url); \n+\t\t    return con; \n+\t    }catch (Exception e) {\n+\t\t\t   e.printStackTrace();\n+\t\t}\n+\t\treturn null;\n+    } \n+    public static void closeDB(Connection con,PreparedStatement pstm, ResultSet rs){\n+ \t   try{\n+ \t\t   if(rs!=null) rs.close(); \n+ \t\t   if(pstm!=null) pstm.close();\n+\t\t   if(con!=null) con.close();\n+\t   }catch (SQLException e) {\n+\t\t\te.printStackTrace();\n+\t   }\n+\t}\n+}\n+"
  }, {
    "sha" : "098362a9a4dc2aaee3adaea59ccb85c781f3dd37",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902130/Encodingfilter.java",
    "status" : "added",
    "additions" : 31,
    "deletions" : 0,
    "changes" : 31,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Encodingfilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Encodingfilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Encodingfilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,31 @@\n+package text_filter;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(\"/Encodingfilter\")\n+public class Encodingfilter implements Filter {\n+\n+    public Encodingfilter() {\n+       \n+    }\n+\n+\tpublic void destroy() {\n+\t}\n+\n+\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+        request.setCharacterEncoding(\"utf-8\");\n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t}\n+\n+}"
  }, {
    "sha" : "f77d3085dcc7326779c30bf49c0dbeaca069ee0d",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902130/LoginServlet.java",
    "status" : "added",
    "additions" : 52,
    "deletions" : 0,
    "changes" : 52,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/LoginServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/LoginServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902130/LoginServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,52 @@\n+package edu.hzu.javaweb.labs.se1414080902130;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet implementation class LoginServlet\n+ */\n+@WebServlet(\"/LoginServlet\")\n+public class LoginServlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public LoginServlet() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t  request.setCharacterEncoding(\"utf-8\");\n+\t\t  HttpSession session = request.getSession();\n+\t\t  Login_Passenger passenger = new Login_Passenger();\n+\t\t  if(request.getParameter(\"Username\")!= null)\n+\t\t  passenger.setUsername(request.getParameter(\"Username\"));\n+\t\t  if(request.getParameter(\"Email\")!= null)\n+\t\t  passenger.setEmail(request.getParameter(\"Email\"));\n+\t\t  if(request.getParameter(\"Password\")!= null)\n+\t\t  passenger.setPassword(request.getParameter(\"Password\"));\n+\t\t  session.setAttribute(\"Passenger\", passenger);\n+\t\t  if(session.getAttribute(\"Passenger\") != null)\n+\t\t  request.getRequestDispatcher(\"/index.jsp\").forward(request, response);\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "8705c1fa80877af0f2b45c1578e85dbc8ba4e802",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902130/Login_Passenger.java",
    "status" : "added",
    "additions" : 37,
    "deletions" : 0,
    "changes" : 37,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Login_Passenger.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Login_Passenger.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Login_Passenger.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,37 @@\n+package edu.hzu.javaweb.labs.se1414080902130;\n+\n+public class Login_Passenger {\n+\n+\tprivate String username,password,email;\n+    public Login_Passenger(){};\n+    public Login_Passenger(String username,String password,String email)\n+    {\n+    \tthis.username = username;\n+    \tthis.password = password;\n+    \tthis.email = email;\n+    }\n+    public String getUsername()\n+    {\n+    \treturn username;\n+    }\n+    public void setUsername(String username)\n+    {\n+    \tthis.username = username;\n+    }\n+    public String getPassword()\n+    {\n+    \treturn password;\n+    }\n+    public void setPassword(String password)\n+    {\n+    \tthis.password = password;\n+    }\n+    public String getEmail()\n+    {\n+    \treturn email;\n+    }\n+    public void setEmail(String email)\n+    {\n+    \tthis.email = email;\n+    }\n+}"
  }, {
    "sha" : "02707673d328f1b6eb8d05d69b90e31a7355ec99",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902130/Loginfilter.java",
    "status" : "added",
    "additions" : 46,
    "deletions" : 0,
    "changes" : 46,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Loginfilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Loginfilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Loginfilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,46 @@\n+package text_filter;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+\n+@WebFilter(\"/Loginfilter\")\n+public class Loginfilter implements Filter {\n+    public Loginfilter() {\n+\n+    }\n+\n+\tpublic void destroy() {\n+\n+\t}\n+\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest requ = (HttpServletRequest)request;\n+\t\tHttpServletResponse resp = (HttpServletResponse)response;\n+\t\tHttpSession session = requ.getSession(true);\n+\t\tif(session.getAttribute(\"username\") !=\"\" && session.getAttribute(\"email\") !=\"\" && session.getAttribute(\"password\") !=\"\")\n+\t\t{\n+           resp.sendRedirect(\"index.jsp\");\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tchain.doFilter(request, response);\n+\t\t}\n+\t}\n+\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "382c047bc770c1fff0697e504e73203616f2635a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902130/Se1414080902130Servlet.java",
    "status" : "added",
    "additions" : 60,
    "deletions" : 0,
    "changes" : 60,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Se1414080902130Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Se1414080902130Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Se1414080902130Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,60 @@\n+package edu.hzu.javaweb.labs.se1414080902130;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebServlet(\"/1414080902130\")\n+public class Se1414080902130Servlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\tpublic Se1414080902130Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\tpublic void init(ServletConfig config) throws ServletException {\n+\t\t\n+\t}\n+\n+\tpublic void destroy() {\n+\t}\n+\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\t    String Orgin = request.getParameter(\"orgin\");\n+\t        String Destination = request.getParameter(\"destination\");\n+\t        String Departdate = request.getParameter(\"departdate\");\n+\t        String Returndate = request.getParameter(\"returndate\");\n+\t        String Starttime = request.getParameter(\"starttime\");\n+\t        response.setContentType(\"text/html;charset=gb2312\");\n+\t        PrintWriter out = response.getWriter();\n+\t\t\tif(\"\".equals(Orgin))\n+\t\t\t\tout.print(\"<script>alert('��������');history.back();</script>)\");\n+\t\t\telse if(\"\".equals(Destination))\n+\t\t\t\tout.print(\"<script>alert('������Ŀ�ĵ�');history.back();</script>\");\n+\t\t\telse if(\"\".equals(Departdate))\n+\t\t\t\tout.print(\"<script>alert('���������');history.back();</script>\");\n+\t\t\telse if(\"\".equals(Returndate))\n+\t\t\t\tout.print(\"<script>alert('�����뷵����');history.back();</script>\");\n+\t\t\telse if(\"\".equals(Starttime))\n+\t\t\t\tout.print(\"<script>alert('��ѡ���ʱ��');history.back();</script>\");\n+\t\t\telse\n+\t\t\t{\n+\t\t\t\trequest.getRequestDispatcher(\"/info.jsp\").forward(request, response);\n+\t\t\t}\n+\t\t\t\n+\t}\n+\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tdoGet(request, response);\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "73d948cbea414afe7b654534372dc8e19e393ee9",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902130/Train.java",
    "status" : "added",
    "additions" : 63,
    "deletions" : 0,
    "changes" : 63,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Train.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Train.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Train.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,63 @@\n+package train;\n+\n+import java.sql.Time;\n+\n+public class Train {\n+    private String trainID,despartPlace,destination;\n+    private String despartTime,arrivalTime;\n+    private int businessSeat,firstSeat,secondSeat,nullSeat;\n+\tpublic String getTrainID() {\n+\t\treturn trainID;\n+\t}\n+\tpublic void setTrainID(String trainID) {\n+\t\tthis.trainID = trainID;\n+\t}\n+\tpublic String getDespartPlace() {\n+\t\treturn despartPlace;\n+\t}\n+\tpublic void setDespartPlace(String despartPlace) {\n+\t\tthis.despartPlace = despartPlace;\n+\t}\n+\tpublic String getDestination() {\n+\t\treturn destination;\n+\t}\n+\tpublic void setDestination(String destination) {\n+\t\tthis.destination = destination;\n+\t}\n+\tpublic String getDespartTime() {\n+\t\treturn despartTime;\n+\t}\n+\tpublic void setDespartTime(String despartTime) {\n+\t\tthis.despartTime = despartTime;\n+\t}\n+\tpublic String getArrivalTime() {\n+\t\treturn arrivalTime;\n+\t}\n+\tpublic void setArrivalTime(String arrivalTime) {\n+\t\tthis.arrivalTime = arrivalTime;\n+\t}\n+\tpublic int getBusinessSeat() {\n+\t\treturn businessSeat;\n+\t}\n+\tpublic void setBusinessSeat(int businessSeat) {\n+\t\tthis.businessSeat = businessSeat;\n+\t}\n+\tpublic int getFirstSeat() {\n+\t\treturn firstSeat;\n+\t}\n+\tpublic void setFirstSeat(int firstSeat) {\n+\t\tthis.firstSeat = firstSeat;\n+\t}\n+\tpublic int getSecondSeat() {\n+\t\treturn secondSeat;\n+\t}\n+\tpublic void setSecondSeat(int secondSeat) {\n+\t\tthis.secondSeat = secondSeat;\n+\t}\n+\tpublic int getNullSeat() {\n+\t\treturn nullSeat;\n+\t}\n+\tpublic void setNullSeat(int nullSeat) {\n+\t\tthis.nullSeat = nullSeat;\n+\t}\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "04bc86ecb46d8036b2f615f330eaece03e5ab753",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902130/TrainServlet.java",
    "status" : "added",
    "additions" : 44,
    "deletions" : 0,
    "changes" : 44,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/TrainServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/TrainServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902130/TrainServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,44 @@\n+package train;\n+\n+import java.io.IOException;\n+import java.sql.Date;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+@WebServlet(\"/TrainServlet\")\n+public class TrainServlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    public TrainServlet() {\n+        super();\n+    }\n+\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tdoPost(request,response);\n+\t}\n+\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException \n+\t{       \n+\t\t    request.setCharacterEncoding(\"utf-8\");\n+\t\t    String dp = request.getParameter(\"despartPlace\");\n+\t\t    String de = request.getParameter(\"destination\");\n+\t\t    String dd = request.getParameter(\"despartDate\");\n+\t\t    String rd = request.getParameter(\"returnDate\");\n+\t\t    TrianDAO tradao = new TrianDAO();\n+\t        try {\n+\t\t\t\tList<Train> train = tradao.find(dp, de, dd, rd);\n+\t\t\t\trequest.setAttribute(\"tra\", train);\n+\t\t\t} catch (Exception e) {\n+\t\t\t\t// TODO Auto-generated catch block\n+\t\t\t\te.printStackTrace();\n+\t\t\t}\n+    \t\trequest.getRequestDispatcher(\"train_ticket.jsp\").forward(request, response);\n+\t}\n+}"
  }, {
    "sha" : "e1a02006c5134e9dff6b1763c7837cfad5dbe55a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902130/Train_ticket.java",
    "status" : "added",
    "additions" : 79,
    "deletions" : 0,
    "changes" : 79,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Train_ticket.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Train_ticket.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902130/Train_ticket.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,79 @@\n+package train;\n+\n+import java.sql.Date;\n+import java.sql.Time;\n+\n+public class Train_ticket \n+{\n+    private String despartPlace,destination,seatID,seatType,seatStatus;\n+    private int carriageID;\n+    private float seatPrize;\n+    private String despartDate,returnDate;\n+    private String despartTime,arrivalTime;\n+\tpublic String getDespartPlace() {\n+\t\treturn despartPlace;\n+\t}\n+\tpublic void setDespartPlace(String despartPlace) {\n+\t\tthis.despartPlace = despartPlace;\n+\t}\n+\tpublic String getDestination() {\n+\t\treturn destination;\n+\t}\n+\tpublic void setDestination(String destination) {\n+\t\tthis.destination = destination;\n+\t}\n+\tpublic String getSeatID() {\n+\t\treturn seatID;\n+\t}\n+\tpublic void setSeatID(String seatID) {\n+\t\tthis.seatID = seatID;\n+\t}\n+\tpublic String getSeatType() {\n+\t\treturn seatType;\n+\t}\n+\tpublic void setSeatType(String seatType) {\n+\t\tthis.seatType = seatType;\n+\t}\n+\tpublic String getSeatStatus() {\n+\t\treturn seatStatus;\n+\t}\n+\tpublic void setSeatStatus(String seatStatus) {\n+\t\tthis.seatStatus = seatStatus;\n+\t}\n+\tpublic int getCarriageID() {\n+\t\treturn carriageID;\n+\t}\n+\tpublic void setCarriageID(int carriageID) {\n+\t\tthis.carriageID = carriageID;\n+\t}\n+\tpublic float getSeatPrize() {\n+\t\treturn seatPrize;\n+\t}\n+\tpublic void setSeatPrize(float seatPrize) {\n+\t\tthis.seatPrize = seatPrize;\n+\t}\n+\tpublic String getDespartDate() {\n+\t\treturn despartDate;\n+\t}\n+\tpublic void setDespartDate(String despartDate) {\n+\t\tthis.despartDate = despartDate;\n+\t}\n+\tpublic String getReturnDate() {\n+\t\treturn returnDate;\n+\t}\n+\tpublic void setReturnDate(String returnDate) {\n+\t\tthis.returnDate = returnDate;\n+\t}\n+\tpublic String getDespartTime() {\n+\t\treturn despartTime;\n+\t}\n+\tpublic void setDespartTime(String despartTime) {\n+\t\tthis.despartTime = despartTime;\n+\t}\n+\tpublic String getArrivalTime() {\n+\t\treturn arrivalTime;\n+\t}\n+\tpublic void setArrivalTime(String arrivalTime) {\n+\t\tthis.arrivalTime = arrivalTime;\n+\t}\n+}"
  }, {
    "sha" : "1524200ee669eb4dba5451eeb42be59059cad4a3",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902130/TrianDAO.java",
    "status" : "added",
    "additions" : 73,
    "deletions" : 0,
    "changes" : 73,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/TrianDAO.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902130/TrianDAO.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902130/TrianDAO.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,73 @@\n+package train;\n+\n+import java.sql.*;\n+import java.text.SimpleDateFormat;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Date;\n+\n+import train.DbConnect;\n+import train.Train_ticket;\n+import train.Train;\n+\n+public class TrianDAO {\n+      public List<Train> find(String despartPlase, String destination,\n+      String despartDate,String returnDate) throws Exception\n+      {   \n+    \t  Connection con = null;\n+    \t  PreparedStatement prepStmt = null;\n+    \t  ResultSet rs = null;\n+    \t  List<Train> train = new ArrayList<Train>();\n+    \t  try\n+    \t  {\n+        \tSimpleDateFormat sdf1 = new SimpleDateFormat(\"yyyy-MM-dd\");  \n+        \tjava.util.Date date1 = sdf1.parse(despartDate.toString());\n+        \tjava.sql.Date sqldate1 =new java.sql.Date(date1.getTime());\n+        \tSimpleDateFormat sdf2 = new SimpleDateFormat(\"yyyy-MM-dd\");  \n+        \tjava.util.Date date2 = sdf2.parse(returnDate.toString());\n+        \tjava.sql.Date sqldate2 =new java.sql.Date(date2.getTime());  \n+    \t    con = DbConnect.getDBconnection();\n+    \t    prepStmt = con.prepareStatement(\"select * from train_ticket where despartPlace = ? and destination = ? and despartDate = ? and returnDate = ?\");\n+    \t    prepStmt.setString(1,despartPlase);\n+    \t    prepStmt.setString(2,destination);\n+    \t    prepStmt.setDate(3,sqldate1);\n+    \t    prepStmt.setDate(4,sqldate2);\n+    \t    rs = prepStmt.executeQuery();\n+    \t    while(rs.next())\n+    \t    {\n+    \t\t     int a = 0 , b = 0 , c = 0, d = 0;\n+    \t    \t Train tra = new Train();\n+    \t    \t tra.setTrainID(rs.getString(1));\n+    \t      \t tra.setDespartPlace(rs.getString(2));\n+    \t      \t tra.setDestination(rs.getString(3));\n+    \t      \t tra.setDespartTime(rs.getString(6));\n+    \t      \t tra.setArrivalTime(rs.getString(7));\n+    \t      \t if(\"��\".equals(rs.getString(12)))\n+    \t        {\n+    \t      \t\tif(\"������\".equals(rs.getString(10)))\n+    \t      \t\t   a++;\n+    \t      \t\telse if(\"һ����\".equals(rs.getString(10)))\n+    \t      \t\t   b++;\n+    \t      \t\telse if(\"������\".equals(rs.getString(10)))\n+    \t      \t\t   c++;\n+    \t      \t\telse \n+    \t      \t\t   d++;\n+    \t      \t }\n+      \t      \ttra.setBusinessSeat(a);\n+        \t\ttra.setFirstSeat(b);\n+        \t\ttra.setSecondSeat(c);\n+        \t\ttra.setNullSeat(d);\n+        \t\ttrain.add(tra);\n+    \t    }\n+    \t  }\n+    \t  catch(Exception e)\n+    \t  {\n+    \t\t  e.printStackTrace();\n+    \t  }\n+    \t  finally\n+    \t  {\n+             DbConnect.closeDB(con, prepStmt, rs);\n+    \t  }\n+    \t  return train;\n+      }\n+}"
  }, {
    "sha" : "612efb02c449dd42699339e287c035f822f1953f",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902131/CaculateRateServlet.java",
    "status" : "added",
    "additions" : 80,
    "deletions" : 0,
    "changes" : 80,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902131/CaculateRateServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902131/CaculateRateServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902131/CaculateRateServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,80 @@\n+package servlets;\n+\n+import java.io.IOException;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import java.util.ArrayList;\n+//import java.util.*;\n+import beans.CountRate;\n+/**\n+ * Servlet implementation class CaculateRateServlet\n+ */\n+@WebServlet(\"/CaculateRateServlet\")\n+public class CaculateRateServlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public CaculateRateServlet() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+    ArrayList<CountRate>billlist=new ArrayList<CountRate>();\n+    int i=0;\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tdouble money1=Double.parseDouble(request.getParameter(\"money1\"));\n+\t\tString qixian=request.getParameter(\"qixian\");\n+\t\tString repayment=request.getParameter(\"repayment\");\n+\t\tString date=request.getParameter(\"date\");\n+\t\tdouble rate = 0,sum;\n+\t\tif(qixian!=null){\n+\t\tif(\"1����\".equals(qixian)) rate=0;\n+\t\telse if(\"3����\".equals(qixian)) rate=0.05;\n+\t\telse if(\"6����\".equals(qixian)) rate=0.10;\n+\t\telse if(\"1��\".equals(qixian)) rate=0.15;\n+\t\telse if(\"3��\".equals(qixian)) rate=0.20;\n+\t\telse  rate=0.25;}\n+\t\tsum=money1+money1*rate;\n+\t\trequest.setAttribute(\"outmessage1\", rate);\n+\t\trequest.setAttribute(\"outmessage2\", sum);\n+\t\trequest.setAttribute(\"message1\", money1);\n+\t\trequest.setAttribute(\"message2\", qixian);\n+\t\trequest.setAttribute(\"message3\", repayment);\n+\t\trequest.setAttribute(\"message4\", date);\n+\t\t\n+\t\ti++;\n+\t\tbilllist.add(new CountRate( money1,  qixian,  repayment,i,date,sum,rate));\n+\t\trequest.setAttribute(\"bill\",billlist);\n+\t\trequest.setAttribute(\"money1\",money1);\n+\t\trequest.setAttribute(\"qixian\",qixian);\n+\t\trequest.setAttribute(\"repayment\",repayment);\n+\t\trequest.setAttribute(\"rate\", rate);\n+\t\trequest.setAttribute(\"sum\", sum);\n+\t\trequest.setAttribute(\"date\", date);\n+\t\trequest.getRequestDispatcher(\"/output.jsp\").forward(request,response);\n+\t\tresponse.getWriter().append(\"Served at: \").append(request.getContextPath());\n+\t}\n+\n+\t\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t\t\n+\t\tdoGet(request, response);\n+\t}\n+\n+}"
  }, {
    "sha" : "9bc7cf0a178b6f4b00c1bb43df10f4ce5e7e34de",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902131/CountRate.java",
    "status" : "added",
    "additions" : 27,
    "deletions" : 0,
    "changes" : 27,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902131/CountRate.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902131/CountRate.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902131/CountRate.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,27 @@\n+package beans;\n+\n+public class CountRate {\n+\tprivate double money1;\n+private String qixian, repayment,date;\n+private int num;\n+\n+public CountRate(double money1, String qixian, String repayment,int num,String date,double sum,double rate) {\n+\tthis.money1=money1;\n+\tthis.qixian=qixian;\n+\tthis.repayment=repayment;\n+\tthis.num=num;\n+\tthis.date=date;\n+// TODO Auto-generated constructor stub\n+}\n+\n+public double getMoney1(){return money1;}\n+public void setMoney1(double money1){this.money1=money1;}\n+public String getQixian(){return qixian;}\n+public void setQixian(String qixian){this.qixian=qixian;}\n+public String getRepayment(){return repayment;}\n+public void setRepayment(String repayment){this.repayment=repayment;}\n+public int getNum(){return num;}\n+public void setNum(int num){this.num=num;}\n+public String getDate(){return date;}\n+public void setDate(String date){this.date=date;}\n+}"
  }, {
    "sha" : "56f9cc407407ba0ea619d6203338cd32078a3751",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902131/EncodingFilter.java",
    "status" : "added",
    "additions" : 20,
    "deletions" : 0,
    "changes" : 20,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902131/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902131/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902131/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,20 @@\n+package se1414080902131;\n+import javax.servlet.*;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+import java.io.IOException;\n+import java.util.logging.LogRecord;\n+@WebFilter(filterName=\"EncodingFilter\",urlPattern=\"/*\")\n+public class EncodingFilter implements Filter{\n+@Override\n+public void init(FilterConfig filterConfig) throws ServletException{}\n+@Override\n+public void doFilter(ServletRequest servletRequest,ServletResponse servletResponse,FilterChain filterChain)throws IOException,ServletException{\n+\tservletRequest.setCharacterEncoding(\"utf=8\");\n+\tfilterChain.doFilter(servletRequest, servletResponse);\n+\t}\n+@Override\n+public void destory(){}\n+}"
  }, {
    "sha" : "ee2cd2491d578356551367f12a061a80f7f5165c",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902131/Se1414080902131Servlet.java",
    "status" : "added",
    "additions" : 53,
    "deletions" : 0,
    "changes" : 53,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902131/Se1414080902131Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902131/Se1414080902131Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902131/Se1414080902131Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,53 @@\n+package edu.hzu.javaweb.labs.se1414080902131;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.List;\n+import javax.servlet.ServletContext;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import java.util.Enumeration;\n+import java.util.Iterator;\n+import javafx.application.Application;\n+public class Se1414080902131Servlet extends HttpServlet {\n+\tpublic Se1414080902131Servlet(){\n+\t\tsuper();\n+\t}\n+\tpublic void destory(){\n+\t\tsuper destory();\n+\t}\n+\tprotected void doGet(HttpServletRequest request,HttpServletResponse response)\n+\t        throws ServletException,IOException{\n+\t\tresponse.setCharacterEncoding(\"utf-8\");\n+\t\tServletContext application=this.getServletContext();\n+\t\tapplication.setAttribute(\"message\",\"���ɹ���\");\n+\t\tresponse.sendRedirect(\"/1414080902131/Right.jsp\");\n+\t}\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\tServletContext application=this.getServletContext();\n+\tUserData ud=new UserData();\n+\tresponse.setContentType(\"text/html\");\n+\tPrintWrite out=response.getWriter();\n+\trequest.setCharacterEncoding(\"utf-8\");\n+\tresponse.setCharacterEncoding(\"utf-8\");\n+\tEnumeration<String>iter_=(request.getParameterNames());\n+\twhile(iter_hasMoreElements()){\n+\t\tString key=iter_nextElement();\n+\t\tud.setAttribute(key,request.getAttribute(key));\n+\t}\n+\t\tif(!ud.isComplete()){\n+\t\t\tout.write(\"�˴���Ϣ����Ϊ�գ�\")\n+\t\t}else {application.setAttribute(\"UserData\",ud);\n+\t\tresponse.sendRedirect(\"/1414080902131/Right.jsp\");}\n+\t}\n+\t}\n+\tpublic void init()throws\n+\tServletException{\n+\t\tSystem.out.println(\"init(_)\");\n+\t\tout.fulsh();\n+\t}\n+}"
  }, {
    "sha" : "5df3550b2b0ddad91922cce5f820183ef2d00848",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902131/SecurityFilter.java",
    "status" : "added",
    "additions" : 28,
    "deletions" : 0,
    "changes" : 28,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902131/SecurityFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902131/SecurityFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902131/SecurityFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,28 @@\n+package se1414080902131;\n+import javax.servlet.*;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+import java.io.IOException;\n+import java.util.logging.LogRecord;\n+@WebFilter(filterName=\"SecurityFilter\",urlPattern=\"/*\",initParams={@WebInitParam(name=\"FilteredIP\"value=\"192.168.131.1\")})\n+/*paravalue��ȡ���ֵ*/\n+public class SecurityFilter implements Filter{\n+\tprivate String FilteredIP;\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException{\n+\t\tFilteredIP=conf.getInitParameter(\"FilteredIP\");\n+\t\tif(FilteredIP==null)FilteredIP=\"\";\n+\t}\n+\t@Override\n+\tpublic void doFilter(ServletRequest servletRequest,ServletResponse servletResponse,FilterChain filterChain)throws IOException,ServletException{\n+\t\tString remoteIP==request.getRemoteAddr();\n+\t\tif(remoteIP.equals(FilteredIP)){\n+\t\t\tchain.doFilter(request,response);}\n+\t\telse{RequestDispatcher dispatcher=request.getRequestDispatcher(\"ErrorInfo.jsp\");\n+\t\tdispatcher.forward(request, response);}\n+\t\t}\n+\t@Override\n+\tpublic void destory(){}\n+}"
  }, {
    "sha" : "fabfa2cb5725f16a177dbfa11395f13212ceb3e5",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902131/UserData.java",
    "status" : "added",
    "additions" : 69,
    "deletions" : 0,
    "changes" : 69,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902131/UserData.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902131/UserData.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902131/UserData.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,69 @@\n+package edu.hzu.javaweb.labs.se1414080902131;\n+public class UserDate{\n+\tprivate boolean readed;\n+\tprivate String jiekuan;\n+\tprivate String time;\n+\tprivate String way;\n+\tprivate String pass;\n+\tpublic void UserDate(){\n+\t\tjiekuan=\" \";\n+\t\ttime=\" \";\n+\t\tway=\" \";\n+\t\tpass=\" \";\n+\t\treaded=false;\n+\t}\n+\tpublic void setCheck(boolean yanzheng){\n+\t\treaded=yanzheng;\n+\t}\n+\tpubic void setMoney(String zijin){\n+\t\tjiekuan=zijin;\n+\t\t\n+\t}\n+\tpublic void setTime(String day){\n+\t\ttime=day;\n+\t}\n+\tpublic void setMent(String ment){\n+\t\tway=ment;\n+\t}\n+\tpublic void setPwd(String passwd){\n+\t\tpass=passwd;\n+\t}\n+\tpublic String getReaded(){\n+\t\treturn readed;\n+\t}\n+\tpublic String getMoney(){\n+\t\treturn jiekuan;\n+\t}\n+\tpublic String getTime(){\n+\t\treturn time;\n+\t}\n+\tpublic String getMent(){\n+\t\treturn way;\n+\t}\n+\tpublic String getPwd(){\n+\t\treturn pass;\n+\t}\n+\tpublic boolean isComplete(){\n+\t\t\tif(readed.equal(\"\")){\n+\t\t\t\tSystem.out.println(\"请仔细阅读相关借款信息！\");\n+\t\t\t\treturn false;\n+\t\t\t}\n+\t\t\telse{if(jiekuan.equals(\"\")){\n+\t\t\t\tSystem.out.println(\"请输入借款数目！\");\n+\t\t\t\treturn false;\n+\t\t\t}\n+\t\t}\n+\t\t\telse{if(time.equal(\"\")){\n+\t\t\t\tSystem.out.println(\"请输入借款期限\");\n+\t\t\t\treturn false;\n+\t\t\t}\n+\t\t\t}\n+\t\t\telse{if(way.equals(\"\")){\n+\t\t\t\tSystem.out.println(\"请选择还款方式！\");\n+\t\t\t\treturn false;}\n+\t\t\t}\n+\t\telse{if(pass.equals(\"\")){\n+\t\t\tSystem.out.println(\"请输入支付密码！\");\n+\t\t\treturn false;}\n+\t\t}else{return true;}\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "9848cde4e43fb2b784f61530dfdd6cb96b229d54",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/EncodingFilter.java",
    "status" : "added",
    "additions" : 53,
    "deletions" : 0,
    "changes" : 53,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,53 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+/**\n+ * Servlet Filter implementation class EncodingFilter\n+ */\n+@WebFilter(filterName = \"/EncodingFilter\",urlPatterns = \"/*\")\n+public class EncodingFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public EncodingFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t// place your code here\n+\n+\t\tString encoding = \"UTF-8\";\n+        request.setCharacterEncoding(encoding);// ��������������ָ���ı���  \n+        response.setCharacterEncoding(encoding);\n+\t\t// pass the request along the filter chain\n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "26f1e5b8d12716f260a9d1a83540d1ac8f461e82",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/Labels.java",
    "status" : "added",
    "additions" : 41,
    "deletions" : 0,
    "changes" : 41,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Labels.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Labels.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Labels.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,41 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.util.Date;\n+\n+public class Labels {\n+\tprivate String title;\n+\tprivate String content;\n+\tprivate String time;\n+\tprivate String quickCode;\n+\tpublic String getQuickCode() {\n+\t\treturn quickCode;\n+\t}\n+\tpublic void setQuickCode(String quickCode) {\n+\t\tthis.quickCode = quickCode;\n+\t}\n+\tprivate Object other;\n+\tpublic String getTitle() {\n+\t\treturn title;\n+\t}\n+\tpublic void setTitle(String title) {\n+\t\tthis.title = title;\n+\t}\n+\tpublic String getContent() {\n+\t\treturn content;\n+\t}\n+\tpublic void setContent(String content) {\n+\t\tthis.content = content;\n+\t}\n+\tpublic String getTime() {\n+\t\treturn time;\n+\t}\n+\tpublic void setTime(String time) {\n+\t\tthis.time = time;\n+\t}\n+\tpublic Object getOther() {\n+\t\treturn other;\n+\t}\n+\tpublic void setOther(Object other) {\n+\t\tthis.other = other;\n+\t}\n+}"
  }, {
    "sha" : "aaab791af3a64ac6d71b00c212ef27a7c96f1854",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/LoginFilter.java",
    "status" : "added",
    "additions" : 80,
    "deletions" : 0,
    "changes" : 80,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,80 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet Filter implementation class LoginFilter\n+ */\n+@WebFilter(filterName = \"/LoginFilter\",urlPatterns = \"/*\")\n+public class LoginFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+\tprivate final String js = \"/jweb/1414080902134/js\";\n+\tprivate final String css = \"/jweb/1414080902134/css\";\n+\tprivate final String font = \"/jweb/1414080902134/font\";\n+\tprivate final String img = \"/jweb/1414080902134/img\";\n+    public LoginFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t// place your code here\n+\t\tHttpServletRequest req = (HttpServletRequest)request;\n+\t\tHttpServletResponse res = (HttpServletResponse)response;\n+\t\tHttpSession session = req.getSession();\n+\t\tString reqURL = req.getRequestURI();\n+\t\tString page;\n+\t\tif (reqURL.indexOf('?') != -1) {\n+\t\t\tpage = reqURL.substring(0,reqURL.indexOf('?'));\n+\t\t} else {\n+\t\t\tpage = reqURL;\n+\t\t}\n+\t\t//System.out.println(page);\n+\t\t//System.out.println(page);\n+\t\tif (session.getAttribute(\"login\") != null) {\n+\t\t\tchain.doFilter(request, response);\n+\t\t} else if (page.equals(\"/jweb/1414080902134/home.jsp\") \n+\t\t\t\t\t|| page.equals(\"/jweb/1414080902134\")\n+\t\t\t\t\t|| page.substring(0,js.length()).equals(js)\n+\t\t\t\t\t|| page.substring(0,font.length()).equals(font)\n+\t\t\t\t\t|| page.substring(0,css.length()).equals(css)\n+\t\t\t\t\t|| page.substring(0,img.length()).equals(img)\n+\t\t\t){\n+\t\t\tchain.doFilter(request, response);\n+\t\t} else {\n+\t\t\tres.sendRedirect(\"/jweb/1414080902134/home.jsp\");\n+\t\t}\n+\t\t// pass the request along the filter chain\n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "246c5fe3766c4956bd172892a77d1b8a484a8f01",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/MockLogin.java",
    "status" : "added",
    "additions" : 121,
    "deletions" : 0,
    "changes" : 121,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/MockLogin.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/MockLogin.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/MockLogin.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,121 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.ArrayList;\n+import java.util.Date;\n+import java.util.Enumeration;\n+\n+import javax.servlet.ServletContext;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet implementation class MockLogin\n+ */\n+@WebServlet(\"/MockLogin\")\n+public class MockLogin extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public MockLogin() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\tServletContext application=this.getServletContext(); \n+\t\tapplication.setAttribute(\"message\",\"only dear with post method .\");\n+\t\tresponse.sendRedirect(\"jweb/1414080902134/home.jsp\");\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t\tServletContext application=this.getServletContext(); \n+\t\tUserData ud = new UserData();\n+\t\tEnumeration<String> iter_ = (request.getParameterNames());\n+\t\tHttpSession session = request.getSession();\n+\t\tsession.setAttribute(\"info\", null);\n+\t\tsession.setAttribute(\"label\", null);\n+\t\tsession.setAttribute(\"quickCode\", null);\n+\t\twhile (iter_.hasMoreElements()) {\n+\t\t\tString key = iter_.nextElement();\n+\t\t\tud.setAttribute(key,request.getParameter(key));\n+\t\t}\n+\t\t\n+\t\tif (ud.getQuickCode().equals(\"\")) {\n+\t\t\tif (ud.isComplete()) {\n+\t\t\t\t// login success\n+\t\t\t\t//System.out.println(\"info-9\");\n+\t\t\t\tArrayList<Labels> labels = new ArrayList<Labels>();\n+\t\t\t\tfor (int i = 0;i < mock.count;i++) {\n+\t\t\t\t\tlabels.add(mock.get(\"\", i));\n+\t\t\t\t}\n+\t\t\t\tsession.setAttribute(\"login\", true);\n+\t\t\t\tsession.setAttribute(\"labels\", labels);\n+\t\t\t\tresponse.sendRedirect(\"/jweb/1414080902134/ShowLabels.jsp\");\n+\t\t\t} else {\n+\t\t\t\t//System.out.println(\"info-7\");\n+\t\t\t\tsession.setAttribute(\"info\", \"Login fail , please input username and password or quickcode.\");\n+\t\t\t\tresponse.sendRedirect(\"/jweb/1414080902134/home.jsp\");\n+\t\t\t}\n+\t\t} else {\n+\t\t\t//System.out.println(\"info-2\");\n+\t\t\tLabels labels = mock.get(ud.getQuickCode());\n+\t\t\tsession.setAttribute(\"label\", labels);\n+\t\t\tsession.setAttribute(\"quickCode\", ud.getQuickCode());\n+\t\t\tresponse.sendRedirect(\"/jweb/1414080902134/home.jsp\");\n+\t\t}\n+\t}\n+\n+}\n+\n+//temporary until issues x\n+class mock{\n+\tpublic static int count = 7;\n+\tpublic static String[] labels = \n+\t\t\t(\n+\t\t\t\t\"Monday is a nice begin for me ._\" + \n+\t\t\t\t\"Tuesday is a nice begin for me ._\" + \n+\t\t\t\t\"Wednesday is a nice begin for me ._\" + \n+\t\t\t\t\"Thursday is a nice begin for me ._\" + \n+\t\t\t\t\"Friday is a nice begin for me ._\" + \n+\t\t\t\t\"Saturday is a nice begin for me ._\" + \n+\t\t\t\t\"Sunday is a nice begin for me ._\" \n+\t\t\t)\n+\t\t\t.split(\"_\");\n+\tpublic static Labels get(String str){\n+\t\tDate d = new Date();\n+\t\tLabels label = new Labels();\n+\t\tlabel.setTitle(\"{Title}:So Nice Today\");\n+\t\tlabel.setTime((1990 + d.getYear()) + \"Y \" + (1 + d.getMonth()) + \"M \" + (d.getDate()) + \"D \" + d.getHours() + \":\" + d.getMinutes() + \":\" + d.getSeconds());\n+\t\tlabel.setContent(\"{Content} : Haha , Nothing I can show for you .\");\n+\t\tlabel.setOther(new Object());\n+\t\treturn label;\n+\t}\n+\tpublic static Labels get(String str,int n) {\n+\t\tDate d = new Date();\n+\t\tLabels label = new Labels();\n+\t\tlabel.setTitle(\"{Title}: \" + labels[n % 7].split(\" \")[0]);\n+\t\tlabel.setTime((1990 + d.getYear()) + \"Y \" + (1 + d.getMonth()) + \"M \" + (d.getDate()) + \"D \" + d.getHours() + \":\" + d.getMinutes() + \":\" + d.getSeconds());\n+\t\tlabel.setContent(\"{Content} : \" + labels[n % 7]);\n+\t\tlabel.setOther(new Object());\n+\t\tlabel.setQuickCode(\"\" + n);\n+\t\treturn label;\n+\t}\n+}\n+"
  }, {
    "sha" : "4c485327feb846a8009b9ac88910e7773cf433b8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/Se1414080902134Servlet.java",
    "status" : "added",
    "additions" : 114,
    "deletions" : 0,
    "changes" : 114,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Se1414080902134Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Se1414080902134Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/Se1414080902134Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,114 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.List;\n+\n+import javax.servlet.ServletContext;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+import java.util.Enumeration;\n+import java.util.Iterator;\n+\n+//import edu.hzu.javaweb.bean.se1414080902134.UserData;\n+import javafx.application.Application;\n+\n+/**\n+ * Servlet implementation class Se1414080902134Servlet\n+ */\n+@WebServlet(\"/1414080902134\")\n+public class Se1414080902134Servlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public Se1414080902134Servlet() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\t//ServletContext application=this.getServletContext(); \n+\t\t//application.setAttribute(\"message\",\"only dear with post method .\");\n+\t\tSystem.out.println(\"only dear with post method\");\n+\t\tresponse.sendRedirect(\"/jweb/1414080902134/Home.jsp\");\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\tHttpSession session = request.getSession();\n+\t\tsession.setAttribute(\"info\", null);\n+\t\tsession.setAttribute(\"label\", null);\n+\t\tsession.setAttribute(\"quickCode\", null);\n+\t\tObject isLogin_ = session.getAttribute(\"isLogin\");\n+\t\tboolean isLogin = false;\n+\t\tServletContext application=this.getServletContext();\n+\t\tUserData ud = new UserData();\n+\t\tObject ud_ = session.getAttribute(\"ud\");\n+\t\tEnumeration<String> iter_ = (request.getParameterNames());\n+\t\t////////////if is login and remembered ///////////////////\n+\t\tif (isLogin_ != null && ud_ != null) {\n+\t\t\tif (((String)isLogin_).equals(\"true\")) {\n+\t\t\t\tisLogin = true;\n+\t\t\t} else {\n+\t\t\t\tsession.setAttribute(\"isLogin\", null);\n+\t\t\t}\n+\t\t}\n+\t\t///////////////// fill the form //////////////////////////\n+\t\twhile (iter_.hasMoreElements()) {\n+\t\t\tString key = iter_.nextElement();\n+\t\t\tud.setAttribute(key,request.getParameter(key));\n+\t\t}\n+\t\t//////////////// try to login ///////////////////\n+\t\tud.isComplete();\n+\t\t///////////////// quickcode first /////////////////\n+\t\tif (!ud.getQuickCode().equals(\"\")) {\n+\t\t\t//to get a note\n+\t\t\tnote n = new note();\n+\t\t\tnotesDao nd = new notesDao();\n+\t\t\tn.setQuickCode(ud.getQuickCode());\n+\t\t\tnd.fillNote(n);\n+\t\t\tSystem.out.println(\"quickCode is \" + n.getQuickCode());\n+\t\t\tif (n.isFill) {\n+\t\t\t\tsession.setAttribute(\"label\",n);\n+\t\t\t\tSystem.out.println(\"quickCode success\");\n+\t\t\t} else {\n+\t\t\t\tsession.setAttribute(\"info\",\"Please a right quick code .\");\n+\t\t\t\tSystem.out.println(\"quickCode fail\");\n+\t\t\t}\n+\t\t\tresponse.sendRedirect(\"1414080902134/home.jsp\");\n+\t\t}\n+\t\telse if (ud.isLogin) {\n+\t\t\t//new user login , keep down the new one\n+\t\t\tsession.setAttribute(\"ud\", ud);\n+\t\t\tSystem.out.println(\"login\");\n+\t\t\tsession.setAttribute(\"login\",true);\n+\t\t\tresponse.sendRedirect(\"1414080902134/ShowLabels.jsp\");\n+\t\t} else if (isLogin) {\n+\t\t\t//if there is a user is login\n+\t\t\tSystem.out.println(\"old login\");\n+\t\t\tsession.setAttribute(\"login\",true);\n+\t\t\tsession.setAttribute(\"ud\", ud);\n+\t\t\tresponse.sendRedirect(\"1414080902134/ShowLabels.jsp\");\n+\t\t} else {\n+\t\t\t//login fail\n+\t\t\tsession.setAttribute(\"info\",\"Try to login to continue .[user name or password is wrong]\");\n+\t\t\tSystem.out.println(\"login fail\");\n+\t\t\tresponse.sendRedirect(\"1414080902134/home.jsp\");\n+\t\t}\n+\t}\n+\n+}"
  }, {
    "sha" : "a9a7c62f9b8fc44af6c9bb4cd78467a84554913c",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserData.java",
    "status" : "added",
    "additions" : 106,
    "deletions" : 0,
    "changes" : 106,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserData.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserData.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserData.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,106 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+public class UserData {\n+\tprivate int userId;\n+\tprivate String UserName;\n+\tprivate String Email;\n+\tprivate String Password;\n+\tprivate String QuickCode;\n+\tprivate boolean Remeber;\n+\tpublic boolean isLogin;\n+\tpublic UserData(){\n+\t\tUserName = \"\";\n+\t\tEmail = \"\";\n+\t\tPassword = \"\";\n+\t\tQuickCode = \"\";\n+\t\tRemeber = false;\n+\t\tisLogin = false;\n+\t}\n+\tpublic int getUserId() {\n+\t\treturn userId;\n+\t}\n+\tpublic void setUserId(int userId) {\n+\t\tthis.userId = userId;\n+\t}\n+\tpublic String getUserName() {\n+\t\treturn UserName;\n+\t}\n+\tpublic void setUserName(String userName) {\n+\t\tUserName = userName;\n+\t}\n+\tpublic String getEmail() {\n+\t\treturn Email;\n+\t}\n+\tpublic void setEmail(String email) {\n+\t\tEmail = email;\n+\t}\n+\tpublic String getPassword() {\n+\t\treturn Password;\n+\t}\n+\tpublic void setPassword(String password) {\n+\t\tPassword = password;\n+\t}\n+\tpublic String getQuickCode(){\n+\t\treturn QuickCode;\n+\t}\n+\tpublic void setQuickCode(String qc){\n+\t\tQuickCode = qc;\n+\t}\n+\tpublic boolean getRemeber() {\n+\t\treturn Remeber;\n+\t}\n+\tpublic void setRemeber(boolean reamber) {\n+\t\tRemeber = reamber;\n+\t}\n+\tpublic void setAttribute(String key,String value){\n+\t\t//System.out.println(key + \" +++ \" + value);\n+\t\tif (key.toLowerCase().equals(\"username\")) {\n+\t\t\tsetUserName(value);\n+\t\t} else if (key.toLowerCase().equals(\"email\")) {\n+\t\t\tsetEmail(value);\n+\t\t} else if (key.toLowerCase().equals(\"password\")) {\n+\t\t\tsetPassword(value);\n+\t\t} else if (key.toLowerCase().equals(\"quickcode\")) {\n+\t\t\tsetQuickCode(value);\n+\t\t} else if (key.toLowerCase().equals(\"Remeber\")) {\n+\t\t\tif (value.toLowerCase().equals(\"on\")) {\n+\t\t\t\tsetRemeber(true);\n+\t\t\t}\n+\t\t}\n+\t}\n+\tpublic boolean isComplete(){\n+\t\t//System.out.println(Password + \"\\t\" + UserName + \"\\t\" + Email);\n+\t\tif (QuickCode.equals(\"\")) {\n+\t\t\tif (Password.equals(\"\")) {\n+\t\t\t\tSystem.out.println(\"Password false\");\n+\t\t\t\treturn false;\n+\t\t\t} else {\n+\t\t\t\tif (UserName.equals(\"\") && Email.equals(\"\")) {\n+\t\t\t\t\tSystem.out.println(\"UserName false\");\n+\t\t\t\t\treturn false;\n+\t\t\t\t} else {\n+\t\t\t\t\t//mock to search from database\n+\t\t\t\t\t//return mock_.mockLogin(this);\n+\t\t\t\t\tUserData ud = (new UserDataDao()).CheckUser(this);\n+\t\t\t\t\tif (ud != null) {\n+\t\t\t\t\t\tsetUserName(ud.getUserName());\n+\t\t\t\t\t\tsetEmail(ud.getEmail());\n+\t\t\t\t\t\tsetPassword(ud.getPassword());\n+\t\t\t\t\t\tisLogin = true;\n+\t\t\t\t\t\treturn true;\n+\t\t\t\t\t} else {\n+\t\t\t\t\t\treturn false;\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t}\n+\t\t} else {\n+\t\t\treturn true;\n+\t\t}\n+\t}\n+}\n+\n+class mock_{\n+\tpublic static boolean mockLogin(Object o){\n+\t\treturn true;\n+\t}\n+}"
  }, {
    "sha" : "b0498d62f35037e2308e1a607eb79ebbec6472a5",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserDataDao.java",
    "status" : "added",
    "additions" : 53,
    "deletions" : 0,
    "changes" : 53,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserDataDao.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserDataDao.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/UserDataDao.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,53 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.sql.*;\n+\n+import com.sun.org.apache.regexp.internal.RE;\n+\n+/**\n+ * \n+ * @author Administrator\n+ *\n+ */\n+public class UserDataDao {\n+\tprivate String Select_up = \"select id,UserName,Email,Password_ from UserData where \" + \n+\t\t\t\t\t\t\t\"UserName=? and Password_=?\";\n+\tprivate String Select_ep = \"select UserName,Email,Password_ from UserData where \" + \n+\t\t\t\"Email=? and Password_=?\";\t\n+\t/**\n+\t * Search the ud from database\n+\t * @param ud\n+\t * @return if the ud is exist in the database return true else return false\n+\t */\n+\tpublic UserData CheckUser(UserData ud){\n+\t\tPreparedStatement ps = null;\n+\t\tboolean isGet = false;\n+\t\ttry {\n+\t\t\tConnection conn = jdbcOne.getConnection();\n+\t\t\tif (ud.getEmail().equals(\"\")) {\n+\t\t\t\tif (ud.getUserName().equals(\"\")) {\n+\t\t\t\t\treturn null;\n+\t\t\t\t}\n+\t\t\t\tps = conn.prepareStatement(Select_up);\n+\t\t\t\tps.setString(1, ud.getUserName());\n+\t\t\t} else {\n+\t\t\t\tps = conn.prepareStatement(Select_ep);\n+\t\t\t\tps.setString(1, ud.getEmail());\n+\t\t\t}\n+\t\t\tps.setString(2, ud.getPassword());\n+\t\t\tResultSet rs = ps.executeQuery();\n+\t\t\tif (rs.next()) {\n+\t\t\t\tud.setUserId(rs.getInt(1));\n+\t\t\t\tud.setUserName(rs.getString(2));\n+\t\t\t\tud.setEmail(rs.getString(3));\n+\t\t\t\tud.setPassword(rs.getString(4));\n+\t\t\t}\n+\t\t\tjdbcOne.free(rs, ps, conn);\n+\t\t\treturn ud;\n+\t\t} catch (SQLException e) {\n+\t\t\t// TODO Auto-generated catch block\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn ud;\n+\t}\n+}"
  }, {
    "sha" : "87edd4cf6c4eb8306a78a10f37ffa08d83c2e5b4",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/jdbcOne.java",
    "status" : "added",
    "additions" : 57,
    "deletions" : 0,
    "changes" : 57,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/jdbcOne.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/jdbcOne.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/jdbcOne.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,57 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.sql.*;\n+import java.util.*;\n+\n+\n+public class jdbcOne {\n+\tprivate static String driver;\n+\tprivate static String url;\n+\tprivate static String user;\n+\tprivate static String pwd;\n+\t//private static Properties pt = new Properties();\n+\tpublic jdbcOne(){}\n+\tstatic {\n+\t\ttry {\n+\t\t\t//pt.load(jdbcOne.class.getClassLoader()\n+\t\t\t//\t\t.getResourceAsStream(\"db.properties\"));\n+\t\t\tdriver = \"com.mysql.jdbc.Driver\";//pt.getProperty(\"driver\");\n+\t\t\turl = \"jdbc:mysql://localhost:3306/my_db?userUnicode=true&charcterEncoding=utf-8\";//pt.getProperty(\"url\");\n+\t\t\tuser = \"root\";//pt.getProperty(\"user\");\n+\t\t\tpwd = \"include bing\";//pt.getProperty(\"pwd\");\n+\t\t\tClass.forName(driver);\n+\t\t} catch (Exception e) {\n+\t\t\tthrow new ExceptionInInitializerError(e);\n+\t\t}\n+\t}\n+\t\n+\tpublic static Connection getConnection() throws SQLException{\n+\t\treturn (Connection) DriverManager.getConnection(url,user,pwd);\n+\t}\n+\t\n+\tpublic static void free(ResultSet rs,Statement ps,java.sql.Connection conn) {\n+\t\ttry {\n+\t\t\tif (rs != null) {\n+\t\t\t\trs.close();\n+\t\t\t}\n+\t\t} catch (SQLException e) {\n+\t\t\te.printStackTrace();\n+\t\t} finally {\n+\t\t\ttry {\n+\t\t\t\tif (ps != null) {\n+\t\t\t\t\tps.close();\n+\t\t\t\t}\n+\t\t\t} catch (SQLException e) {\n+\t\t\t\te.printStackTrace();\n+\t\t\t} finally {\n+\t\t\t\tif (conn != null) {\n+\t\t\t\t\ttry {\n+\t\t\t\t\t\tconn.close();\n+\t\t\t\t\t} catch (SQLException e) {\n+\t\t\t\t\t\te.printStackTrace();\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t}\n+\t\t}\n+\t}\n+}"
  }, {
    "sha" : "d0911eb5a54df1ac53340b05596833ef5f225ca5",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/note.java",
    "status" : "added",
    "additions" : 60,
    "deletions" : 0,
    "changes" : 60,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/note.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/note.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/note.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,60 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.util.Date;\n+\n+public class note {\n+\tprivate int id;\n+\tprivate String title;\n+\tprivate String Content;\n+\tprivate int userId;\n+\tprivate Date lastTime;\n+\tprivate String quickCode;\n+\tpublic boolean isFill;\n+\tpublic final int titleMaxLength = 15;\n+\tpublic final int contentMaxLength = 300;\n+\tpublic final int quickCodeLength = 6;\n+\tpublic note() {\n+\t\ttitle = null;\n+\t\tContent = null;\n+\t\tuserId = 0;\n+\t\tlastTime = null;\n+\t\tquickCode = null;\n+\t\tisFill = false;\n+\t}\n+\tpublic int getId() {\n+\t\treturn id;\n+\t}\n+\tpublic void setId(int id) {\n+\t\tthis.id = id;\n+\t}\n+\tpublic String getTitle() {\n+\t\treturn title;\n+\t}\n+\tpublic void setTitle(String title) {\n+\t\tthis.title = title;\n+\t}\n+\tpublic String getContent() {\n+\t\treturn Content;\n+\t}\n+\tpublic void setContent(String content) {\n+\t\tContent = content;\n+\t}\n+\tpublic int getUserId() {\n+\t\treturn userId;\n+\t}\n+\tpublic void setUserId(int userId) {\n+\t\tthis.userId = userId;\n+\t}\n+\tpublic Date getLastTime() {\n+\t\treturn lastTime;\n+\t}\n+\tpublic void setLastTime(Date lastTime) {\n+\t\tthis.lastTime = lastTime;\n+\t}\n+\tpublic String getQuickCode() {\n+\t\treturn quickCode;\n+\t}\n+\tpublic void setQuickCode(String quickCode) {\n+\t\tthis.quickCode = quickCode;\n+\t}\n+}"
  }, {
    "sha" : "ddf77ef062c9fb0ac64afc6bb1e668df41fa0fef",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesDao.java",
    "status" : "added",
    "additions" : 151,
    "deletions" : 0,
    "changes" : 151,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesDao.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesDao.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesDao.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,151 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.sql.*;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import com.mysql.jdbc.Connection;\n+\n+public class notesDao {\n+\tprivate static String allFiled = \"title,content,userid,lasttime,quickCode\";\n+\tpublic note fillNote(note n){\n+\t\tConnection conn = null;\n+\t\tPreparedStatement ps = null;\n+\t\ttry {\n+\t\t\tconn = (Connection) jdbcOne.getConnection();\n+\t\t\tif (n.getQuickCode() == null) {\n+\t\t\t\treturn null;\n+\t\t\t} else {\n+\t\t\t\tps = conn.prepareStatement(\"select id,\" + \n+\t\t\t\t\t\t\t\t\t\t\tallFiled + \n+\t\t\t\t\t\t\t\t\t\t\t\" from notes where quickCode='\"\n+\t\t\t\t\t\t\t\t\t\t\t+ n.getQuickCode() + \"'\");\n+\t\t\t\tResultSet rs = ps.executeQuery();\n+\t\t\t\tif (rs.next()) {\n+\t\t\t\t\tn.setId(rs.getInt(1));\n+\t\t\t\t\tn.setTitle(rs.getString(2));\n+\t\t\t\t\tn.setContent(rs.getString(3));\n+\t\t\t\t\tn.setUserId(rs.getInt(4));\n+\t\t\t\t\tn.setLastTime(rs.getDate(5));\n+\t\t\t\t\tn.setQuickCode(rs.getString(6));\n+\t\t\t\t\tn.isFill = true;\n+\t\t\t\t}\n+\t\t\t\tjdbcOne.free(rs, ps, conn);\n+\t\t\t\treturn n;\n+\t\t\t}\n+\t\t} catch (SQLException e) {\n+\t\t\t// TODO Auto-generated catch block\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn n;\n+\t}\n+\tpublic int insert(note n,int userId){\n+\t\tConnection conn = null;\n+\t\tPreparedStatement ps = null;\n+\t\tint result = 0;\n+\t\tif (n == null && !n.isFill) {\n+\t\t\treturn 0;\n+\t\t}\n+\t\ttry {\n+\t\t\tconn = (Connection) jdbcOne.getConnection();\n+\t\t\tps = conn.prepareStatement(\"insert into notes (\" + \n+\t\t\t\t\t\t\t\t\t\tallFiled + \n+\t\t\t\t\t\t\t\t\t\t\") values (?,?,?,?,?);\");\n+\t\t\tps.setString(1, n.getTitle());\n+\t\t\tps.setString(2, n.getContent());\n+\t\t\tps.setInt(3, userId);\n+\t\t\tps.setDate(4, new java.sql.Date(n.getLastTime().getTime()));\n+\t\t\tps.setString(5, n.getQuickCode());\n+\t\t\t//ResultSet rs = ps.executeQuery();\n+\t\t\tresult = ps.executeUpdate();\n+\t\t\tps.clearBatch();\n+\t\t\tResultSet rs = ps.executeQuery(\"select max(id) from notes;\");\n+\t\t\tif (rs.next()) {\n+\t\t\t\tresult = rs.getInt(1);\n+\t\t\t}\n+\t\t\tjdbcOne.free(rs, ps, conn);\n+\t\t\treturn result;\n+\t\t} catch (SQLException e) {\n+\t\t\t// TODO Auto-generated catch block\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn result;\n+\t}\n+\tpublic int update(note n,int userId){\n+\t\tConnection conn = null;\n+\t\tPreparedStatement ps = null;\n+\t\tint result = 0;\n+\t\tif (n == null && !n.isFill) {\n+\t\t\treturn result;\n+\t\t}\n+\t\ttry {\n+\t\t\tconn = (Connection) jdbcOne.getConnection();\n+\t\t\tps = conn.prepareStatement(\"update notes set \" + \n+\t\t\t\t\t\t\t\t\t\t\"title=?,\" + \n+\t\t\t\t\t\t\t\t\t\t\"content=?,\" +\n+\t\t\t\t\t\t                \"userid=?,\" +\n+\t\t\t\t\t\t                \"lasttime=?,\" +\n+\t\t\t\t\t\t                \"quickCode=? \" + \n+\t\t\t\t\t\t                \"where id=?;\");\n+\t\t\tps.setString(1, n.getTitle());\n+\t\t\tps.setString(2, n.getContent());\n+\t\t\tps.setInt(3, userId);\n+\t\t\tps.setDate(4, new java.sql.Date(n.getLastTime().getTime()));\n+\t\t\tps.setString(5, n.getQuickCode());\n+\t\t\tps.setInt(6, n.getId());\n+\t\t\tresult = ps.executeUpdate();\n+\t\t\tjdbcOne.free(null, ps, conn);\n+\t\t\treturn result;\n+\t\t} catch (SQLException e) {\n+\t\t\t// TODO Auto-generated catch block\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn result;\n+\t}\n+\tpublic int delete(note n){\n+\t\tList<note> notes = new ArrayList<note>();\n+\t\tConnection conn = null;\n+\t\tPreparedStatement ps = null;\n+\t\tint result = 0;\n+\t\ttry {\n+\t\t\tconn = (Connection) jdbcOne.getConnection();\n+\t\t\tps = conn.prepareStatement(\"delete from notes where id='\" + n.getId() + \"';\");\n+\t\t\tresult = ps.executeUpdate();\n+\t\t\tjdbcOne.free(null, ps, conn);\n+\t\t\treturn result;\n+\t\t} catch (SQLException e) {\n+\t\t\t// TODO Auto-generated catch block\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn result;\n+\t}\n+\tpublic List<note> getAll(int userId){\n+\t\tList<note> notes = new ArrayList<note>();\n+\t\tConnection conn = null;\n+\t\tPreparedStatement ps = null;\n+\t\ttry {\n+\t\t\tconn = (Connection) jdbcOne.getConnection();\n+\t\t\tps = conn.prepareStatement(\"select id,\" +\n+\t\t\t\t\t\t\t\t\t\tallFiled + \n+\t\t\t\t\t\t\t\t\t\t\" from notes order by id desc;\");\n+\t\t\tResultSet rs = ps.executeQuery();\n+\t\t\twhile (rs.next()) {\n+\t\t\t\tnote n = new note();\n+\t\t\t\tn.setId(rs.getInt(1));\n+\t\t\t\tn.setTitle(rs.getString(2));\n+\t\t\t\tn.setContent(rs.getString(3));\n+\t\t\t\tn.setUserId(rs.getInt(4));\n+\t\t\t\tn.setLastTime(rs.getDate(5));\n+\t\t\t\tn.setQuickCode(rs.getString(6));\n+\t\t\t\tn.isFill = true;\n+\t\t\t\tnotes.add(n);\n+\t\t\t}\n+\t\t\tjdbcOne.free(rs, ps, conn);\n+\t\t\treturn notes;\n+\t\t} catch (SQLException e) {\n+\t\t\t// TODO Auto-generated catch block\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn notes;\n+\t}\n+}"
  }, {
    "sha" : "2050f2097a32a963ae2256b0e88772836eec41eb",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesOP.java",
    "status" : "added",
    "additions" : 137,
    "deletions" : 0,
    "changes" : 137,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesOP.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesOP.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/notesOP.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,137 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.Date;\n+import java.util.List;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+import net.sf.json.JSON;  \n+import net.sf.json.JSONArray;  \n+import net.sf.json.JSONObject;  \n+import net.sf.json.JSONSerializer;  \n+\n+/**\n+ * Servlet implementation class notesOP\n+ */\n+@WebServlet(\"/notesOP\")\n+public class notesOP extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public notesOP() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\t//response.getWriter().append(\"Served at: \").append(request.getContextPath());\n+\t\tdoPost(request,response);\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\tObject o = request.getParameter(\"OP\");\n+\t\tnotesDao nd = new notesDao();\n+\t\tHttpSession session = request.getSession();\n+\t\tPrintWriter out = response.getWriter();\n+\t\tif (o == null || session.getAttribute(\"login\") == null) {\n+\t\t\treturn ;\n+\t\t} else {\n+\t\t\tString OP = (String)o;\n+\t\t\tnote n;\n+\t\t\tint result_ = 0;\n+\t\t\tswitch (OP) {\n+\t\t\t\tcase \"insert\":\n+\t\t\t\t\tn = fill(request);\n+\t\t\t\t\tint result_1 = nd.insert(n, ((UserData)session\n+\t\t\t\t\t\t\t\t.getAttribute(\"ud\")).getUserId());\n+\t\t\t\t\tn.setId(result_1);\n+\t\t\t\t\tout.append(\"{\\\"op\\\":\\\"insert\\\",\\\"cout\\\":\\\"\" + \n+\t\t\t\t\t\t\t\tresult_1 + \"\\\",\\\"note\\\":[\" + \n+\t\t\t\t\t\t\t\ttoJson.noteToJson(n) + \"]}\");\n+\t\t\t\t\tbreak;\n+\t\t\t\tcase \"delete\":\n+\t\t\t\t\tn = fill(request);\n+\t\t\t\t\tint result_2 = nd.delete(n);\n+\t\t\t\t\tif (result_2 == 0) {\n+\t\t\t\t\t\tout.append(\"{\\\"op\\\":\\\"remove\\\",\\\"cout\\\":\\\"\" + result_2 + \"\\\"}\");\n+\t\t\t\t\t} else {\n+\t\t\t\t\t\tout.append(\"{\\\"op\\\":\\\"remove\\\",\\\"cout\\\":\\\"\" + n.getId() + \"\\\"}\");\n+\t\t\t\t\t}\n+\t\t\t\t\tbreak;\n+\t\t\t\tcase \"getall\":\n+\t\t\t\t\tList<note> notes = nd.getAll(((UserData)session\n+\t\t\t\t\t\t\t\t.getAttribute(\"ud\")).getUserId());\n+\t\t\t\t\tif (notes == null) {\n+\t\t\t\t\t\tout.append(\"{}\");\n+\t\t\t\t\t} else {\n+\t\t\t\t\t\tout.append(toJson.buildToJson(notes, \"getall\"));\n+\t\t\t\t\t}\n+\t\t\t\t\tbreak;\n+\t\t\t\tcase \"update\" :\n+\t\t\t\t\tn = fill(request);\n+\t\t\t\t\tint result_3 = nd.update(n, ((UserData)session\n+\t\t\t\t\t\t\t.getAttribute(\"ud\")).getUserId());\n+\t\t\t\t\tout.append(\"{\\\"op\\\":\\\"update\\\",\\\"cout\\\":\\\"\" + result_3 + \"\\\"}\");\n+\t\t\t\t\tbreak;\n+\t\t\t\tdefault :\n+\t\t\t\t\tout.append(\"{\\\"op\\\":\\\"fail\\\",\\\"cout\\\":\\\"0\\\"}\");\n+\t\t\t\t\treturn;\n+\t\t\t}\n+\t\t}\n+\t}\n+\tpublic note fill(HttpServletRequest req){\n+\t\tnote n = new note();\n+\t\tString tstr;\n+\t\tn.setId(Integer.parseInt(getParam(req,\"id\",\"0\")));\n+\t\ttstr = getParam(req,\"title\",\"title\");\n+\t\tif (tstr.length() > n.titleMaxLength) {\n+\t\t\ttstr.substring(0, n.titleMaxLength);\n+\t\t}\n+\t\tn.setTitle(tstr);\n+\t\tif (tstr.length() > n.contentMaxLength) {\n+\t\t\ttstr.substring(0, n.contentMaxLength);\n+\t\t}\n+\t\ttstr = getParam(req,\"content\",\"content\");\n+\t\tn.setContent(tstr);\n+\t\ttstr = (String)getParam(req,\"quickCode\",\"____\");\n+\t\tif (tstr == \"____\" || tstr.length() != n.quickCodeLength) {\n+\t\t\ttry {\n+\t\t\t\tthrow new Exception(\"quickCode is strange .\");\n+\t\t\t} catch (Exception e) {\n+\t\t\t\t// TODO Auto-generated catch block\n+\t\t\t\te.printStackTrace();\n+\t\t\t}\n+\t\t}\n+\t\tn.setQuickCode(tstr);\n+\t\tn.setLastTime(new Date());\n+\t\treturn n;\n+\t}\n+\tprivate String getParam(HttpServletRequest req,String attr,String defaultValue) {\n+\t\tString o = req.getParameter(attr);\n+\t\tif (o == null) {\n+\t\t\treturn defaultValue; \n+\t\t} else {\n+\t\t\tif (o.equals(\"\")) {\n+\t\t\t\treturn defaultValue;\n+\t\t\t}\n+\t\t\treturn o;\n+\t\t}\n+\t}\n+}"
  }, {
    "sha" : "64eb52226d4f67fa0c67510dfe01ca2a0fbfb2c3",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902134/toJson.java",
    "status" : "added",
    "additions" : 29,
    "deletions" : 0,
    "changes" : 29,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/toJson.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902134/toJson.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902134/toJson.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,29 @@\n+package edu.hzu.javaweb.labs.se1414080902134;\n+\n+import java.util.Iterator;\n+import java.util.List;\n+\n+public class toJson {\n+\tpublic static String buildToJson(List<note> nd,String op){\n+\t\tStringBuilder sb  = new StringBuilder();\n+\t\tIterator<note> ind = nd.iterator();\n+\t\tsb.delete(0, sb.length());\n+\t\tsb.append(\"{\\\"op\\\":\\\"\" + op + \"\\\",\\\"note\\\":[\");\n+\t\twhile (ind.hasNext()) {\n+\t\t\tsb.append(noteToJson(ind.next()) + \",\");\n+\t\t}\n+\t\tsb.deleteCharAt(sb.length() - 1);\n+\t\tsb.append(\"]}\");\n+\t\treturn sb.toString();\n+\t}\n+\tpublic static String noteToJson(note n){\n+\t\tStringBuilder sb = new StringBuilder();\n+\t\tsb.delete(0,sb.length());\n+\t\tsb.append(\"{\\\"id\\\":\\\"\" + n.getId() + \"\\\",\");\n+\t\tsb.append(\"\\\"title\\\":\\\"\" + n.getTitle() + \"\\\",\");\n+\t\tsb.append(\"\\\"content\\\":\\\"\" + n.getContent() + \"\\\",\");\n+\t\tsb.append(\"\\\"QCode\\\":\\\"\" + n.getQuickCode() + \"\\\",\");\n+\t\tsb.append(\"\\\"time\\\":\\\"\" + n.getLastTime().toLocaleString() + \"\\\"}\");\n+\t\treturn sb.toString();\n+\t}\n+}"
  }, {
    "sha" : "42626feccf9bdae52e3d299adb2744102bff189c",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902135/Build.java",
    "status" : "added",
    "additions" : 68,
    "deletions" : 0,
    "changes" : 68,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Build.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Build.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Build.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,68 @@\n+package util;\n+\n+import java.sql.Connection;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+import java.sql.SQLException;\n+import java.sql.Statement;\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+public class Build {\n+\tpublic Boolean add(String id,String pass){\n+\t\tConnection con=null;\n+\t\tPreparedStatement ps=null;\n+\t\tResultSet rs=null;\n+\t\tBoolean judge=null;\n+\t\tString sql=\"insert into user values(?,?)\";\n+\t\t\n+\t\t\n+\t\tCon_mysql con_mysql=new Con_mysql();\n+\t\tcon=con_mysql.getConnection();\n+\t\t\n+\t\t\n+\t\t\n+\t\ttry {\n+\t\t\tps=con.prepareStatement(sql);\n+\t\t\tps.setString(1, id);\n+\t\t\tps.setString(2, pass);\n+\t\t\t//ps.executeUpdate();���ظı���ݵ�����\n+\t\t\tps.executeUpdate();\n+\t\t\tjudge=true;\n+\t\t} catch (SQLException e) {\n+\t\t\tjudge=false;\n+\t\t\tSystem.out.println(\"����û�ʧ��\");\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\tcon_mysql.closes(con, ps, rs);\n+\t\treturn judge;\n+\t}\n+\t\n+\t//��ѯ�Ѵ����û��˺�\n+\tpublic Map<String,String> querys(){\n+\t\tConnection con=null;\n+\t\tStatement st=null;\n+\t\tResultSet rs=null;\n+\t\tString sql=\"select * from user\";\n+\t\tMap<String,String>map=new HashMap<String,String>();\n+\t\t\n+\t\t\n+\t\t\n+\t\tCon_mysql con_mysql=new Con_mysql();\n+\t\tcon=con_mysql.getConnection();\n+\n+\t\t\n+\t\ttry {\n+\t\t\tst = con.createStatement();\n+\t\t\trs=st.executeQuery(sql);\n+\t\t\twhile(rs.next()){\n+\t\t\t\tmap.put(rs.getString(1),rs.getString(2));\n+\t\t\t}\n+\t\t} catch (SQLException e) {\n+\t\t\tSystem.out.println(\"��ѯ�û�ʧ��\");\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\tcon_mysql.close(con, st, rs);\n+\t\treturn map;\n+\t}\n+}"
  }, {
    "sha" : "04c24f81c8e4f517af65ca6d38f191bfec92b1d5",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902135/Con_mysql.java",
    "status" : "added",
    "additions" : 114,
    "deletions" : 0,
    "changes" : 114,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Con_mysql.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Con_mysql.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Con_mysql.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,114 @@\n+package util;\n+\n+import java.sql.Connection;\n+import java.sql.DriverManager;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+import java.sql.SQLException;\n+import java.sql.Statement;\n+import java.util.Properties;\n+import java.io.IOException;\n+import java.io.InputStream;\n+\n+public class Con_mysql {\n+\tprivate static String url=\"\";\n+\tprivate static String driver=\"\";\n+\tprivate static String username=\"\";\n+\tprivate static String password=\"\";\n+\tprivate static Connection con=null;\n+\tprivate static Properties pp=null;\n+\tprivate static InputStream io=null;\n+\t\n+\t//获取配置文件信息\n+\tstatic{\n+\t\tpp=new Properties();\n+\t\tio=Con_mysql.class.getClassLoader().getResourceAsStream(\"util/db.properties\");\n+\t\ttry {\n+\t\t\tpp.load(io);\n+\t\t\turl=pp.getProperty(\"url\");\n+\t\t\tdriver=pp.getProperty(\"driver\");\n+\t\t\tusername=pp.getProperty(\"username\");\n+\t\t\tpassword=pp.getProperty(\"password\");\n+\t\t} catch (IOException e) {\n+\t\t\tSystem.out.println(\"加载配置文件失败\");\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\t\n+\t}\n+\t\n+\t//\n+\tpublic Connection getConnection(){\n+\t\ttry {\n+\t\t\tClass.forName(driver);\n+\t\t} catch (ClassNotFoundException e) {\n+\t\t\tSystem.out.println(\"驱动加载失败\");\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\ttry {\n+\t\t\tcon=DriverManager.getConnection(url,username,password);\n+\t\t} catch (SQLException e) {\n+\t\t\tSystem.out.println(\"创建链接失败\");\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn con;\n+\t}\n+\t\n+\t//创建链接\n+\tpublic void close(Connection con,Statement st,ResultSet rs){\n+\t\tif(null!=rs){\n+\t\t\ttry {\n+\t\t\t\trs.close();\n+\t\t\t} catch (SQLException e) {\n+\t\t\t\tSystem.out.println(\"关闭rs接口失败\");\n+\t\t\t\te.printStackTrace();\n+\t\t\t}finally{\n+\t\t\t\tif(null!=st){\n+\t\t\t\t\ttry {\n+\t\t\t\t\t\tst.close();\n+\t\t\t\t\t} catch (SQLException e) {\n+\t\t\t\t\t\tSystem.out.println(\"关闭st接口失败\");\n+\t\t\t\t\t\te.printStackTrace();\n+\t\t\t\t\t}finally{\n+\t\t\t\t\t\tif(null!=con){\n+\t\t\t\t\t\t\ttry {\n+\t\t\t\t\t\t\t\tcon.close();\n+\t\t\t\t\t\t\t} catch (SQLException e) {\n+\t\t\t\t\t\t\t\tSystem.out.println(\"关闭con接口失败\");\n+\t\t\t\t\t\t\t\te.printStackTrace();\n+\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t}\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t}\n+\t\t}\n+\t}\n+\n+\tpublic void closes(Connection con,PreparedStatement ps,ResultSet rs){\n+\t\tif(null!=rs){\n+\t\t\ttry {\n+\t\t\t\trs.close();\n+\t\t\t} catch (SQLException e) {\n+\t\t\t\tSystem.out.println(\"关闭rs接口失败\");\n+\t\t\t\te.printStackTrace();\n+\t\t\t}finally{\n+\t\t\t\tif(null!=ps){\n+\t\t\t\t\ttry {\n+\t\t\t\t\t\tps.close();\n+\t\t\t\t\t} catch (SQLException e) {\n+\t\t\t\t\t\tSystem.out.println(\"关闭ps接口失败\");\n+\t\t\t\t\t\te.printStackTrace();\n+\t\t\t\t\t}finally{\n+\t\t\t\t\t\tif(null!=con){\n+\t\t\t\t\t\t\ttry {\n+\t\t\t\t\t\t\t\tcon.close();\n+\t\t\t\t\t\t\t} catch (SQLException e) {\n+\t\t\t\t\t\t\t\tSystem.out.println(\"关闭con接口失败\");\n+\t\t\t\t\t\t\t\te.printStackTrace();\n+\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t}\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t}\n+\t\t}\n+\t}\n+}"
  }, {
    "sha" : "f4cb3c3c3ece4983cdb299042766472bcb54d238",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902135/Lo_Filter.java",
    "status" : "added",
    "additions" : 66,
    "deletions" : 0,
    "changes" : 66,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Lo_Filter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Lo_Filter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Lo_Filter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,66 @@\n+package edu.hzu.javaweb.labs.se1414080902135;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.annotation.WebInitParam;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebFilter(\n+\t\t//���������\n+\t\tfilterName=\"Lo_filter\",\n+\t\t//�������Һҳ��\n+\t\turlPatterns={\"/*\"},\n+\t\t//��������ϸ��Ϣ\n+\t\tinitParams={\n+\t\t\t\t@WebInitParam(name=\"encoding\",value=\"UTF-8\"),\n+\t\t\t\t@WebInitParam(name=\"error\",value=\"error.jsp\"),\n+\t\t}\n+\t\t)\n+public class Lo_Filter implements Filter {\n+\tprivate String encoding=null;\n+\tprivate String error=null;\n+\t\n+\tpublic void destroy() {\n+\t\terror=null;\n+\t\tencoding=null;\n+\t}\n+\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\tthis.encoding=fConfig.getInitParameter(\"encoding\");\n+\t\terror=fConfig.getInitParameter(\"error\");\n+\t}\n+\t\n+\tprivate String getEncoding(){\n+\t\treturn this.encoding;\n+\t}\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws\n+\t\tIOException, ServletException {\n+\t\tencoding=getEncoding();\n+\t\trequest.setCharacterEncoding(encoding);\n+\t\t\n+\t\tHttpServletRequest req=(HttpServletRequest)request;\n+\t\tHttpServletResponse rep=(HttpServletResponse)response;\n+\t\tHttpSession session=req.getSession();\n+\t\t//��ȡ����·��\n+\t\tString rurl=req.getRequestURL().toString();\t\t\n+\t\t\n+\t\tif(rurl.endsWith(\"Jweb/\")){\n+\t\t\tchain.doFilter(request, response);\t\n+\t\t}else if(rurl.endsWith(\"html\")){\n+\t\t\tObject value=session.getAttribute(\"user\");\n+\t\t\tif(value==null){\n+\t\t\t\treq.getRequestDispatcher(error).forward(req, rep);\n+\t\t\t}else{\n+\t\t\t\tchain.doFilter(request, response);\n+\t\t\t}\n+\t\t}\n+\t}\n+}"
  }, {
    "sha" : "aebf56e3f4258e3cf4a8894149b6da4a9d3f0578",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902135/Load.java",
    "status" : "added",
    "additions" : 60,
    "deletions" : 0,
    "changes" : 60,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Load.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Load.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Load.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,60 @@\n+package control;\n+\n+import java.util.Map;\n+\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpSession;\n+\n+import util.Build;\n+import model.User;\n+\n+public class Load {\n+\tBuild build = new Build();\n+\t\n+\t// ��¼\n+\tpublic String load(User us,HttpServletRequest request) {\n+\t\tString name=us.getUsername();\n+\t\tString pass=us.getPasssword();\n+\t\tHttpSession session=request.getSession();\n+\t\t\n+\t\t\n+\t\t@SuppressWarnings(\"unchecked\")\n+\t\tMap<String, String> map=(Map<String, String>) session.getAttribute(\"user\");\n+\t\tif(map!=null){\n+\t\t\tString check_pass=map.get(name);\n+\t\t\tif (check_pass!=null) {\n+\t\t\t\tif(check_pass.equals(pass)){\n+\t\t\t\t\treturn \"shop_manager.jsp\";\n+\t\t\t\t}else{\n+\t\t\t\t\treturn \"�����������������\";\n+\t\t\t\t}\n+\t\t\t} else {\n+\t\t\t\treturn \"�˺Ų����ڣ�����������\";\n+\t\t\t}\n+\t\t}else{\n+\t\t\treturn \"�˺Ų����ڣ�����������\";\n+\t\t}\n+\t}\n+\t\n+\t// ע��\n+\tpublic String enroll(HttpServletRequest request,User us) {\n+\t\tString name=us.getUsername();\n+\t\tString pass=us.getPasssword();\n+\t\tHttpSession session = request.getSession();\n+\t\t\n+\t\t@SuppressWarnings(\"unchecked\")\n+\t\tMap<String, String> map=(Map<String, String>) session.getAttribute(\"user\");\n+\t\t\n+\t\tif(map.containsKey(name)){\n+\t\t\treturn \"�˻��Ѵ��ڣ�����������\";\n+\t\t}else if (build.add(name,pass)) {\n+\t\t\t//�����û�session\n+\t\t\tmap.put(name,pass);\n+\t\t\tsession.setAttribute(\"user\", map);\n+\t\t\treturn \"shop_manager.jsp\";\n+\t\t} else {\n+\t\t\tSystem.out.println(\"����û����\");\n+\t\t\treturn \"ϵͳ������Ժ�����\";\n+\t\t}\n+\t}\n+}"
  }, {
    "sha" : "2a6f510121b78ced0c54d2c4d51cb14d85fc9b0f",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902135/Se135.java",
    "status" : "added",
    "additions" : 41,
    "deletions" : 0,
    "changes" : 41,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Se135.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Se135.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902135/Se135.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,41 @@\n+package edu.hzu.javaweb.labs.se1414080902135;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import control.Load;\n+import model.User;\n+\n+public class Se135 extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws \n+\t\tServletException, IOException {\n+\t\tdoPost(request, response);\n+\t}\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws \n+\t\tServletException, IOException {\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tresponse.setCharacterEncoding(\"utf-8\");\n+\t\tString load=request.getParameter(\"load\");\n+\t\tString user=request.getParameter(\"id\");\n+\t\tString pass=request.getParameter(\"password\");\n+\t\tPrintWriter out= response.getWriter();\n+\t\t\n+\t\t\n+\t\tUser us=new User(user,pass);\n+\t\tLoad lo=new Load();\n+\t\tif(load.equals(\"load1\")){\n+\t\t\t//��¼\n+\t\t\tout.println(lo.load(us,request));\n+\t\t}else if(load.equals(\"load2\")){\n+\t\t\t//ע��\n+\t\t\tout.println(lo.enroll(request,us));\n+\t\t}\n+\t\tout.close();\n+\t}\n+}"
  }, {
    "sha" : "be59266932d2ad5f0283130fb8923f9979741c67",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902135/User.java",
    "status" : "added",
    "additions" : 27,
    "deletions" : 0,
    "changes" : 27,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/User.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/User.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902135/User.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,27 @@\n+package model;\n+//���ļ���û��ʹ�ã�Ϊ����׼��\n+public class User {\n+\tprivate String username;\n+\tpublic String getUsername() {\n+\t\treturn username;\n+\t}\n+\tpublic void setUsername(String username) {\n+\t\tthis.username = username;\n+\t}\n+\tpublic String getPasssword() {\n+\t\treturn passsword;\n+\t}\n+\tpublic void setPasssword(String passsword) {\n+\t\tthis.passsword = passsword;\n+\t}\n+\tprivate String passsword;\n+\t\n+\tpublic User(){\n+\t\t\n+\t}\n+\tpublic User(String username,String password){\n+\t\tthis.username=username;\n+\t\tthis.passsword=password;\n+\t}\n+\t\n+}"
  }, {
    "sha" : "8011468482ea42bf00e4fcdcc1d520182a4bd048",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902135/User_Session.java",
    "status" : "added",
    "additions" : 31,
    "deletions" : 0,
    "changes" : 31,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/User_Session.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/User_Session.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902135/User_Session.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,31 @@\n+package edu.hzu.javaweb.labs.se1414080902135;\n+\n+import java.io.IOException;\n+import java.util.Map;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+import util.Build;\n+\n+public class User_Session extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws \n+\tServletException, IOException {\n+\t\tHttpSession session=request.getSession();\n+\t\tObject name=session.getAttribute(\"user\");\n+\t\tif(name==null){\n+\t\t\tBuild build=new Build();\n+\t\t\tMap<String,String> map=build.querys();\n+\t\t\tsession.setAttribute(\"user\", map);\n+\t\t}\n+\t}\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws \n+\tServletException, IOException {\n+\t\tdoGet(request, response);\n+\t}\n+\n+}"
  }, {
    "sha" : "98e4d0a053d40c73d04025776121a5fb2adcc5f7",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902135/db.properties",
    "status" : "added",
    "additions" : 4,
    "deletions" : 0,
    "changes" : 4,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/db.properties",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902135/db.properties",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902135/db.properties?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,4 @@\n+url=jdbc:mysql://127.0.0.1:3306/text?useUnicode=true&amp;characterEncoding=utf-8\n+driver=com.mysql.jdbc.Driver\n+username=root\n+password=ch273854\n\\ No newline at end of file"
  }, {
    "sha" : "5a495f941dca90cd2238d450b01c1a1a34afadcd",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902137/EncodingFilter.java",
    "status" : "added",
    "additions" : 39,
    "deletions" : 0,
    "changes" : 39,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902137/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902137/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902137/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,39 @@\n+package com.logcd.filter;\n+import java.io.IOException;  \n+import javax.servlet.Filter;  \n+import javax.servlet.ServletException;  \n+import javax.servlet.ServletRequest;  \n+import javax.servlet.ServletResponse;  \n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+\n+public class EncodingFilter implements Filter {   \n+\t  \n+    private String encoding = null;   \n+  \n+    public void destroy() {   \n+         encoding = null;   \n+     }   \n+  \n+    public void doFilter(ServletRequest request, ServletResponse response,   \n+             FilterChain chain) throws IOException, ServletException {   \n+         String encoding = getEncoding();   \n+        if (encoding == null){   \n+             encoding = \"UTF-8\";   \n+         }   \n+         request.setCharacterEncoding(encoding);// ��������������ָ���ı���   \n+         chain.doFilter(request, response);  \n+         \n+     }   \n+  \n+    public void init(FilterConfig filterConfig) throws ServletException {   \n+        this.encoding = filterConfig.getInitParameter(\"encoding\");   \n+     }   \n+  \n+    private String getEncoding() {   \n+        return this.encoding;   \n+     }   \n+  \n+}  \n+\n+"
  }, {
    "sha" : "726f2eb265312e574bc0e1e673625ee88dc6182a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902137/Se1414080902137Servlet.java",
    "status" : "added",
    "additions" : 96,
    "deletions" : 0,
    "changes" : 96,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902137/Se1414080902137Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902137/Se1414080902137Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902137/Se1414080902137Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,96 @@\n+package edu.hzu.javaweb.labs.se1414080902137;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class Se1414080902137Servlet extends HttpServlet {\n+\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Se1414080902137Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+\t\tout.println(\"<HTML>\");\n+\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+\t\tout.println(\"  <BODY>\");\n+\t\tout.print(\"    This is \");\n+\t\tout.print(this.getClass());\n+\t\tout.println(\", using the GET method\");\n+\t\tout.println(\"  </BODY>\");\n+\t\tout.println(\"</HTML>\");\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tString userName=request.getParameter(\"username\");\n+\t\tString userPwd=request.getParameter(\"password\");\n+\t\tString info=\"\";\n+\t\tif((\"abc\").equals(userName)&&(\"123\").equals(userPwd)){\n+\t\t\tinfo=\"»¶Ó­Äã£¬\"+userName+\"!\";\n+\t\t\trequest.setAttribute(\"outputMessage\", info);\n+\t\t\trequest.getRequestDispatcher(\"Info.jsp\").forward(request,response);\n+\t\t}else{\n+\t\t\tresponse.sendRedirect(\"Info.jsp?error=yes\");\n+\t\t\t\n+\t\t}\n+\n+\t\t\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "52d4d9ef5d4811d6da9e9189fbf9465a73b40c99",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902137/SecurityFilter.java",
    "status" : "added",
    "additions" : 40,
    "deletions" : 0,
    "changes" : 40,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902137/SecurityFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902137/SecurityFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902137/SecurityFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,40 @@\n+package com.logcd.filter;\n+import java.io.IOException;  \n+import javax.servlet.Filter;  \n+import javax.servlet.ServletException;  \n+import javax.servlet.ServletRequest;  \n+import javax.servlet.ServletResponse;  \n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.http.HttpServletRequest;  \n+import javax.servlet.http.HttpServletResponse;  \n+import javax.servlet.http.HttpSession;\n+\n+public class SecurityFilter implements Filter {   \n+\t  \n+    \n+  \n+    public void destroy() {   \n+  \n+     }   \n+  \n+    public void doFilter(ServletRequest request, ServletResponse response,   \n+             FilterChain chain) throws IOException, ServletException {   \n+    \t HttpServletRequest req = (HttpServletRequest) request;   \n+         HttpServletResponse res = (HttpServletResponse) response;   \n+      \n+         HttpSession session = req.getSession();   \n+        if (session.getAttribute(\"u_name\") != null) {//��¼����ܷ���   \n+             chain.doFilter(request, response);   \n+         } else {   \n+             res.sendRedirect(\"../failure.jsp\");\n+             }  \n+         \n+     }   \n+  \n+    public void init(FilterConfig filterConfig) throws ServletException {   \n+   \n+     }   \n+  \n+}\n+"
  }, {
    "sha" : "8e0c7717616f62a3967d25fed49a0f6651865465",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902138/DeleteServlet.java",
    "status" : "added",
    "additions" : 61,
    "deletions" : 0,
    "changes" : 61,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902138/DeleteServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902138/DeleteServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902138/DeleteServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,61 @@\n+package edu.hzu.javaweb.labs.se1414080902138;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import edu.hzu.javaweb.labs.se1414080902138.Staff_informationDAO;\n+import edu.hzu.javaweb.labs.se1414080902138.Staff_information;\n+\n+/**\n+ * Servlet implementation class DeleteServlet\n+ */\n+@WebServlet(\"/DeleteServlet\")\n+public class DeleteServlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public DeleteServlet() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tthis.doPost(request, response);\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */@SuppressWarnings(\"unchecked\")\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tStaff_informationDAO dao = new Staff_informationDAO();\t\t\n+\t\tString id=request.getParameter(\"id\");\t\t\n+\t\tboolean flag;\n+\t\ttry {\n+\t\t\tflag = dao.deleteStaff(id);\n+\t\t\tif(flag){\n+\t\t\t\trequest.getRequestDispatcher(\"ShowAllStaffServlet\").forward(request,response);\n+\t\t\t}else{\n+\t\t\t\t System.out.println(\"ɾ��ʧ��!!\");\n+\t\t\t}\n+\t\t} catch (Exception e) {\n+\t\t\t// TODO Auto-generated catch block\n+\t\t\te.printStackTrace();\n+\t\t}\t\n+\t}\n+\n+\tprivate void alert(String string) {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t}\n+}"
  }, {
    "sha" : "eaa5b5e7289954e2483082c2d4844d04c82aef6f",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902138/EncodingFilter.java",
    "status" : "added",
    "additions" : 53,
    "deletions" : 0,
    "changes" : 53,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902138/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902138/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902138/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,53 @@\n+package edu.hzu.javaweb.labs.se1414080902138;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+/**\n+ * Servlet Filter implementation class EncodingFilter\n+ */\n+@WebFilter(filterName=\"EncodingFilter\",urlPatterns=\"/*\")\n+public class EncodingFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public EncodingFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t// place your code here\n+\t\t// pass the request along the filter chain\n+\t\tSystem.out.println(\"EncodingFilter---->>>>Filter��ʼ\"); \n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\");\n+\t\tchain.doFilter(request, response);\n+\t\tSystem.out.println(\"EncodingFilter---->>>>Filter����\");  \n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "d24b8d9b3eaeac21deb01819c5b2a029fcbd4202",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902138/InsertServlet.java",
    "status" : "added",
    "additions" : 77,
    "deletions" : 0,
    "changes" : 77,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902138/InsertServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902138/InsertServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902138/InsertServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,77 @@\n+package edu.hzu.javaweb.labs.se1414080902138;\n+import java.sql.*;\n+\n+\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import edu.hzu.javaweb.labs.se1414080902138.*;\n+\n+@WebServlet(\"/InsertServlet\")\n+public class InsertServlet extends HttpServlet {\n+\tprivate static final Staff_information User_information = null;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public InsertServlet() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tString id=request.getParameter(\"id\");\n+\t\tString name=request.getParameter(\"name\");\n+\t\tint age=Integer.parseInt(request.getParameter(\"age\"));\n+\t\tString sex=request.getParameter(\"sex\");\n+\t\tString tel=request.getParameter(\"tel\");\n+\t\tString address=request.getParameter(\"address\");\n+\t\tString payment=request.getParameter(\"payment\");\n+\t\tStaff_information u1=new Staff_information();\n+\t\tu1.setId(id);\n+\t\tu1.setName(name);\n+\t\tu1.setAge(age);\n+\t\tu1.setSex(sex);\n+\t\tu1.setTel(tel);\n+\t\tu1.setAddress(address);\n+\t\tu1.setPayment(payment);\n+\t\tStaff_informationDAO dao=new Staff_informationDAO();\n+\t\tRequestDispatcher dis=null;\n+\t\ttry{\n+\t\t\tif(dao.find(u1)==null){\n+\t\t\t\tif( dao.create(u1)!=null)\n+\t\t\t\t{\n+\t\t\t\t\tdis=request.getRequestDispatcher(\"./ShowAllStaffServlet\");\n+\t\t\t\tdis.forward(request, response);\n+\t\t\t\t}\n+\t\t\t}\n+\t\t\telse{request.setAttribute(\"state\", \"���ʧ��,��ְ���Ѵ���!\");\n+\t\t\t\tdis=request.getRequestDispatcher(\"./addstaff.jsp\");\n+\t\t\t\tdis.forward(request, response);\n+\t\t\t}\n+\t\t\t\n+\t\t}catch(Exception locaException){\n+\t\t\tlocaException.printStackTrace();\n+\t\t}\n+\t}\n+\n+}"
  }, {
    "sha" : "43437c2be15b291be0f7bf8eec8a5820ff017189",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902138/LoginFilter.java",
    "status" : "added",
    "additions" : 56,
    "deletions" : 0,
    "changes" : 56,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902138/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902138/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902138/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,56 @@\n+package edu.hzu.javaweb.labs.se1414080902138;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+/**\n+ * Servlet Filter implementation class LoginFilter\n+ */\n+@WebFilter(filterName=\"LoginFilter\",urlPatterns=\"/jweb/*\")\n+public class LoginFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public LoginFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest req = (HttpServletRequest) request;   \n+\t\t \t     HttpServletResponse res = (HttpServletResponse) response;   \t\t \t  \n+\t\t \t     HttpSession session = req.getSession();   \n+\t\t \t    if (session.getAttribute(\"username\") != null) {  \n+\t\t \t         chain.doFilter(request, response);   \n+\t\t \t     } else {   \n+\t\t \t         res.sendRedirect(\"../failure.jsp\");   \n+\t\t \t     }\n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "2ef6bd1160bf40fdb65032b249d0c63fa9eb0e67",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902138/Se1414080902138Servlet.java",
    "status" : "added",
    "additions" : 99,
    "deletions" : 0,
    "changes" : 99,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902138/Se1414080902138Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902138/Se1414080902138Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902138/Se1414080902138Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,99 @@\n+package edu.hzu.javaweb.labs.se1414080902138;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class Se1414080902138Servlet extends HttpServlet {\n+\n+\t/**\n+\t\t * Constructor of the object.\n+\t\t */\n+\tpublic Se1414080902138Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t\t * Destruction of the servlet. <br>\n+\t\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t\t * The doGet method of the servlet. <br>\n+\t\t *\n+\t\t * This method is called when a form has its tag value method equals to get.\n+\t\t * \n+\t\t * @param request the request send by the client to the server\n+\t\t * @param response the response send by the server to the client\n+\t\t * @throws ServletException if an error occurred\n+\t\t * @throws IOException if an error occurred\n+\t\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\tString name=request.getParameter(\"Username\");\n+\tString pwd=request.getParameter(\"UserPwd\");\n+\tPrintWriter out = response.getWriter();\n+\tif ((\"HCJ\".equals(name))&&\"123\".equals(pwd)) {\n+\t\t\trequest.getRequestDispatcher(\"/add.jsp\").forward(request,response);\n+\t\t} else if (name.equals(\"\")) {\n+\t\t\t            out.println(\"<h3 align=center>\");\n+\t\t\t            out.println(\"<br><br><br><br><br>\");\n+\t\t\t \t\t\tout.println(\"The User name can not be empty.\");\n+\t\t\t \t\t\tout.println(\"</h3>\");\n+\t\t\t \t\t} else if (pwd.equals(\"\")) {\n+\t\t\t \t\t\tout.println(\"<h3 align=center>\");\n+\t\t\t \t\t\tout.println(\"<br><br><br><br><br>\");\n+\t\t\t \t\t\tout.println(\"The Password can not be empty.\");\n+\t\t\t \t\t\tout.println(\"</h3>\");}\t\n+\telse  {\t\t\t\n+\t\t\tout.println(\"<h3 align=center>\");\n+\t\t\tout.println(\"<br><br><br><br><br>\");\n+\t\t\tout.println(\" The username and password you entered are not available,Please try again \");\n+\t\t\tout.println(\"</h3>\");\n+}\n+\t}\n+\n+\t/**\n+\t\t * The doPost method of the servlet. <br>\n+\t\t *\n+\t\t * This method is called when a form has its tag value method equals to post.\n+\t\t * \n+\t\t * @param request the request send by the client to the server\n+\t\t * @param response the response send by the server to the client\n+\t\t * @throws ServletException if an error occurred\n+\t\t * @throws IOException if an error occurred\n+\t\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+ \t\tout.println(\"<HTML>\");\n+ \t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+ \t\tout.println(\"  <BODY >\");\n+ \t\tout.println(\"<h3 align=center>\");\n+ \t\tout.println(\"<br><br><br><br><br>\");\n+ \t\tout.println(\"  Hello,HCJ! \");\n+ \t\tout.println(\"<br><br>\");\n+ \t\tout.println(\"The message has been updated!\");\n+ \t\tout.println(\"</h3>\");\n+ \t\tout.println(\"  </BODY>\");\n+ \t\tout.println(\"</HTML>\");\n+ \t\tout.flush();\n+ \t\tout.close();\n+\t}\n+\n+\t/**\n+\t\t * Initialization of the servlet. <br>\n+\t\t *\n+\t\t * @throws ServletException if an error occurs\n+\t\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "d624b6739fac8a4e344119eefc9892e057d629eb",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902139/EncodingFilter.java",
    "status" : "added",
    "additions" : 51,
    "deletions" : 0,
    "changes" : 51,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902139/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902139/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902139/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,51 @@\n+package edu.hzu.javaweb.labs.se1414080902139;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+/**\n+ * Servlet Filter implementation class EncodingFilter\n+ */\n+@WebFilter(\"/1414080902139\")\n+public class EncodingFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public EncodingFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t// place your code here\n+\t\trequest.setCharacterEncoding(\"UTF-8\");// 在请求里设置指定的编码 \n+        response.setCharacterEncoding(\"UTF-8\");// 在响应里设置指定的编码\n+\t\t// pass the request along the filter chain\n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "0a4cfd0a6d907c0917a57e8991efa3b3d3d020d2",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902139/FindServlet.java",
    "status" : "added",
    "additions" : 42,
    "deletions" : 0,
    "changes" : 42,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902139/FindServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902139/FindServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902139/FindServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,42 @@\n+package edu.hzu.javaweb.labs.se1414080902139;\n+\n+import java.io.IOException;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import edu.hzu.javaweb.labs.se1414080902139.bean.Resume;\n+\n+public class FindServlet extends HttpServlet {\n+\n+\t/**\n+\t * \n+\t */\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setCharacterEncoding(\"utf-8\");\n+\t\tList<Resume> resumelist = new ArrayList<Resume>();\n+\t\tresumelist.add(new Resume(\"小黄\",\"男\",\"软件工程\",\"大学本科\",\"\",\"\",\"\",\"\",\"擅长Java\",\"\"));\n+\t\tresumelist.add(new Resume(\"小白\",\"男\",\"信息工程\",\"\",\"\",\"\",\"\",\"\",\"擅长C++和C#\",\"三好学生\"));\n+\t\trequest.setAttribute(\"findresult\", resumelist);\n+\t\trequest.getRequestDispatcher(\"findresult.jsp\").forward(request, response);\n+\t}\n+\n+}"
  }, {
    "sha" : "d3033707fb74b54ff304b09a57d0ced8c83c320e",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902139/LoginCheckServlet.java",
    "status" : "added",
    "additions" : 68,
    "deletions" : 0,
    "changes" : 68,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902139/LoginCheckServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902139/LoginCheckServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902139/LoginCheckServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,68 @@\n+package edu.hzu.javaweb.labs.se1414080902139;\n+\n+import java.io.IOException;\n+import javax.servlet.ServletConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet implementation class LoginCheckServlet\n+ */\n+@WebServlet(\"/1414080902139\")\n+public class LoginCheckServlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public LoginCheckServlet() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Servlet#init(ServletConfig)\n+\t */\n+\tpublic void init(ServletConfig config) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Servlet#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\tString name=request.getParameter(\"username\");\n+\t\tString pwd=request.getParameter(\"password\");\n+\t\t\n+//\t\t在这里设置session属性\n+\t\trequest.getSession().setAttribute(\"username\", name);\n+\t\trequest.getSession().setAttribute(\"password\", pwd);\n+\t\tif(name != \"\" && pwd != \"\"){\t\n+\t\t\trequest.getRequestDispatcher(\"/addresume.jsp\").forward(request, response);\n+\t\t}else{\n+\t\t\trequest.getRequestDispatcher(\"/failure.jsp\").forward(request, response);\n+\t\t}\n+\t\t\n+\t}\n+\t\n+}"
  }, {
    "sha" : "64697704ef8572c888ab4505f1f1b12343b98072",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902139/Se1414080902139Servlet.java",
    "status" : "added",
    "additions" : 131,
    "deletions" : 0,
    "changes" : 131,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902139/Se1414080902139Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902139/Se1414080902139Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902139/Se1414080902139Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,131 @@\n+package edu.hzu.javaweb.labs.se1414080902139;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import javax.servlet.ServletConfig;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebServlet(\"/1414080902139\")\n+public class Se1414080902139Servlet extends HttpServlet {\n+\n+\t/**\n+\t * \n+\t */\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Se1414080902139Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\t\n+\t\tString ful = request.getParameter(\"fullnameinfo\");\n+\t\tString sex = request.getParameter(\"sexinfo\");\n+\t\tString grade = request.getParameter(\"gradeinfo\");\n+\t\tString pro = request.getParameter(\"proinfo\");\n+\t\tString tel = request.getParameter(\"telinfo\");\n+\t\tString email = request.getParameter(\"emailinfo\");\n+\t\tString hobby = request.getParameter(\"hobbyinfo\");\n+\t\tString spe = request.getParameter(\"speinfo\");\n+\t\tString exp = request.getParameter(\"expinfo\");\n+\t\t\n+\t\tString message=\"\";\n+\n+\t\trequest.setAttribute(\"outputful\", ful);\n+\t\trequest.setAttribute(\"outputsex\", sex);\n+\t\trequest.setAttribute(\"outputgrade\", grade);\n+\t\trequest.setAttribute(\"outputpro\", pro);\n+\t\trequest.setAttribute(\"outputtel\", tel);\n+\t\trequest.setAttribute(\"outputemail\", email);\n+\t\trequest.setAttribute(\"outputhobby\", hobby);\n+\t\trequest.setAttribute(\"outputspe\", spe);\n+\t\trequest.setAttribute(\"outputexp\", exp);\n+\t\trequest.getRequestDispatcher(\"/inforeceive.jsp\").forward(request, response);\n+//\t\tresponse.setContentType(\"text/html\");\n+//\t\tPrintWriter out = response.getWriter();\n+//\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+//\t\tout.println(\"<HTML>\");\n+//\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+//\t\tout.println(\"  <BODY>\");\n+//\t\tout.print(\"    This is \");\n+//\t\tout.print(this.getClass());\n+//\t\tout.println(\", using the GET method\");\n+//\t\tout.println(\"  </BODY>\");\n+//\t\tout.println(\"</HTML>\");\n+//\t\tout.flush();\n+//\t\tout.close();\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\t\n+\t\tString fullname = request.getParameter(\"fullnameinfo\");\n+\t\tString message=\"\";\n+\t\tif(fullname.length()<=0){\n+\t\t\tmessage=\"用户名不能为空\";\n+\t\t}\n+\t\trequest.setAttribute(\"M\", message);\n+\t\trequest.getRequestDispatcher(\"/info.jsp\").forward(request, response);\n+//\t\tresponse.setContentType(\"text/html\");\n+//\t\tPrintWriter out = response.getWriter();\n+//\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+//\t\tout.println(\"<HTML>\");\n+//\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+//\t\tout.println(\"  <BODY>\");\n+//\t\tout.print(\"    This is \");\n+//\t\tout.print(this.getClass());\n+//\t\tout.println(\", using the POST method\");\n+//\t\tout.println(\"  </BODY>\");\n+//\t\tout.println(\"</HTML>\");\n+//\t\tout.flush();\n+//\t\tout.close();\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "5f6ebfc552bf385d0355b2a39579e2376b2f6834",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902139/SecurityFilter.java",
    "status" : "added",
    "additions" : 62,
    "deletions" : 0,
    "changes" : 62,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902139/SecurityFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902139/SecurityFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902139/SecurityFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,62 @@\n+package edu.hzu.javaweb.labs.se1414080902139;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet Filter implementation class SecurityFilter\n+ */\n+@WebFilter(\"/1414080902139\")\n+public class SecurityFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public SecurityFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t// place your code here\n+\t\tHttpServletRequest req = (HttpServletRequest) request;//请求\n+\t    HttpServletResponse res = (HttpServletResponse) response;//响应\n+\t    HttpSession session = req.getSession();//会话\n+\n+//\t    System.out.print(\"执行了登录过滤器！\");\n+\t    if (session.getAttribute(\"username\") != \"\" && session.getAttribute(\"password\")!=\"\") {//登录后才能访问  \n+\t         chain.doFilter(request, response);   \n+\t    } else {   \n+\t         res.sendRedirect(req.getContextPath()+\"/login.jsp\");  //重定向到另一个网页 \n+\t    }\n+\t\t// pass the request along the filter chain\n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "412d3f06e315068ac69761c3c12653384ee4d255",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902139/bean/Resume.java",
    "status" : "added",
    "additions" : 119,
    "deletions" : 0,
    "changes" : 119,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902139/bean/Resume.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902139/bean/Resume.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902139/bean/Resume.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,119 @@\n+package edu.hzu.javaweb.labs.se1414080902139.bean;\n+\n+public class Resume {\n+\n+\tprivate String name;\n+\tprivate String sex;\n+\tprivate String profession;\n+\tprivate String education;\n+\tprivate String tel;\n+\tprivate String email;\n+\tprivate String hobby;\n+\tprivate String experience;\n+\tprivate String skill;\n+\tprivate String honor;\n+\t\n+\tpublic Resume() {\n+\t\t// TODO Auto-generated constructor stub\n+\t}\n+\t\n+\t\n+\t\n+\tpublic Resume(String name, String sex, String profession, String education,\n+\t\t\tString tel, String email, String hobby, String experience,\n+\t\t\tString skill, String honor) {\n+\t\tsuper();\n+\t\tthis.name = name;\n+\t\tthis.sex = sex;\n+\t\tthis.profession = profession;\n+\t\tthis.education = education;\n+\t\tthis.tel = tel;\n+\t\tthis.email = email;\n+\t\tthis.hobby = hobby;\n+\t\tthis.experience = experience;\n+\t\tthis.skill = skill;\n+\t\tthis.honor = honor;\n+\t}\n+\n+\tpublic String getName() {\n+\t\treturn name;\n+\t}\n+\n+\tpublic void setName(String name) {\n+\t\tthis.name = name;\n+\t}\n+\n+\tpublic String getSex() {\n+\t\treturn sex;\n+\t}\n+\n+\tpublic void setSex(String sex) {\n+\t\tthis.sex = sex;\n+\t}\n+\n+\tpublic String getProfession() {\n+\t\treturn profession;\n+\t}\n+\n+\tpublic void setProfession(String profession) {\n+\t\tthis.profession = profession;\n+\t}\n+\n+\tpublic String getEducation() {\n+\t\treturn education;\n+\t}\n+\n+\tpublic void setEducation(String education) {\n+\t\tthis.education = education;\n+\t}\n+\n+\tpublic String getTel() {\n+\t\treturn tel;\n+\t}\n+\n+\tpublic void setTel(String tel) {\n+\t\tthis.tel = tel;\n+\t}\n+\n+\tpublic String getEmail() {\n+\t\treturn email;\n+\t}\n+\n+\tpublic void setEmail(String email) {\n+\t\tthis.email = email;\n+\t}\n+\n+\tpublic String getHobby() {\n+\t\treturn hobby;\n+\t}\n+\n+\tpublic void setHobby(String hobby) {\n+\t\tthis.hobby = hobby;\n+\t}\n+\n+\tpublic String getExperience() {\n+\t\treturn experience;\n+\t}\n+\n+\tpublic void setExperience(String experience) {\n+\t\tthis.experience = experience;\n+\t}\n+\n+\tpublic String getSkill() {\n+\t\treturn skill;\n+\t}\n+\n+\tpublic void setSkill(String skill) {\n+\t\tthis.skill = skill;\n+\t}\n+\n+\tpublic String getHonor() {\n+\t\treturn honor;\n+\t}\n+\n+\tpublic void setHonor(String honor) {\n+\t\tthis.honor = honor;\n+\t}\n+\n+\t\n+}"
  }, {
    "sha" : "5610ab7541be8393d01ae98d469abc0e9747cc94",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902140/DeleteServlet.java",
    "status" : "added",
    "additions" : 46,
    "deletions" : 0,
    "changes" : 46,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/DeleteServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/DeleteServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902140/DeleteServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,46 @@\n+package Controller_Servlet;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import Bean.Student;\n+import dao.StudentDao;\n+@WebServlet(\"/DeleteServlet\")\n+public class DeleteServlet extends HttpServlet {\n+\t\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tdoPost(request, response);\n+\t}\n+\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t\n+\t\t\n+\t\tint sno=Integer.parseInt(request.getParameter(\"sno\"));\t\t\n+\t\tStudent stu=new Student();\n+\t\tstu.setSno(sno);\n+\t\tStudentDao stuDao=new StudentDao();\n+\t\t\n+\t\tint n;\n+\t\ttry {\n+\t\t\tn = stuDao.remove(stu);\n+\t\t\tif (n>=1) {\n+\t\t\t\trequest.setAttribute(\"message\", \"ɾ��ɹ���\");\n+\t\t\t\trequest.getRequestDispatcher(\"message.jsp\").forward(request, response);\n+\t\t\t}\n+\t\t\telse {\n+\t\t\t\trequest.setAttribute(\"message\", \"ɾ��ʧ�ܣ�\");\n+\t\t\t\trequest.getRequestDispatcher(\"message.jsp\").forward(request, response);\n+\t\t\t}\n+\t\t} catch (Exception e) {\n+\t\t\t\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\t\n+\t\t\n+\t}\n+\n+}"
  }, {
    "sha" : "984f9909944f2335bf365695ad5e71811f80ccc3",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902140/EncodingFilter.java",
    "status" : "added",
    "additions" : 27,
    "deletions" : 0,
    "changes" : 27,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902140/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,27 @@\n+package edu.hzu.javaweb.labs.se1414080902140;\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+@WebFilter(filterName = \"/1414080902140\")\n+public class EncodingFilter implements Filter {\n+\n+\t\n+\tpublic void destroy() {\n+\t}\n+\n+\t\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain)\n+\t\t\tthrows IOException, ServletException {\n+\t     request.setCharacterEncoding(\"UTF-8\");\n+\t     response.setCharacterEncoding(\"UTF-8\");\n+\t     filterChain.doFilter(request, response);\n+\t}\n+    public void init(FilterConfig afilterConfig) throws ServletException {\n+\t}\n+\n+}"
  }, {
    "sha" : "152d2dd03b6e92dfffc1aa3ade60a72c75601100",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902140/FindServlet.java",
    "status" : "added",
    "additions" : 55,
    "deletions" : 0,
    "changes" : 55,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/FindServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/FindServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902140/FindServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,55 @@\n+package Controller_Servlet;\n+\n+import java.io.IOException;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import Bean.Student;\n+import dao.StudentDao;\n+@WebServlet(\"/FindServlet\")\n+public class FindServlet extends HttpServlet {\n+\n+\tprotected void doGet(HttpServletRequest request,\n+\t\t\tHttpServletResponse response) throws ServletException, IOException {\n+\n+\t}\n+\n+\tprotected void doPost(HttpServletRequest request,\n+\t\t\tHttpServletResponse response) throws ServletException, IOException {\n+\t\tStudentDao stuDao = new StudentDao();\n+\t\tint sno = Integer.parseInt(request.getParameter(\"sno\"));\n+        Student stu = new Student();\n+\t\tstu.setSno(sno);\n+\t\ttry {\n+\t\t\tstu = stuDao.find(stu);\n+\t\t\tint sno1 = stu.getSno();\n+\t\t\tString name1 = stu.getName();\n+\t\t\tString sex1 = stu.getSex();\n+\t\t\tint age1 = stu.getAge();\n+\t\t\tdouble hight1 = stu.getHight();\n+\t\t\tdouble weight1 = stu.getWeight();\n+\t\t\tdouble longRun1 = stu.getLongRun();\n+\t\t\tdouble shortRun2 = stu.getShortRun();\n+\t\t\tint pulmonary1 = stu.getPulmonary();\n+\t\t\trequest.setAttribute(\"sno\", sno1);\n+\t\t\trequest.setAttribute(\"name\", name1);\n+\t\t\trequest.setAttribute(\"sex\", sex1);\n+\t\t\trequest.setAttribute(\"age\", age1);\n+\t\t\trequest.setAttribute(\"hight\", hight1);\n+\t\t\trequest.setAttribute(\"weight\", weight1);\n+\t\t\trequest.setAttribute(\"longRun\", longRun1);\n+\t\t\trequest.setAttribute(\"shortRun\", shortRun2);\n+\t\t\trequest.setAttribute(\"pulmonary\", pulmonary1);\n+\t\t\trequest.getRequestDispatcher(\"findResult.jsp\").forward(request,\n+\t\t\t\t\tresponse);\n+\t\t} catch (Exception e) {\n+\t\t\trequest.setAttribute(\"message\", \"��ѯʧ�ܣ������ڸ�ѧ�ŵļ�¼��\");\n+\t\t\trequest.getRequestDispatcher(\"message\").forward(request, response );\n+\t\t\te.printStackTrace();\n+\t\t}\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "c7d240b45c0779db525003bb80058c1c5959c403",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902140/FindallServlet.java",
    "status" : "added",
    "additions" : 44,
    "deletions" : 0,
    "changes" : 44,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/FindallServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/FindallServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902140/FindallServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,44 @@\n+package Controller_Servlet;\n+import java.io.IOException;\n+import java.util.ArrayList;\n+import java.util.List;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import dao.StudentDao;\n+import Bean.Student;\n+@WebServlet(\"/FindallServlet\")\n+public class FindallServlet extends HttpServlet {\n+\t\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tSystem.out.println(\"1321312312\");\n+\t\tdoPost(request, response);\n+\t}\n+\n+\t\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t\n+\t\tStudentDao stuDao=new StudentDao();\n+\t\tStudent stu=new Student();\n+\t\t\n+\t\ttry {\n+\t\t\t\n+\t\t\tstuDao.findAll();\n+\t\t\tList<Student> studentlist=new ArrayList<Student>();\n+\t\t\t\n+\t\t\tstudentlist.add(stu);\n+\t\t\trequest.setAttribute(\"result\", studentlist);\n+\t\t\trequest.getRequestDispatcher(\"findAll.jsp\").forward(request, response);;\n+\t\t} catch (Exception e) {\n+\t\t\t\n+\t\t\te.printStackTrace();\n+\t\t}\n+\n+\t\t\n+\t\t\n+\t\t\n+\t}\n+\n+}"
  }, {
    "sha" : "5b7f74d0f3d2ea7513790e33ba3d46dbfa073925",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902140/InsertServlet.java",
    "status" : "added",
    "additions" : 53,
    "deletions" : 0,
    "changes" : 53,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/InsertServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/InsertServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902140/InsertServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,53 @@\n+package Controller_Servlet;\n+import java.io.IOException;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import Bean.Student;\n+import dao.StudentDao;\n+\n+@WebServlet(\"/InsertServlet\")\n+public class InsertServlet extends HttpServlet {\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\tdoPost(request, response);\n+\t\t\n+\t}\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\t        request.setCharacterEncoding(\"UTF-8\");\n+\t\t         StudentDao stuDao = new StudentDao();\n+\t\t        int sno = Integer.parseInt(request.getParameter(\"sno\"));\n+\t\t        String name = request.getParameter(\"name\");\n+\t\t\t    String sex = request.getParameter(\"sex\");\n+\t\t\t\tint age = Integer.parseInt(request.getParameter(\"age\"));\n+\t\t\t\tdouble hight = Double.parseDouble(request.getParameter(\"hight\"));\n+\t\t\t\tdouble weight = Double.parseDouble(request.getParameter(\"weight\"));\n+\t\t\t\tint pulmonary = Integer.parseInt(request.getParameter(\"pulmonary\"));\n+\t\t\t\tdouble longRun = Double.parseDouble(request.getParameter(\"longRun\"));\n+\t\t\t\tdouble shortRun = Double.parseDouble(request.getParameter(\"shortRun\"));\n+\t\t\t\tStudent s1 = new Student(sno, name, sex, age, weight, hight,\n+\t\t\t\t\t\tlongRun, shortRun, pulmonary);\n+\n+\t\t\t\tint n;\n+\t\t\t\ttry {\n+\t\t\t\t\tn = stuDao.create(s1);\n+\t\t\t\t\tif (n >= 1) {\n+\t\t\t\t\t\trequest.setAttribute(\"message\", \"�ύ�ɹ���\");\n+\t\t\t\t\t\trequest.getRequestDispatcher(\"message.jsp\").forward(\n+\t\t\t\t\t\t\t\trequest, response);\n+\t\t\t\t\t} else {\n+\t\t\t\t\t\trequest.setAttribute(\"message\", \"�ύʧ�ܣ���������2��ѧ����ͬ�ļ�¼�����ʵѧ��ѧ�ţ�����\");\n+\t\t\t\t\t\trequest.getRequestDispatcher(\"message.jsp\").forward(\n+\t\t\t\t\t\t\t\trequest, response);\n+\t\t\t\t\t}\n+\t\t\t\t} catch (Exception e) {\n+\t\t\t\t\te.printStackTrace();\n+\t\t\t\t}\n+\n+}\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "96ac553aee2065c2c6367139a862c0ea15fd86b0",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902140/JdbcUtil.java",
    "status" : "added",
    "additions" : 43,
    "deletions" : 0,
    "changes" : 43,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/JdbcUtil.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/JdbcUtil.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902140/JdbcUtil.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,43 @@\n+package dao;\n+\n+import java.sql.*;\n+import java.util.Properties;\n+public final class JdbcUtil {\n+\tprivate static String driver ;\n+\tprivate static String url ;\n+\tprivate static String user ;\n+\tprivate static String password ;\n+     private static Properties pr=new Properties();\n+\tprivate JdbcUtil() {}\n+\t\n+\tstatic { \n+\t   try {pr.load(JdbcUtil.class.getClassLoader().getResourceAsStream(\"db.properties\"));\n+\t\t  driver=pr.getProperty(\"driver\");\n+\t\t  url=pr.getProperty(\"url\");\n+\t\t  user=pr.getProperty(\"username\");\n+\t\t  password=pr.getProperty(\"password\");\n+\t\t  Class.forName(driver);\n+\t\t} catch (Exception e) {\n+\t\t\tthrow new ExceptionInInitializerError(e);\n+\t\t}\n+\t}\n+\t\n+\tpublic static Connection getConnection() throws SQLException {\n+\t\treturn DriverManager.getConnection(url, user, password);\n+\t}\n+\t\n+\tpublic static void close(ResultSet rs, PreparedStatement ps, Connection con) {\n+\t\ttry { if (rs != null) rs.close();\n+\t\t} catch (SQLException e) {e.printStackTrace();\n+\t\t} finally {\n+\t\t\ttry { if (ps != null) ps.close();\n+\t\t\t} catch (SQLException e) {e.printStackTrace();\n+\t\t\t} finally {\n+\t\t\t\t  if (con != null)\n+\t\t\t\t    try { con.close();\n+\t\t\t\t    } catch (SQLException e) {e.printStackTrace();\n+\t\t\t\t   }\n+\t\t             }\n+\t\t     }\n+\t    }\n+\t}\n\\ No newline at end of file"
  }, {
    "sha" : "ae7ddb0739eaacb5ab4fde222e8b0d18e5a7e049",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902140/LoginFilter1.java",
    "status" : "added",
    "additions" : 42,
    "deletions" : 0,
    "changes" : 42,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/LoginFilter1.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/LoginFilter1.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902140/LoginFilter1.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,42 @@\n+package edu.hzu.javaweb.labs.se1414080902140;\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+\n+@WebFilter(filterName = \"/1414080902140\")\n+\tpublic class LoginFilter1 implements Filter {\n+    public void destroy() {\n+\t\t}\n+    public void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\t\tFilterChain chain) throws IOException, ServletException {\n+    \t    HttpServletRequest req = (HttpServletRequest) request;\n+\t\t\tHttpServletResponse resp = (HttpServletResponse) response;\n+\t\t\tHttpSession session=req.getSession();\n+\t\t\tString username=(String) session.getAttribute(\"username\");\n+\t\t\tString url = (((HttpServletRequest) request).getRequestURI());\n+            if (url.equals(\"/jweb/login1.jsp\")) {\n+\t\t\t\tchain.doFilter(req, resp);\n+\t\t\t}\n+\t\t\t if (username == null) {\n+\t\t          resp.sendRedirect(req.getContextPath()+\"/login1.jsp\");\n+\t\t     }   \n+\t\t\t else{\n+\t\t    \t chain.doFilter(req,resp);\n+\t\t      }\n+\t\t     \n+\t\t\t\n+\t\t}\n+      public void init(FilterConfig filterConfig) throws ServletException {\n+\t\t\t}\n+\n+\t}\n+"
  }, {
    "sha" : "ea538d8cdc143e0a0ed09d5498529661f3e21ae0",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902140/LoginServlet.java",
    "status" : "added",
    "additions" : 30,
    "deletions" : 0,
    "changes" : 30,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/LoginServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/LoginServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902140/LoginServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,30 @@\n+package edu.hzu.javaweb.labs.se1414080902140;\n+\n+import java.io.IOException;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+@WebServlet(\"/1414080902140\")\n+public class LoginServlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+    public LoginServlet() {\n+        super();\n+    }\n+    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tdoPost(request, response);\n+\t}\n+     public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tString username = request.getParameter(\"username\");\n+\t\tString password = request.getParameter(\"password\");\n+\t\trequest.getSession().setAttribute(\"username\", username);\n+\t\t\n+\t\tif(username!=\"\"){\n+\t\t\trequest.getRequestDispatcher(\"index.jsp\").forward(request, response);\n+\t\t}else{\n+\t\t\trequest.getRequestDispatcher(\"login1.jsp\").forward(request, response);\n+\t\t}\n+\t}\n+\n+}"
  }, {
    "sha" : "254ec43d2920658392a31fc8ddac4144f8df10a4",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902140/Se1414080902140Servlet.java",
    "status" : "added",
    "additions" : 79,
    "deletions" : 0,
    "changes" : 79,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/Se1414080902140Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/Se1414080902140Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902140/Se1414080902140Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,79 @@\n+package edu.hzu.javaweb.labs.se1414080902140;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebServlet(\"/1414080902140\")\n+public class Se1414080902140Servlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\tpublic Se1414080902140Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\tpublic void init(ServletConfig config) throws ServletException {\n+\t\t\n+\t}\n+\n+\tpublic void destroy() {\n+\t}\n+\n+//\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\n+//\t\t\tthrows ServletException, IOException {\n+//\t\t\n+\t\t// �ѵ�¼\n+//\t\tString login = \"zhang3\";\n+//\t\t// Session\n+//\t\tHttpSession session = request.getSession(true);\n+//\t\tsession.setAttribute(\"username\", login); // ��¼֮��\n+//\t\tString username = (String) session.getAttribute(\"username\");\n+//\t\tif (username == null) {\n+//\t\t\t\n+//\t\t}\n+//\t\t\n+//\t\tsession.setMaxInactiveInterval(15);\n+//\t\t\n+//\t\t// ����HTML\n+//\t\tStringBuilder html = new StringBuilder();\n+//\t\thtml.append(\"<!DOCTYPE html><html><head>\");\n+//\t\thtml.append(\"<title>First App</title>\");\n+//\t\thtml.append(\"</head><body>\");\n+//\t\thtml.append(\"<a id=\\\"link\\\" href=\\\"www.hzu.edu.cn\\\">����ѧԺ</a>\");\n+//\t\thtml.append(\"</body></html>\");\n+//\t\tresponse.setCharacterEncoding(\"utf-8\");\n+//\t\tresponse.getWriter().append(html);\n+//\t}\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tString id=request.getParameter(\"id\");\n+\t\tString name=request.getParameter(\"name\");\n+\t\tString sex=request.getParameter(\"sex\");\n+\t\tString age=request.getParameter(\"age\");\n+\t\tString hight=request.getParameter(\"hight\");\n+\t\tString weight=request.getParameter(\"weight\");\n+\t\tString pulmonary =request.getParameter(\"pulmonary\");\n+\t\tString longRun=request.getParameter(\"longRun\");\n+\t\tString shortRun=request.getParameter(\"shortRun\");\n+\t\tString show =\"\";\n+\t\tif(id.equals(\"\")||name.equals(\"\")||sex.equals(\"\")||age.equals(\"\")||hight.equals(\"\")\n+\t\t||weight.equals(\"\")||pulmonary.equals(\"\")||longRun.equals(\"\")||shortRun.equals(\"\")){\n+\t\t\tshow=\"�������п���������ĳ��ɼ����ɽ��ɼ�����Ϊ0\";\n+\t\t}\n+\t\t\n+\t\trequest.setAttribute(\"outputMessage\", show);\n+\t\trequest.getRequestDispatcher(\"/show.jsp\").forward(request, response);//ʵ����servlet��JSP����ת��\n+\t\t//response.setContentType(\"text/html\");\n+\t\t\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "65947eab6dc67abddb2a27d5b71aadfe56e3402e",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902140/Student.java",
    "status" : "added",
    "additions" : 118,
    "deletions" : 0,
    "changes" : 118,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/Student.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/Student.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902140/Student.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,118 @@\n+package Bean;\n+\n+public class Student {\n+\tprivate int sno;\n+\tprivate String name;\n+\tprivate String sex;\n+\tprivate int age;\n+\tprivate double weight;\n+\tprivate double hight;\n+\tprivate double longRun;\n+\tprivate double shortRun;\n+\tprivate int pulmonary;\n+\n+\tpublic Student(int sno, String name, String sex, int age, double weight,\n+\t\t\tdouble hight, double longRun, double shortRun, int pulmonary) {\n+\t\tsuper();\n+\t\tthis.sno = sno;\n+\t\tthis.name = name;\n+\t\tthis.sex = sex;\n+\t\tthis.age = age;\n+\t\tthis.weight = weight;\n+\t\tthis.hight = hight;\n+\t\tthis.longRun = longRun;\n+\t\tthis.shortRun = shortRun;\n+\t\tthis.pulmonary = pulmonary;\n+\t}\n+\n+\tpublic Student(String name, String sex, int sno, int age, double hight,\n+\t\t\tdouble weight, int pulmonary, double longRun, double shortRun) {\n+\t\tsuper();\n+\t\tthis.name = name;\n+\t\tthis.sex = sex;\n+\t\tthis.sno = sno;\n+\t\tthis.age = age;\n+\t\tthis.hight = hight;\n+\t\tthis.weight = weight;\n+\t\tthis.pulmonary = pulmonary;\n+\t\tthis.longRun = longRun;\n+\t\tthis.shortRun = shortRun;\n+\t}\n+\n+\tpublic Student() {\n+\n+\t}\n+\n+\tpublic int getSno() {\n+\t\treturn sno;\n+\t}\n+\n+\tpublic void setSno(int sno) {\n+\t\tthis.sno = sno;\n+\t}\n+\n+\tpublic String getName() {\n+\t\treturn name;\n+\t}\n+\n+\tpublic void setName(String name) {\n+\t\tthis.name = name;\n+\t}\n+\n+\tpublic String getSex() {\n+\t\treturn sex;\n+\t}\n+\n+\tpublic void setSex(String sex) {\n+\t\tthis.sex = sex;\n+\t}\n+\n+\tpublic int getAge() {\n+\t\treturn age;\n+\t}\n+\n+\tpublic void setAge(int age) {\n+\t\tthis.age = age;\n+\t}\n+\n+\tpublic double getWeight() {\n+\t\treturn weight;\n+\t}\n+\n+\tpublic void setWeight(double weight) {\n+\t\tthis.weight = weight;\n+\t}\n+\n+\tpublic double getHight() {\n+\t\treturn hight;\n+\t}\n+\n+\tpublic void setHight(double hight) {\n+\t\tthis.hight = hight;\n+\t}\n+\n+\tpublic double getLongRun() {\n+\t\treturn longRun;\n+\t}\n+\n+\tpublic void setLongRun(double longRun) {\n+\t\tthis.longRun = longRun;\n+\t}\n+\n+\tpublic double getShortRun() {\n+\t\treturn shortRun;\n+\t}\n+\n+\tpublic void setShortRun(double shortRun) {\n+\t\tthis.shortRun = shortRun;\n+\t}\n+\n+\tpublic int getPulmonary() {\n+\t\treturn pulmonary;\n+\t}\n+\n+\tpublic void setPulmonary(int pulmonary) {\n+\t\tthis.pulmonary = pulmonary;\n+\t}\n+\n+}"
  }, {
    "sha" : "78a1b99a862c76649f9f40725481f21a2d7a1025",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902140/StudentDao.java",
    "status" : "added",
    "additions" : 145,
    "deletions" : 0,
    "changes" : 145,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/StudentDao.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/StudentDao.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902140/StudentDao.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,145 @@\n+package dao;\n+import java.sql.Connection;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+import java.util.ArrayList;\n+import java.util.List;\n+import Bean.Student;\n+public  class StudentDao {\n+      protected final static String str=\"sno,name,sex,age,weight,hight,longRun,shortRun,pulmonary\";\n+       protected static String insertSql=\"insert into stu_info(\"+str+\")\"+\"values(?,?,?,?,?,?,?,?,?)\";\n+\t   protected static String selectSql=\"select \"+str+\" from stu_info where sno=?\";\n+\t   protected static String updateSql=\"update stu_info set \"+\"sno=?,name=?,sex=?,age=? ,weight=?,hight=?,longRun=?,shortRun=?,pulmonary=?\";\n+\t\tprotected static String deleteSql=\"delete from stu_info where sno=?\";\n+\t\tpublic int create(Student stu) throws Exception{\n+\t\t\t Connection con=null;\n+\t\t      PreparedStatement ps=null;\n+\t\t      ResultSet rs=null;\n+\t\t      int n=-1;\n+\t\t      try{\n+\t\t    \t  con=JdbcUtil.getConnection();\n+\t\t    \t  ps =con.prepareStatement(insertSql); \n+\t\t    \t  ps.setInt(1,stu.getSno());\n+\t\t    \t  ps.setString(2,stu.getName());\n+\t\t    \t  ps.setString(3,stu.getSex());\n+\t\t    \t  ps.setInt(4,stu.getAge());\n+\t\t    \t  ps.setDouble(5,stu.getWeight());\n+\t\t    \t  ps.setDouble(6,stu.getHight()); \n+\t\t    \t  ps.setDouble(7, stu.getLongRun());\n+\t\t    \t  ps.setDouble(8,stu.getShortRun());\n+\t\t    \t  ps.setInt(9,stu.getPulmonary());\n+\t\t          n = ps.executeUpdate();\n+\t\t          \n+\t\t      } catch(Exception e){\n+\t\t    \t  e.printStackTrace(); \n+\t\t      } finally{\n+\t\t    \t    JdbcUtil.close(rs, ps, con);\n+\t\t      }\n+\t\t     return n;\n+\t\t}\n+\t\n+\t\tpublic Student find(Student stu) throws Exception {\n+\t\t    Connection con=null;\n+\t\t    PreparedStatement ps=null;\n+\t\t    ResultSet rs=null;\n+\t\t    Student stu2 = null;\n+\t\t    int n=-1;\n+\t\t    try {\n+\t\t       con=JdbcUtil.getConnection();\n+\t            ps = con.prepareStatement(selectSql);\n+\t            ps.setInt(1,stu.getSno());\n+\t            rs = ps.executeQuery();\n+\t            if (rs.next()){\n+\t            \tstu2 = new Student();\n+\t                stu2.setSno(rs.getInt(1)); \n+\t                stu2.setName(rs.getString(2));\n+\t                stu2.setSex(rs.getString(3));\n+\t                stu2.setAge(rs.getInt(4)); \n+\t                stu2.setWeight(rs.getDouble(5));\n+\t                stu2.setHight(rs.getDouble(6)); \n+\t                stu2.setLongRun(rs.getDouble(7));\n+\t                stu2.setShortRun(rs.getDouble(8));\n+\t                stu2.setPulmonary(rs.getInt(9));\n+\t           }\n+\t      } catch (Exception e) {\n+\t    \t  e.printStackTrace(); \n+\t      } finally {\n+\t    \t     JdbcUtil.close(rs, ps, con);\n+\t      }\n+\t     return stu2;\n+\t\t}\n+\t   \n+\t\tpublic List<Student> findAll() throws Exception {\n+\t\t\tConnection con=null;\n+\t\t    PreparedStatement ps=null;\n+\t\t    ResultSet rs=null;\t\n+\t\t    List<Student> student = new ArrayList<Student>();\n+\t\t    con=JdbcUtil.getConnection();\n+\t\t    ps = con.prepareStatement(\"select * from stu_info\");\n+\t        rs = ps.executeQuery();\n+\t        while(rs.next()) {\n+\t        \tStudent stu2 = new Student();\n+\t            stu2.setSno(rs.getInt(1)); \n+\t            stu2.setName(rs.getString(2));\n+\t            stu2.setSex(rs.getString(3));\n+\t            stu2.setAge(rs.getInt(4)); \n+\t            stu2.setWeight(rs.getDouble(5));\n+\t            stu2.setHight(rs.getDouble(6)); \n+\t            stu2.setLongRun(rs.getDouble(7));\n+\t            stu2.setShortRun(rs.getDouble(8));\n+\t            stu2.setPulmonary(rs.getInt(9));\n+\t            student.add(stu2);\n+\t        }\n+\t        JdbcUtil.close(rs, ps, con); \n+\t        return student;\n+\t\t}\n+\t\n+\t\tpublic int remove(Student stu) throws Exception {\n+\t\t\tConnection con=null;\n+\t\t    PreparedStatement ps=null;\n+\t\t    ResultSet rs=null;\n+\t\t    int n=-1;\n+\t\t    try {\n+\t\t    \tcon=JdbcUtil.getConnection();\n+\t\t    \tps = con.prepareStatement(deleteSql);\n+\t\t        ps.setInt(1,stu.getSno());\n+\t\t        \n+\t\t        n = ps.executeUpdate();\n+\t\t    }catch(Exception e) {\n+\t\t    \te.printStackTrace(); \n+\t\t    } finally{\n+\t\t    \t JdbcUtil.close(rs, ps, con);\n+\t\t    }\n+\t\t    return n;\n+\t\t}\n+\t\n+\t\tpublic void update(Student stu) throws Exception {\n+\t\t\tConnection con=null;\n+\t\t    PreparedStatement ps=null;\n+\t\t    ResultSet rs=null;\n+\t\t    try {\n+\t\t    \tcon=JdbcUtil.getConnection();\n+\t         ps = con.prepareStatement(updateSql);\n+\t         ps.setInt(1,stu.getSno());\n+\t\t    \tps.setString(2,stu.getName());\n+\t\t    \tps.setString(3,stu.getSex());\n+\t\t    \tps.setInt(4,stu.getAge());\n+\t\t    \tps.setDouble(5,stu.getWeight());\n+\t\t    \tps.setDouble(6,stu.getHight());\n+\t\t    \tps.setDouble(7, stu.getLongRun());\n+\t\t    \tps.setDouble(8, stu.getShortRun());\n+\t\t    \tps.setInt(9, stu.getPulmonary());\n+\t\t    \tint rowCount=ps.executeUpdate();\n+\t            if (rowCount == 0) {\n+\t                   throw new Exception(\"Update Error:Student sno:\" + stu.getSno());\n+\t            }\n+\t        } catch (Exception e) {\n+\t               e.printStackTrace(); \n+\t        } finally {\n+\t        \t JdbcUtil.close(rs, ps, con);\n+\t        }\n+\t    }\n+\t}\n+\t\t\t\t\n+\t\t\n+"
  }, {
    "sha" : "d4599d31be29a20c5085c2ab5e1a1eb74f9b4611",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902140/SubmitServlet.java",
    "status" : "added",
    "additions" : 48,
    "deletions" : 0,
    "changes" : 48,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/SubmitServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902140/SubmitServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902140/SubmitServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,48 @@\n+package edu.hzu.javaweb.labs.se1414080902140;\n+\n+import java.io.IOException;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.servlet.Servlet;\n+import javax.servlet.ServletConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class SubmitServlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+\tpublic  SubmitServlet() {\n+\t\t// TODO Auto-generated constructor stub\n+\t\n+\t\tsuper();\n+\t}\n+    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tdoPost(request, response);\n+\t}\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tString name=request.getParameter(\"name\");\n+\t\tString sno=request.getParameter(\"sno\");\n+\t\tString sex=request.getParameter(\"sex\");\n+\t\tString age=request.getParameter(\"age\");\n+\t\tString hight=request.getParameter(\"hight\");\n+\t\tString weight=request.getParameter(\"weight\");\n+\t\tString pulmonary=request.getParameter(\"pulmonary\");\n+\t\tString longRun=request.getParameter(\"longRun\");\n+\t\tString shortRun=request.getParameter(\"shortRun\");\n+\t    //Student student=new Student(\"name\");\n+ \t    List<Student> stuList=new ArrayList<Student>();\n+\t\tstuList.add(new Student(name,sex,sno,age,hight,weight,pulmonary,longRun,shortRun));\n+\t\trequest.setAttribute(\"result\", stuList);\n+\n+\n+\n+\t\trequest.getRequestDispatcher(\"/doSubmit.jsp\").forward(request, response);\n+\t\t\n+\t}\n+}"
  }, {
    "sha" : "c95658f4589deeafd0cefd682a8e5f3793a4b9dd",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902201/EncodeFilter.java",
    "status" : "added",
    "additions" : 52,
    "deletions" : 0,
    "changes" : 52,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902201/EncodeFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902201/EncodeFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902201/EncodeFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,52 @@\n+package edu.hzu.javaweb.labs.se1414080902201;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+/**\n+ * Servlet Filter implementation class EncodeFilter\n+ */\n+@WebFilter(filterName=\"EncodeFilter\",urlPatterns=\"/*\")\n+public class EncodeFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public EncodeFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t// �������\n+\t\tSystem.out.println(\"�������...\");\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+        //�������\n+        response.setContentType(\"text/html;charset=UTF-8\");\n+\n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\tSystem.out.println(\"ͳһ����...\");\n+\t}\n+\n+}"
  }, {
    "sha" : "6ec6ee3734d4bf33b3667219f78bcfabc7dff237",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902201/IndexServlet.java",
    "status" : "added",
    "additions" : 59,
    "deletions" : 0,
    "changes" : 59,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902201/IndexServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902201/IndexServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902201/IndexServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,59 @@\n+package edu.hzu.javaweb.labs.se1414080902201;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.Cookie;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet implementation class IndexServlet\n+ */\n+@WebServlet(name=\"IndexServlet\",urlPatterns=\"/index\")\n+public class IndexServlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public IndexServlet() {\n+        super();\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tCookie cookie = null;\n+    \tCookie[] cookies = null;\n+    \t// ��ȡ�������ص� Cookie ������\n+    \tcookies = request.getCookies();\n+\n+        if(cookies != null ){\n+          for (int i = 0; i < cookies.length; i++){\n+             cookie = cookies[i];\n+             if((cookie.getName()).equals(\"email\")){\n+            \t request.setAttribute(\"email\",cookie.getValue());                                        \n+                 RequestDispatcher dispatcher = request.getRequestDispatcher(\"index.jsp\");   \n+                 dispatcher.forward(request, response);\n+                 return;\n+             }\n+          }\n+          response.sendRedirect(\"index.jsp\");\n+        }else{\n+        \tresponse.sendRedirect(\"index.jsp\");\n+        }\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tdoGet(request, response);\n+\t}\n+\n+}"
  }, {
    "sha" : "17366e7ba13bab132f1c6634599c0480f628c580",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902201/LoginFilter.java",
    "status" : "added",
    "additions" : 67,
    "deletions" : 0,
    "changes" : 67,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902201/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902201/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902201/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,67 @@\n+package edu.hzu.javaweb.labs.se1414080902201;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.Cookie;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet Filter implementation class LoginFilter\n+ */\n+@WebFilter(filterName=\"LoginFilter\",urlPatterns=\"/1414080902201\")\n+public class LoginFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public LoginFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t//��ȡhttp����������\n+\t\tHttpServletRequest req = (HttpServletRequest) request;\n+        HttpServletResponse resp = (HttpServletResponse) response;\n+        \n+\t\tCookie cookie = null;\n+    \tCookie[] cookies = null;\n+    \t// ��ȡ�������ص� Cookie ������\n+    \tcookies = req.getCookies();\n+\n+        if(cookies != null ){\n+\t      for (int i = 0; i < cookies.length; i++){\n+\t         cookie = cookies[i];\n+\t         if((cookie.getName()).equals(\"email\")){\n+\t        \t chain.doFilter(request, response);\n+\t             return;\n+\t         }\n+\t      }\n+\t      resp.sendRedirect(\"login.jsp\");\n+        }\n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\tSystem.out.println(\"��¼����...\");\n+\t}\n+\n+}"
  }, {
    "sha" : "7bb81c38ea13b7d633297d2f07c810fc7eb68ceb",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902201/LoginServlet.java",
    "status" : "added",
    "additions" : 144,
    "deletions" : 0,
    "changes" : 144,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902201/LoginServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902201/LoginServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902201/LoginServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,144 @@\n+package edu.hzu.javaweb.labs.se1414080902201;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.security.MessageDigest;\n+import java.sql.Connection;\n+import java.sql.DriverManager;\n+import java.sql.ResultSet;\n+import java.sql.SQLException;\n+import java.sql.Statement;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.Cookie;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet implementation class LoginServlet\n+ */\n+@WebServlet(name=\"LoginServlet\",urlPatterns=\"/login\")\n+public class LoginServlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+\t// JDBC ������ݿ� URL\n+\tstatic final String JDBC_DRIVER = \"com.mysql.jdbc.Driver\";  \n+\tstatic final String DB_URL = \"jdbc:mysql://localhost:3306/todox\";\n+\t\n+\t// ��ݿ���û���������\n+\tstatic final String USER = \"root\";\n+\tstatic final String PASS = \"\"; \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public LoginServlet() {\n+        super();\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tresponse.sendRedirect(\"login.jsp\");\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tSystem.out.println(\"����post����...\");\n+\t\tConnection conn = null;\n+\t\tStatement stmt = null;\n+\t\tString id = null;\n+\t\t// �������\n+        String email = request.getParameter(\"email\");\n+        String password = request.getParameter(\"password\");\n+        String remember = request.getParameter(\"remember\");\n+        if(email.equals(\"\")){\n+        \trequest.setAttribute(\"tip\", \"���䲻��Ϊ�գ�\");                                        \n+            RequestDispatcher dispatcher = request.getRequestDispatcher(\"login.jsp\");   \n+            dispatcher.forward(request, response);\n+            return;\n+        }\n+        if(password.equals(\"\")){\n+        \trequest.setAttribute(\"tip\", \"���벻��Ϊ�գ�\");                                        \n+            RequestDispatcher dispatcher = request.getRequestDispatcher(\"login.jsp\");   \n+            dispatcher.forward(request, response);\n+            return;\n+        }\n+        //�����ݿ�\n+        try{\n+\t\t\t// ע�� JDBC ����\n+\t\t\tClass.forName(\"com.mysql.jdbc.Driver\");\n+\t\t\t// ��һ�����\n+\t\t\tconn = DriverManager.getConnection(DB_URL,USER,PASS);\n+\t\t\t// ִ�� SQL ��ѯ\n+\t\t\tstmt = conn.createStatement();\n+\t\t\tString sql;\n+\t\t\tsql = \"SELECT * FROM user WHERE email='\"+email+\"'\";\n+\t\t\tResultSet rs = stmt.executeQuery(sql);\n+\t\t\tif(rs.next()){\n+\t\t\t\tid = rs.getString(\"id\");\n+\t\t\t\tString pass = rs.getString(\"password\");\n+\t\t\t\tSystem.out.println(id);\n+\t\t\t\tif(!password.equals(pass)){\n+\t\t\t\t\trequest.setAttribute(\"tip\", \"�������\");                                        \n+\t\t            RequestDispatcher dispatcher = request.getRequestDispatcher(\"login.jsp\");   \n+\t\t            dispatcher.forward(request, response);\n+\t\t            return;\n+\t\t\t\t}\n+\t\t\t}else{\n+\t\t\t\trequest.setAttribute(\"tip\", \"������δע�ᣡ\");                                        \n+\t            RequestDispatcher dispatcher = request.getRequestDispatcher(\"login.jsp\");   \n+\t            dispatcher.forward(request, response);\n+\t            return;\n+\t\t\t}\n+\t\t\t\n+\t\t\t// ��ɺ�ر�\n+\t\t\trs.close();\n+\t\t\tstmt.close();\n+\t\t\tconn.close();\n+\t\t} catch(SQLException se) {\n+\t\t\t// ���� JDBC ����\n+\t\t\tse.printStackTrace();\n+\t\t} catch(Exception e) {\n+\t\t\t// ���� Class.forName ����\n+\t\t\te.printStackTrace();\n+\t\t}finally{\n+\t\t\t// ��������ڹر���Դ�Ŀ�\n+\t\t\ttry{\n+\t\t\t\tif(stmt!=null)\n+\t\t\t\tstmt.close();\n+\t\t\t}catch(SQLException se2){\n+\t\t\t}\n+\t\t\ttry{\n+\t\t\t\tif(conn!=null)\n+\t\t\t\tconn.close();\n+\t\t\t}catch(SQLException se){\n+\t\t\t\tse.printStackTrace();\n+\t\t\t}\n+\t\t}\n+\n+        //���� Cookie\n+ \t\tCookie cookie_email = new Cookie(\"email\",email);\n+ \t\tCookie cookie_id = new Cookie(\"id\",id);\n+ \t\tif(remember != null){\n+ \t\t\t// ���ù�������Ϊ30���\n+ \t \t\tcookie_email.setMaxAge(60*60*24*30);\n+ \t \t\tcookie_id.setMaxAge(60*60*24*30);\n+ \t\t}else{\n+ \t\t\t//���ù���ʱ��Ϊ1Сʱ\n+ \t\t\tcookie_email.setMaxAge(60*60);\n+ \t\t\tcookie_id.setMaxAge(60*60);\n+ \t\t}\n+ \t\t// ����Ӧͷ�� Cookie\n+ \t\tresponse.addCookie(cookie_email);\n+ \t\tresponse.addCookie(cookie_id);\n+ \t\tresponse.sendRedirect(\"index\");\n+\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "9bc0fc6af273ccc461c2469ad4f85d08635503e2",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902201/Se1414080902201Servlet.java",
    "status" : "added",
    "additions" : 107,
    "deletions" : 0,
    "changes" : 107,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902201/Se1414080902201Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902201/Se1414080902201Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902201/Se1414080902201Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,107 @@\n+package edu.hzu.javaweb.labs.se1414080902201;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.sql.Connection;\n+import java.sql.DriverManager;\n+import java.sql.ResultSet;\n+import java.sql.SQLException;\n+import java.sql.Statement;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.Cookie;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet implementation class Se1414080902201Servlet\n+ */\n+@WebServlet(name=\"Se1414080902201Servlet\",urlPatterns=\"/1414080902201\")\n+public class Se1414080902201Servlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+\t// JDBC ������ݿ� URL\n+\tstatic final String JDBC_DRIVER = \"com.mysql.jdbc.Driver\";  \n+\tstatic final String DB_URL = \"jdbc:mysql://localhost:3306/todox?characterEncoding=utf-8\";\n+\t\n+\t// ��ݿ���û���������\n+\tstatic final String USER = \"root\";\n+\tstatic final String PASS = \"\"; \n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public Se1414080902201Servlet() {\n+        super();\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tSystem.out.println(\"����get����...\");\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\tSystem.out.println(\"����post����...\");\n+\t\tConnection conn = null;\n+\t\tStatement stmt = null;\n+\t\tString id = null;\n+        // �������\n+        String item = request.getParameter(\"item\");\n+        //��ȡcookie\n+        Cookie cookie = null;\n+    \tCookie[] cookies = null;\n+    \tcookies = request.getCookies();\n+\n+    \tfor (int i = 0; i < cookies.length; i++){\n+    \t\tcookie = cookies[i];\n+    \t\tif((cookie.getName()).equals(\"id\")){\n+    \t\t\tid = cookie.getValue();\n+    \t\t\tbreak;\n+    \t\t}\n+    \t}\n+        //�����ݿ�\n+        try{\n+\t\t\t// ע�� JDBC ����\n+\t\t\tClass.forName(\"com.mysql.jdbc.Driver\");\n+\t\t\t// ��һ�����\n+\t\t\tconn = DriverManager.getConnection(DB_URL,USER,PASS);\n+\t\t\t// ִ�� SQL ��ѯ\n+\t\t\tstmt = conn.createStatement();\n+\t\t\tString sql;\n+\t\t\tsql = \"INSERT INTO plan (userId,content) VALUES ('\"+id+\"','\"+item+\"')\";\n+\t\t\tstmt.executeUpdate(sql);\n+\t\t\tPrintWriter out = response.getWriter();\n+\t\t\tout.println(\":) ����ɹ���\");\n+\t\t\t// ��ɺ�ر�\n+\t\t\tstmt.close();\n+\t\t\tconn.close();\n+\t\t} catch(SQLException se) {\n+\t\t\t// ���� JDBC ����\n+\t\t\tse.printStackTrace();\n+\t\t} catch(Exception e) {\n+\t\t\t// ���� Class.forName ����\n+\t\t\te.printStackTrace();\n+\t\t}finally{\n+\t\t\t// ��������ڹر���Դ�Ŀ�\n+\t\t\ttry{\n+\t\t\t\tif(stmt!=null)\n+\t\t\t\tstmt.close();\n+\t\t\t}catch(SQLException se2){\n+\t\t\t}\n+\t\t\ttry{\n+\t\t\t\tif(conn!=null)\n+\t\t\t\tconn.close();\n+\t\t\t}catch(SQLException se){\n+\t\t\t\tse.printStackTrace();\n+\t\t\t}\n+\t\t}\n+\t}\n+\n+}"
  }, {
    "sha" : "1b7de13983d4a743fd5e10a0fa46ae72bb6d9fbe",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902202/Encoding.java",
    "status" : "added",
    "additions" : 34,
    "deletions" : 0,
    "changes" : 34,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902202/Encoding.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902202/Encoding.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902202/Encoding.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,34 @@\n+package edu.hzu.javaweb.labs.se1414080902202;\n+\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+public class Encoding implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\");\n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "358d5382a78c6fd2744fd6aebb407c860c96db29",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902202/Loginfilter.java",
    "status" : "added",
    "additions" : 49,
    "deletions" : 0,
    "changes" : 49,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902202/Loginfilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902202/Loginfilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902202/Loginfilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,49 @@\n+package edu.hzu.javaweb.labs.se1414080902202;\n+\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebFilter(filterName = \"Loginfilter\", urlPatterns = \"/index.jsp\")\n+public class Loginfilter implements Filter {\n+\n+\t public Loginfilter() {\n+\t        // TODO Auto-generated constructor stub\n+\t    }\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest req = (HttpServletRequest) request;\n+\t\tHttpServletResponse res = (HttpServletResponse) response;\n+\n+\t\tHttpSession session = req.getSession();\n+\t\tif (session.getAttribute(\"DENGLUHAO\") == null) {\n+\t\t\tres.sendRedirect(\"DengLu.jsp\");\t\t}\n+\t\telse {\n+\t\t\tchain.doFilter(request, response);\n+\t\t}\n+\t}\n+\t\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "550ece1ecc68aaf9eceb54b5f5f2aa140d5b4793",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902202/Se1414080902202Servlet.java",
    "status" : "added",
    "additions" : 60,
    "deletions" : 0,
    "changes" : 60,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902202/Se1414080902202Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902202/Se1414080902202Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902202/Se1414080902202Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,60 @@\n+package edu.hzu.javaweb.labs.se1414080902202;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class Se1414080902202Servlet extends HttpServlet {\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html;charset=utf-8\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"�Ƽ۹����ǣ��𲽼�5Ԫ������2���ÿ����2Ԫ���Դ��ۼӡ��ۼӽ���50�������5Ԫ��\");\n+\t\t\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+\t\tout.println(\"<HTML>\");\n+\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+\t\tout.println(\"  <BODY>\");\n+\t\tout.print(\"    This is \");\n+\t\tout.print(this.getClass());\n+\t\tout.println(\", using the POST method\");\n+\t\tout.println(\"  </BODY>\");\n+\t\tout.println(\"</HTML>\");\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+}"
  }, {
    "sha" : "7d32ea67efb18485afc4299b12d852b2b962180d",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902202/YanZheng.java",
    "status" : "added",
    "additions" : 59,
    "deletions" : 0,
    "changes" : 59,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902202/YanZheng.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902202/YanZheng.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902202/YanZheng.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,59 @@\n+ package edu.hzu.javaweb.labs.se1414080902202;\n+\n+import java.io.IOException;\n+import java.sql.*;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class YanZheng extends HttpServlet {\n+\n+\tpublic void doGet(HttpServletRequest request,HttpServletResponse response)\n+\t           throws ServletException,IOException{\n+\t\tString driverName=\"com.mysql.jdbc.Driver\";\n+\t\tString userName=\"root\";\n+\t\tString userPwd=\"wyz1994\";\n+\t\tString dbName=\"user\";\n+\t\tString url1=\"jdbc:mysql://localhost:3306/\"+dbName;\n+\t\tString url2=\"?user=\"+userName+\"&password=\"+userPwd;\n+\t\tString url3=\"&useUnicode=true&characterEncoding=utf-8\";\n+\t\tString url=url1+url2+url3;\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tString name=request.getParameter(\"textfield3\");\n+\t\tString pw=request.getParameter(\"textfield4\");\n+\t\tRequestDispatcher dis=null;\n+\t\ttry {\n+\t\t\t  Class.forName(driverName);\n+\t\t\t  Connection conn=DriverManager.getConnection(url);\n+\t\t\t  String sql=\"select* from user-b where(uname=? and upassword=?)\";\n+\t\t\t  PreparedStatement pstmt=conn.prepareStatement(sql);\n+\t\t\t  pstmt.setString(1,name);\n+\t\t\t  pstmt.setString(2,pw);\n+\t\t\t  ResultSet rs=pstmt.executeQuery();\n+\t\t\t  if(rs.next()) {\n+\t\t\t\t  if(rs!=null) rs.close();\n+\t\t\t\t  if(pstmt!=null) pstmt.close();\n+\t\t\t      if(conn!=null) conn.close();\n+\t\t\t      dis=request.getRequestDispatcher(\"index.jsp\");\n+\t\t\t      dis.forward(request,response);\n+\t\t\t  }\n+\t\t\t  else{\n+\t\t\t\t  if(rs!=null)rs.close();\n+\t\t\t\t  if(pstmt!=null)pstmt.close();\n+\t\t\t\t  if(conn!=null)conn.close();\n+\t\t\t\t  dis=request.getRequestDispatcher(\"error.jsp\");\n+\t\t\t\t  dis.forward(request,response);\n+\t\t\t  }\n+\t\t} catch (Exception e) {\n+\t\t\t   e.printStackTrace();\n+\t\t}\n+\t}\n+\tpublic void doPost(HttpServletRequest request,HttpServletResponse response)\n+\t           throws ServletException,IOException {\n+\t\t    doGet(request,response);\n+\t}\n+}\n+\t\n\\ No newline at end of file"
  }, {
    "sha" : "5575fbea639e5d4ec59a6631dfe04068c4664bb0",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902203/EncodingFilter.java",
    "status" : "added",
    "additions" : 36,
    "deletions" : 0,
    "changes" : 36,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902203/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902203/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902203/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,36 @@\n+package edu.hzu.javaweb.labs.se1414080902203;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+\n+public class EncodingFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\t \tFilterChain chain) throws IOException, ServletException {\n+\t\t\t \trequest.setCharacterEncoding(\"UTF-8\");\n+\t\t\t\tresponse.setCharacterEncoding(\"UTF-8\");\n+\t\t\t \tchain.doFilter(request, response);\n+\t}\n+\t@Override\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "e822e18c6e4f1f5a7cc044854e1501369b9b0b2c",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902203/LoginFilter.java",
    "status" : "added",
    "additions" : 55,
    "deletions" : 0,
    "changes" : 55,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902203/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902203/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902203/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,55 @@\n+package edu.hzu.javaweb.labs.se1414080902203;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName = \"LoginFilter\", urlPatterns = \"/Show.jsp\")\n+\n+public class LoginFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\t\tHttpServletRequest req = (HttpServletRequest) request;\n+\t\t\tHttpServletResponse res = (HttpServletResponse) response;\n+\t\t\tHttpSession session = req.getSession(true);\n+\n+\t\t\tif(session.getAttribute(\"usern\")==\"\"&&session.getAttribute(\"passw\")==\"\")\n+\t\t\t{\t\n+\t\t\t\tres.sendRedirect(\"Error.jsp\");\n+\t\t\t\t\n+\t\t\t\tSystem.out.println(1121);\n+\t\t\t\n+\t\t\t}\n+\t\t\telse\n+\t\t\t{\n+\t\t\t\tSystem.out.println(111);\n+\t\t\t\tchain.doFilter(request, response);\n+\t\t\t}\n+\n+\t}\n+\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "78d0614b860f65ba06186763f70e840ac7086de7",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902203/Se1414080902203Servlet.java",
    "status" : "added",
    "additions" : 78,
    "deletions" : 0,
    "changes" : 78,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902203/Se1414080902203Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902203/Se1414080902203Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902203/Se1414080902203Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,78 @@\n+package edu.hzu.javaweb.labs.se1414080902203;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class Se1414080902203Servlet extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Se1414080902203Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\t\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tString passName=request.getParameter(\"Pass\");\n+\t\tString info=\"\";\n+\t\tif(\"Upload\".equals(passName))\n+\t\t{\n+\t\t\tinfo=\"Uploading Files,please hold on!\";\n+\t\t}\n+\t\telse{info=\"PassWord wrong!\";}\n+\t\trequest.setAttribute(\"OutputMessage\",info);\n+\t\trequest.getRequestDispatcher(\"/Waiting.jsp\").forward(request,response);\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+\n+}"
  }, {
    "sha" : "21b745f8391702f99ed5ce64acbf3eec83ee331c",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902204/DbConnect.java",
    "status" : "added",
    "additions" : 37,
    "deletions" : 0,
    "changes" : 37,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/DbConnect.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/DbConnect.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902204/DbConnect.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,37 @@\n+package com.db;\n+import java.sql.*;\n+public class DbConnect {\n+\t\n+\tprivate static String driverName=\"com.mysql.jdbc.Driver\";\n+\tprivate static String userName=\"root\";\n+\tprivate static String userPwd=\"1234\";\n+\tprivate static String dbName=\"shenzhentong_system\";\n+\tpublic static Connection getDBconnection(){\n+\n+\t\tString url1=\"jdbc:mysql://localhost/\"+dbName;\n+\t\tString url2=\"?user=\"+userName+\"&password=\"+userPwd;\n+\t\tString url3=\"&useUnicode=true&characterEncoding=UTF-8\";\n+\t\tString url=url1+url2+url3;\n+\t\ttry{\n+\t\t\tClass.forName(driverName);\n+\t\t\tConnection con=DriverManager.getConnection(url);\n+\t\t\treturn con;\n+\t\t}catch(Exception e){\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn null;\n+\t\t\n+\t\t\n+\t}\n+\tpublic static void closeDB(Connection con,PreparedStatement pstm,ResultSet rs){\n+\t\ttry{\n+\t\t\tif(rs!=null) rs.close();\n+\t\t\tif(pstm!=null) pstm.close();\n+\t\t\tif(con!=null) con.close();\n+\t\t\t}catch(SQLException e){\n+\t\t\t\te.printStackTrace();\n+\t\t\t}\n+\t}\n+\t\n+\n+}"
  }, {
    "sha" : "dbc6a2f460d7f2c3e0822e198f9bcfd5ffbe8903",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902204/DeleteServlet.java",
    "status" : "added",
    "additions" : 99,
    "deletions" : 0,
    "changes" : 99,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/DeleteServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/DeleteServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902204/DeleteServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,99 @@\n+package edu.hzu.javaweb.labs.se1414080902204;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import com.dao.Szt_informationDAO;\n+import com.domain.Szt_information;\n+\n+public class DeleteServlet extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic DeleteServlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tString name=request.getParameter(\"name\");\n+\t\tString idcard=request.getParameter(\"idcard\");\n+\t\tString card=request.getParameter(\"card\");\n+\t\tString phonenumber=request.getParameter(\"phonenumber\");\n+\t\tSzt_information u2=new Szt_information();\n+\t\tu2.setName(name);\n+\t\tu2.setIdcard(idcard);\n+\t\tu2.setCard(card);\n+\t\tu2.setPhonenumber(phonenumber);\n+\t\tSzt_informationDAO dao=new Szt_informationDAO();\n+\t\tRequestDispatcher dis=null;\n+\t\ttry{\n+\t\t\tif(dao.find(u2)!=null){\n+\t\t\t\tdao.remove(u2);\n+\t\t\t\tdis=request.getRequestDispatcher(\"./success.jsp\");\n+\t\t\t\tdis.forward(request, response);\n+\t\t\t\t\n+\t\t\t}\n+\t\t\telse{\n+\t\t\t\tdis=request.getRequestDispatcher(\"./erro.jsp\");\n+\t\t\t\tdis.forward(request, response);\n+\t\t\t}\n+\t\t\t\n+\t\t}catch(Exception locaException){\n+\t\t\tlocaException.printStackTrace();\n+\t\t}\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tdoGet(request, response);\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "db27d874e3d6a982cee205995dd34a882967904a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902204/EncodingFilter.java",
    "status" : "added",
    "additions" : 50,
    "deletions" : 0,
    "changes" : 50,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902204/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,50 @@\n+package edu.hzu.javaweb.labs.se1414080902204;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+/**\n+ * Servlet Filter implementation class EncodingFilter\n+ */\n+@WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+\n+public class EncodingFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public EncodingFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain Chain) throws IOException, ServletException {\n+\t\t\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\"); \n+\tChain.doFilter(request, response);\n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "65204515ca4064309f07615bc6f2a5fde5163dcf",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902204/InsertServlet.java",
    "status" : "added",
    "additions" : 82,
    "deletions" : 0,
    "changes" : 82,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/InsertServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/InsertServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902204/InsertServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,82 @@\n+package edu.hzu.javaweb.labs.se1414080902204;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import com.db.DbConnect;\n+import com.domain.Szt_information;\n+import com.dao.*;\n+public class InsertServlet extends HttpServlet {\n+\n+\tprivate static final Szt_information Szt_information = null;\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic InsertServlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\t\tString name=request.getParameter(\"name\");\n+\t\t\tString idcard=request.getParameter(\"idcard\");\n+\t\t\tString card=request.getParameter(\"card\");\n+\t\t\tString phonenumber=request.getParameter(\"phonenumber\");\n+\t\t\tSzt_information u1=new Szt_information();\n+\t\t\tu1.setName(name);\n+\t\t\tu1.setIdcard(idcard);\n+\t\t\tu1.setCard(card);\n+\t\t\tu1.setPhonenumber(phonenumber);\n+\t\t\tSzt_informationDAO dao=new Szt_informationDAO();\n+\t\t\tRequestDispatcher dis=null;\n+\t\t\ttry{\n+\t\t\t\tif(dao.find(u1)==null){\n+\t\t\t\t\tif( dao.create(u1)!=null)\n+\t\t\t\t\t{dis=request.getRequestDispatcher(\"./success.jsp\");\n+\t\t\t\t\tdis.forward(request, response);\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t\telse{\n+\t\t\t\t\tdis=request.getRequestDispatcher(\"./erro.jsp\");\n+\t\t\t\t\tdis.forward(request, response);\n+\t\t\t\t}\n+\t\t\t\t\n+\t\t\t}catch(Exception locaException){\n+\t\t\t\tlocaException.printStackTrace();\n+\t\t\t}\n+\t}\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tdoGet(request, response);\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t\n+\t}\n+\n+}"
  }, {
    "sha" : "9fb65b5a3a415cdc6f0975a765d82eaac7066857",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902204/Iszt_informationDAO.java",
    "status" : "added",
    "additions" : 12,
    "deletions" : 0,
    "changes" : 12,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Iszt_informationDAO.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Iszt_informationDAO.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Iszt_informationDAO.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,12 @@\n+package com.dao;\n+import java.util.List;\n+import com.domain.Szt_information;\n+public interface Iszt_informationDAO {\n+\tpublic abstract Szt_information create(Szt_information szt) throws Exception;\n+\tpublic abstract void remove(Szt_information szt) throws Exception;\n+\tpublic abstract Szt_information find(Szt_information szt) throws Exception;\n+\tpublic abstract List<Szt_information> findAll() throws Exception;\n+\tpublic abstract void update(Szt_information szt) throws Exception;\n+\t\n+\t\n+}"
  }, {
    "sha" : "8977bce1fd0a3eeca6bb6446d324844a1b7216f1",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902204/Login.java",
    "status" : "added",
    "additions" : 86,
    "deletions" : 0,
    "changes" : 86,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Login.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Login.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Login.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,86 @@\n+package edu.hzu.javaweb.labs.se1414080902204;\n+\n+import java.io.IOException;\n+import java.sql.Connection;\n+import java.sql.DriverManager;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet implementation class Login\n+ */\n+@WebServlet(\"/Login\")\n+public class Login extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public Login() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t\tresponse.setContentType(\"text/html;charset=utf-8\");\n+\t\tString Name=\"com.mysql.jdbc.Driver\";\n+        String userName=\"root\";\n+        String userPwd=\"1234\";\n+        String dbName=\"shenzhentong_system\";\n+        String url=\"jdbc:mysql://localhost:3306/shenzhentong_system?user=root&password=1234&useUnicode=true&characterEncoding=UTF-8\";\n+       String cardNumber =request.getParameter(\"kahao\");\n+       String phoneNumber=request.getParameter(\"shoujihao\");\n+       RequestDispatcher dis=null;\n+       try{\n+    \t   Class.forName(Name);\n+           Connection conn=DriverManager.getConnection(url);\n+    \t   String sql=\"select * from szt_information where( card=? and phonenumber=?)\";\n+    \t   PreparedStatement pstmt=conn.prepareStatement(sql);\n+    \t   pstmt.setString(1, cardNumber);\n+    \t   pstmt.setString(2, phoneNumber);\n+    \t   ResultSet rs =pstmt.executeQuery();\n+    \t   if (rs.next()){\n+    \t\t   if(rs!=null) rs.close();\n+    \t\t   if(pstmt!=null) pstmt.close();\n+    \t\t   if(conn!=null) conn.close();\n+    \t\t   dis=request.getRequestDispatcher(\"gongneng.jsp\");\n+    \t\t   dis.forward(request, response);\n+    \t   }\n+    \t   \n+    \t   else{\t  \n+    \t\t   if(rs!=null) rs.close();\n+    \t\t   if(pstmt!=null) pstmt.close();\n+    \t\t   if(conn!=null) conn.close();\n+    \t\t   dis=request.getRequestDispatcher(\"shibai.jsp\");\n+    \t\t   dis.forward(request, response);\n+    \t\t   \n+    \t   }\n+       }\n+       \n+       catch(Exception e){\n+    \t   \n+    \t   e.printStackTrace();\n+       }\n+       \n+       \n+\t}\n+\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\tdoGet(request, response);\n+\t\t\n+\t}\n+\n+}"
  }, {
    "sha" : "550c0859e318a1bc0c1fc8327eca40b19a61565f",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902204/LoginFilter.java",
    "status" : "added",
    "additions" : 65,
    "deletions" : 0,
    "changes" : 65,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902204/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,65 @@\n+package edu.hzu.javaweb.labs.se1414080902204;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet Filter implementation class LoginFilter\n+ */\n+@WebFilter(filterName = \"LoginFilter\", urlPatterns = \"/chaxunyue.jsp\")\n+public class LoginFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public LoginFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t// place your code here\n+\t\tHttpServletRequest requ=(HttpServletRequest) request;\n+\t\tHttpServletResponse resp= (HttpServletResponse) response;\n+\t\tHttpSession session=requ.getSession(true);\n+\t\tif(session.getAttribute(\"KAHAO\")==null){\n+\t\t\tresp.sendRedirect(\"./tishi.jsp\");\n+\t\t}\n+\t\telse{\n+\t\t\n+\t\t// pass the request along the filter chain\n+\t\tchain.doFilter(request, response);\n+\n+\t\t}\n+\t\t}\n+\t\t\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "409b51a4c7bcd919a9d7c643aa67364ccf7623d6",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902204/Se1414080902204Servlet.java",
    "status" : "added",
    "additions" : 108,
    "deletions" : 0,
    "changes" : 108,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Se1414080902204Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Se1414080902204Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Se1414080902204Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,108 @@\n+package edu.hzu.javaweb.labs.se1414080902204;\n+\n+import java.awt.Window;\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.sql.Connection;\n+import java.sql.DriverManager;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+\n+import javax.naming.spi.DirStateFactory.Result;\n+import javax.security.auth.message.callback.PrivateKeyCallback.Request;\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet implementation class Se1414080902204Servlet\n+ */\n+@WebServlet(\"/Se1414080902204Servlet\")\n+public class Se1414080902204Servlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public Se1414080902204Servlet() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\tresponse.setContentType(\"text/html;charset=utf-8\");\n+\t\tString Name=\"com.mysql.jdbc.Driver\";\n+        String userName=\"root\";\n+        String userPwd=\"1234\";\n+        String dbName=\"shenzhentong_system\";\n+        String url=\"jdbc:mysql://localhost:3306/shenzhentong_system?user=root&password=1234&useUnicode=true&characterEncoding=UTF-8\";\n+\n+      \n+       String xingming= request.getParameter(\"Username\");\n+       String idCard =request.getParameter(\"IdCard\");\n+       String cardNumber =request.getParameter(\"CardNumber\");\n+       String phoneNumber=request.getParameter(\"Pnumber\");\n+       \n+       RequestDispatcher dis=null;\n+       try{\n+    \t   Class.forName(Name);\n+           Connection conn=DriverManager.getConnection(url);\n+    \t   String sql=\"select * from szt_information where(name=? or idcard=? or card=? or phonenumber=?)\";\n+    \t   PreparedStatement pstmt=conn.prepareStatement(sql);\n+    \t   pstmt.setString(1,xingming);\n+    \t   pstmt.setString(2, idCard);\n+    \t   pstmt.setString(3, cardNumber);\n+    \t   pstmt.setString(4, phoneNumber);\n+    \t   ResultSet rs =pstmt.executeQuery();\n+    \t   if (rs.next()){\n+    \t\t   if(rs!=null) rs.close();\n+    \t\t   if(conn!=null) conn.close();\n+    \t\t   dis=request.getRequestDispatcher(\"bangdingerro.jsp\");\n+    \t\t   dis.forward(request, response);\n+    \t   }\n+    \t   \n+    \t   else{\n+    \t\t   String sql1=\"Insert into szt_information (name,idcard,card,phonenumber) values(?,?,?,?)\";\n+    \t\t   PreparedStatement pstmt1=conn.prepareStatement(sql1);\n+    \t\t   request.setCharacterEncoding(\"UTF-8\");\n+    \t\t   pstmt1.setString(1, xingming);\n+    \t\t   pstmt1.setString(2, idCard);\n+    \t\t   pstmt1.setString(3, cardNumber);\n+    \t\t   pstmt1.setString(4, phoneNumber);\n+    \t\t   int n=pstmt1.executeUpdate();\n+    \t\t   {  if(n==1){ System.out.println(\"数据插入数据库成功！\");}\n+    \t\t   else {System.out.println(\"数据插入数据库失败！\");}\n+    \t\t   }\n+/*    \t\t   if(rs!=null) rs.close();\n+*/    \t\t   if(pstmt!=null) pstmt.close();\n+    \t\t   if(conn!=null) conn.close();\n+    \t\t   dis=request.getRequestDispatcher(\"bangdingsuccess.jsp\");\n+    \t\t   dis.forward(request, response);\n+    \t\t   \n+    \t   }\n+       }\n+       \n+       catch(Exception e){\n+    \t   \n+    \t   e.printStackTrace();\n+       }\n+       \n+       \n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\tdoGet(request, response);\n+\t}\n+\n+}"
  }, {
    "sha" : "e3b3fbabebac9b42faa7708b8d557196b86a6f8e",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902204/Szt_information.java",
    "status" : "added",
    "additions" : 40,
    "deletions" : 0,
    "changes" : 40,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Szt_information.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Szt_information.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Szt_information.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,40 @@\n+package com.domain;\n+\n+public class Szt_information {\n+\tprivate String name;\n+\tprivate\tString idcard;\n+\tprivate String card;\n+\tprivate String phonenumber;\n+\tprivate double yue;\n+\tpublic String getName() {\n+\t\treturn name;\n+\t}\n+\tpublic void setName(String name) {\n+\t\tthis.name = name;\n+\t}\n+\tpublic String getIdcard() {\n+\t\treturn idcard;\n+\t}\n+\tpublic void setIdcard(String idcard) {\n+\t\tthis.idcard = idcard;\n+\t}\n+\tpublic String getCard() {\n+\t\treturn card;\n+\t}\n+\tpublic void setCard(String card) {\n+\t\tthis.card = card;\n+\t}\n+\tpublic String getPhonenumber() {\n+\t\treturn phonenumber;\n+\t}\n+\tpublic void setPhonenumber(String phonenumber) {\n+\t\tthis.phonenumber = phonenumber;\n+\t}\n+\tpublic double getYue() {\n+\t\treturn yue;\n+\t}\n+\tpublic void setYue(double yue) {\n+\t\tthis.yue = yue;\n+\t}\n+\n+}"
  }, {
    "sha" : "60f2d72c34b797417076861dd3703427280c97c3",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902204/Szt_informationDAO.java",
    "status" : "added",
    "additions" : 148,
    "deletions" : 0,
    "changes" : 148,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Szt_informationDAO.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Szt_informationDAO.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902204/Szt_informationDAO.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,148 @@\n+package com.dao;\n+import java.sql.*;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import com.db.DbConnect;\n+import com.domain.Szt_information;\n+\n+public class Szt_informationDAO {\n+\t\n+\tprotected static final String FIELDS_INSERT=\"name,idcard,card,phonenumber\";\n+\tprotected static String INSERT_SQL=\"insert into szt_information(\"+FIELDS_INSERT+\")\"+\"values(?,?,?,?)\";\n+\tprotected static String SELECT_SQL=\"select\"+\" \" +FIELDS_INSERT+\" \"+\"from szt_information where card=?\";\n+\tprotected static String UPDATE_SQL=\"update szt_information\"+\"name=?,idcard=?,card=?,phonenumber=?,yue=?\";\n+\tprotected static String DELETE_SQL=\"delete from szt_information where card=?\";\n+\t\n+\t\n+\t\n+\t\n+\t//实现向数据库与添加记录的方法\n+\tpublic Szt_information create(Szt_information szt) throws Exception{\n+\t\tConnection con=null;\n+\t\tPreparedStatement prepStmt=null;\n+\t\tResultSet rs=null;\n+\t\ttry{\n+\t\t\tcon=DbConnect.getDBconnection();\n+\t\t\tprepStmt=con.prepareStatement(INSERT_SQL);\n+\t\t\tprepStmt.setString(1, szt.getName());\n+\t\t\tprepStmt.setString(2, szt.getIdcard());\n+\t\t\tprepStmt.setString(3, szt.getCard());\n+\t\t\tprepStmt.setString(4, szt.getPhonenumber());\n+\t\t/*\tprepStmt.setDouble(5, szt.getYue());*/\n+\t\t\tprepStmt.executeUpdate();\n+\t\t\t\n+\t\t}catch(Exception E){\n+\t\t\tE.printStackTrace();\n+\t\t}finally{\n+\t\t\tDbConnect.closeDB(con, prepStmt, rs);\n+\t\t}\n+\t\t\n+\t\treturn szt;\n+\t}\n+\n+\t//实现查询数据库中对指定的记录是否存在的方法\n+\tpublic Szt_information find(Szt_information szt) throws Exception{\n+\t\tConnection con=null;\n+\t\tPreparedStatement prepStmt=null;\n+\t\tResultSet rs=null;\n+\t\tSzt_information szt2=null;\n+\t\ttry{\n+\t\t\tcon=DbConnect.getDBconnection();\n+\t\t\tprepStmt=con.prepareStatement(SELECT_SQL);\n+\t\t\tprepStmt.setString(1, szt.getCard());\n+\t\t\trs = prepStmt.executeQuery();\n+\t\t\tif(rs.next()){\n+\t\t\t\tszt2=new Szt_information();\n+\t\t\t\tszt2.setName(rs.getString(1));\n+\t\t\t\tszt2.setIdcard(rs.getString(2));\n+\t\t\t\tszt2.setCard(rs.getString(3));\n+\t\t\t\tszt2.setPhonenumber(rs.getString(4));\n+/*\t\t\t\tszt2.setYue(rs.getDouble(5));*/\n+\t\t\t}\n+\t\t}catch(Exception e){\n+\t\t\te.printStackTrace();\n+\t\t}finally{\n+\t\t\tDbConnect.closeDB(con, prepStmt, rs);\n+\t\t}\n+\t\t\n+\t\treturn szt2;\n+\t}\n+\t\n+\t\n+\t//实现列出数据库全部记录的方法\n+\tpublic List<Szt_information> findAll() throws Exception{\n+\t\tConnection con=null;\n+\t\tPreparedStatement prepStmt=null;\n+\t\tResultSet rs=null;\n+\t\tList<Szt_information> szt_information =new ArrayList<Szt_information>();\n+\t\tcon=DbConnect.getDBconnection();\n+\t\tprepStmt=con.prepareStatement(\"select * from stu_info\");\n+\t\trs=prepStmt.executeQuery();\n+\t\twhile(rs.next()){\n+\t\t\tSzt_information szt2=new Szt_information();\n+\t\t\tszt2.setName(rs.getString(1));\n+\t\t\tszt2.setIdcard(rs.getString(2));\n+\t\t\tszt2.setCard(rs.getString(3));\n+\t\t\tszt2.setPhonenumber(rs.getString(4));\n+\t\t\tszt2.setYue(rs.getDouble(5));\n+\t\t\tszt_information.add(szt2);\n+\t\t\t\n+\t\t}\n+\t\t\n+\t\t\t\n+\t\n+\t\t\tDbConnect.closeDB(con, prepStmt, rs);\n+\t\n+\t\treturn szt_information;\n+\t}\n+\t\n+\t//实现删除数据库中指定的记录方法\n+\tpublic void remove(Szt_information szt) throws Exception{\n+\t\tConnection con=null;\n+\t\tPreparedStatement prepStmt=null;\n+\t\tResultSet rs=null;\n+\t\ttry{\n+\t\t\tcon=DbConnect.getDBconnection();\n+\t\t\tprepStmt=con.prepareStatement(DELETE_SQL);\n+\t\t\t\tprepStmt.setString(1, szt.getCard());\n+\t\t\t\tprepStmt.executeUpdate();\n+\t\t\t\n+\t\t}catch(Exception e){\n+\t\t\t\n+\t\t}finally{\n+\t\t\tDbConnect.closeDB(con, prepStmt, rs);\n+\t\t}\n+\t\t\n+\t}\n+\t\n+\t\n+\t//实现用指定的对象修改数据库中记录的方法\n+\t\tpublic void update(Szt_information szt) throws Exception{\n+\t\t\tConnection con=null;\n+\t\t\tPreparedStatement prepStmt=null;\n+\t\t\tResultSet rs=null;\n+\t\t\ttry{\n+\t\t\t\tcon=DbConnect.getDBconnection();\n+\t\t\t\tprepStmt=con.prepareStatement(UPDATE_SQL);\n+\t\t\t\tprepStmt.setString(1, szt.getName());\n+\t\t\t\tprepStmt.setString(2, szt.getIdcard());\n+\t\t\t\tprepStmt.setString(3, szt.getCard());\n+\t\t\t\tprepStmt.setString(4, szt.getPhonenumber());\n+\t\t\t\tprepStmt.setDouble(5, szt.getYue());\n+\t\t\t\tint rowCount=prepStmt.executeUpdate();\n+\t\t\t\tif(rowCount==0){\n+\t\t\t\t\tthrow new Exception(\"Update Error:Szt_information card:\"+szt.getCard());\n+\t\t\t\t}\n+\t\t\t\t\n+\t\t\t\t\n+\t\t\t}catch(Exception e){\n+\t\t\t\t\n+\t\t\t}finally{\n+\t\t\t\tDbConnect.closeDB(con, prepStmt, rs);\n+\t\t\t}\n+\t\t\t\n+\t\t\t\n+\t\t}\n+\n+}"
  }, {
    "sha" : "12f992a7d27fb872e48e51c76c41037d17899cec",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902205/DBBean.java",
    "status" : "added",
    "additions" : 74,
    "deletions" : 0,
    "changes" : 74,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902205/DBBean.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902205/DBBean.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902205/DBBean.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,74 @@\n+package edu.hzu.javaweb.labs.se1414080902205;\n+\n+/*\n+ * To change this license header, choose License Headers in Project Properties.\n+ * To change this template file, choose Tools | Templates\n+ * and open the template in the editor.\n+ */\n+/**\n+ *\n+ * @author Administrator\n+ */\n+import java.sql.*;\n+\n+public class DBBean {\n+    private Connection conn = null;\n+    private PreparedStatement PPstmt = null;\n+    private Statement stmt = null;\n+    //���mysql��ݿ��е�test��ݿ�\n+    public Connection getConnection(){\n+        try{\n+            if(conn == null){\n+                Class.forName(\"com.mysql.jdbc.Driver\");\n+                conn = DriverManager.getConnection(\n+                    \"jdbc:mysql://localhost:3306/youju?useUnicode=true&charset=gbk\",\"root\",\"root\");   \n+            }\n+        }catch(ClassNotFoundException e){\n+            e.printStackTrace();\n+            System.out.println(\"δ�ܼ�����ݿ������\");\n+        }catch(SQLException e0){\n+            e0.printStackTrace();\n+            System.out.println(\"��ݿ����ʧ��\");\n+        }\n+        return conn;\n+    }\n+    \n+    //����������\n+    public PreparedStatement getPreparedStatement(String sql){\n+        try{\n+            conn = getConnection();\n+            PPstmt = conn.prepareStatement(sql);\n+        }catch(SQLException e){\n+            e.printStackTrace();\n+            System.out.println(\"��ݿ�Ԥ�������ʧ��\");\n+        }\n+\n+        return PPstmt;\n+    }\n+    public Statement getStatement(){\n+        try{\n+            stmt = conn.createStatement();\n+        }catch(SQLException e){\n+            System.out.println(e);\n+            e.printStackTrace();\n+            System.out.println(\"��ݿ������ʧ��\");\n+        }\n+        return stmt;\n+    }\n+    public void closeResource(Connection conn,Statement stmt,PreparedStatement PPstmt){\n+        try{\n+\n+            if(conn != null)\n+                conn.close();\n+            if(stmt != null)\n+                stmt.close();\n+            if(PPstmt != null){\n+                PPstmt.close();\n+            }\n+        }catch(SQLException e0){\n+            System.out.println(\"��ݿ���Դ�ر�ʧ��\");\n+        }\n+\n+    }\n+}\n+"
  }, {
    "sha" : "94231bbc76a2d3070b0ad108437b6dd27503161e",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902205/EncodingFilter.java",
    "status" : "added",
    "additions" : 36,
    "deletions" : 0,
    "changes" : 36,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902205/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902205/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902205/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,36 @@\n+package edu.hzu.javaweb.labs.se1414080902205;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+@WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+public class EncodingFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest arg0, ServletResponse arg1,\n+\t\t\tFilterChain arg2) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\targ0.setCharacterEncoding(\"UTF-8\");\n+\t\targ1.setCharacterEncoding(\"UTF-8\");\n+\t\targ2.doFilter(arg0, arg1);\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "7f9028f31f7cc0bbfe429a394ebff5f4d8f72be8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902205/LoginFilter.java",
    "status" : "added",
    "additions" : 45,
    "deletions" : 0,
    "changes" : 45,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902205/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902205/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902205/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,45 @@\n+package edu.hzu.javaweb.labs.se1414080902205;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+@WebFilter(filterName = \"LoginFilter\", urlPatterns = \"/*\")\n+public class LoginFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest arg0, ServletResponse arg1,\n+\t\t\tFilterChain arg2) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t HttpServletRequest req = (HttpServletRequest) arg0;   \n+\t     HttpServletResponse res = (HttpServletResponse) arg1;   \n+\t  \n+\t     HttpSession session = req.getSession();   \n+\t    if (session.getAttribute(\"username\") != null) {//��¼����ܷ���   \n+\t         arg2.doFilter(arg0, arg1);   \n+\t     } else {   \n+\t         res.sendRedirect(\"../failure.jsp\");   \n+\t     }   \n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "edc4a36039f81492a7b1a7c45e16ed6e77525d8e",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902205/Se1414080902205Servlet.java",
    "status" : "added",
    "additions" : 128,
    "deletions" : 0,
    "changes" : 128,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902205/Se1414080902205Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902205/Se1414080902205Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902205/Se1414080902205Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,128 @@\n+package edu.hzu.javaweb.labs.se1414080902205;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.sql.Connection;\n+import java.sql.PreparedStatement;\n+import java.sql.SQLException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+@WebServlet(\"/1414080902205\")\n+public class Se1414080902205Servlet extends HttpServlet {\n+\n+\t/**\n+\t * \n+\t */\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\tpublic Se1414080902205Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+//\t\tresponse.setContentType(\"text/html\");\n+//\t\tPrintWriter out = response.getWriter();\n+//\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+//\t\tout.println(\"<HTML>\");\n+//\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+//\t\tout.println(\"  <BODY>\");\n+//\t\tout.print(\"    This is \");\n+//\t\tout.print(this.getClass());\n+//\t\tout.println(\", using the GET method\");\n+//\t\tout.println(\"  </BODY>\");\n+//\t\tout.println(\"</HTML>\");\n+//\t\tout.flush();\n+//\t\tout.close();\n+\t\tdoPost(request,response);\n+\t}\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\trequest.setCharacterEncoding(\"gb2312\");\n+\t\tresponse.setCharacterEncoding(\"gb2312\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tString Account = new String(request.getParameter(\"account\"));\n+\t\tString Amount = new String(request.getParameter(\"amount\"));\n+//\t\tout.print(Account);\n+//\t\tout.print(Amount);\n+\t\tif (Account.equals(\"\")) {\n+\t\t\tout.println(\"�˺Ų���Ϊ��\");\n+\t\t} else if (Amount.equals(\"\")) {\n+\t\t\tout.println(\"ת�˽���Ϊ��\");\n+\t\t} else {\n+\t\t\tboolean flat = true;\n+\t\t\tchar[] str=Account.toCharArray();\n+\t\t\tfor (int i = 0;i < Account.length();i++) {\n+\t\t\t\tint x = str[i] - '0';\n+\t\t\t\tif (!(x >= 0 && x <= 9)) {\n+\t\t\t\t\tout.println(\"��������ȷ���˺�\");\n+\t\t\t\t\tflat = false;\n+\t\t\t\t\tbreak;\n+\t\t\t\t}\n+\t\t\t}\n+\t\t\tif (flat) {\n+\t\t\t\tchar[] sstr =Amount.toCharArray();\n+\t\t\t\tfor (int i = 0;i < Amount.length();i++) {\n+\t\t\t\t\tint x = sstr[i] - '0';\n+\t\t\t\t\tif (!(x >= 0 && x <= 9)) {\n+\t\t\t\t\t\tout.println(\"��������ȷ��ת�˽��\");\n+\t\t\t\t\t\tflat = false;\n+\t\t\t\t\t\tbreak;\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t}\n+\t\t\tif (flat) {\n+\t\t\t\tConnection conn = null;\n+\t\t\t\tPreparedStatement stmt = null;\n+\t\t        DBBean db = new DBBean();\n+\t\t\t\ttry {\n+\t\t\t        conn = db.getConnection();\n+\t\t\t        String sql = \"insert into transfer values(?,?)\";\n+\t\t\t        stmt = db.getPreparedStatement(sql);\n+\t\t\t        stmt.setString(1,Account);\n+\t\t\t        stmt.setString(2,Amount);\n+\t\t\t        stmt.executeUpdate();\n+\t\t\t        db.closeResource(conn,null,stmt);\n+\t\t\t\t} catch (SQLException e) {\n+\t\t\t\t\te.printStackTrace();\n+\t\t\t\t}\n+\t\t\t\tout.println(\"ת�˳ɹ�\");\n+\t\t\t}\n+\t\t}\n+//\t\tString Account = \"1414080902205\";\n+//\t\tString Amount = \"1414080902205\";\n+//\t\tout.println(Account);\n+//\t\tout.println(Amount);\n+//\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+////\t\tout.println(\"<HTML>\");\n+////\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+////\t\tout.println(\"  <BODY>\");\n+////\t\tout.print(\"    This is \");\n+////\t\tout.print(this.getClass());\n+////\t\tout.println(\", using the POST method\");\n+////\t\tout.println(\"  </BODY>\");\n+////\t\tout.println(\"</HTML>\");\n+////\t\tout.flush();\n+////\t\tout.close();\n+\t}\n+\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "098362a9a4dc2aaee3adaea59ccb85c781f3dd37",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902206/Encodingfilter.java",
    "status" : "added",
    "additions" : 31,
    "deletions" : 0,
    "changes" : 31,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902206/Encodingfilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902206/Encodingfilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902206/Encodingfilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,31 @@\n+package text_filter;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(\"/Encodingfilter\")\n+public class Encodingfilter implements Filter {\n+\n+    public Encodingfilter() {\n+       \n+    }\n+\n+\tpublic void destroy() {\n+\t}\n+\n+\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+        request.setCharacterEncoding(\"utf-8\");\n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t}\n+\n+}"
  }, {
    "sha" : "a8cfa3985077f4f7c4714937172a43f96d3e677f",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902206/LoginServlet.java",
    "status" : "added",
    "additions" : 52,
    "deletions" : 0,
    "changes" : 52,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902206/LoginServlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902206/LoginServlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902206/LoginServlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,52 @@\n+package edu.hzu.javaweb.labs.se1414080902206;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet implementation class LoginServlet\n+ */\n+@WebServlet(\"/LoginServlet\")\n+public class LoginServlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public LoginServlet() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t  request.setCharacterEncoding(\"utf-8\");\n+\t\t  HttpSession session = request.getSession();\n+\t\t  Login_Passenger passenger = new Login_Passenger();\n+\t\t  if(request.getParameter(\"Username\")!= null)\n+\t\t  passenger.setUsername(request.getParameter(\"Username\"));\n+\t\t  if(request.getParameter(\"Email\")!= null)\n+\t\t  passenger.setEmail(request.getParameter(\"Email\"));\n+\t\t  if(request.getParameter(\"Password\")!= null)\n+\t\t  passenger.setPassword(request.getParameter(\"Password\"));\n+\t\t  session.setAttribute(\"Passenger\", passenger);\n+\t\t  if(session.getAttribute(\"Passenger\") != null)\n+\t\t  request.getRequestDispatcher(\"/index.jsp\").forward(request, response);\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "a84c19f152b97fecf884145babc3bbb540da63d1",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902206/Login_Passenger.java",
    "status" : "added",
    "additions" : 37,
    "deletions" : 0,
    "changes" : 37,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902206/Login_Passenger.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902206/Login_Passenger.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902206/Login_Passenger.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,37 @@\n+package edu.hzu.javaweb.labs.se1414080902206;\n+\n+public class Login_Passenger {\n+\n+\tprivate String username,password,email;\n+    public Login_Passenger(){};\n+    public Login_Passenger(String username,String password,String email)\n+    {\n+    \tthis.username = username;\n+    \tthis.password = password;\n+    \tthis.email = email;\n+    }\n+    public String getUsername()\n+    {\n+    \treturn username;\n+    }\n+    public void setUsername(String username)\n+    {\n+    \tthis.username = username;\n+    }\n+    public String getPassword()\n+    {\n+    \treturn password;\n+    }\n+    public void setPassword(String password)\n+    {\n+    \tthis.password = password;\n+    }\n+    public String getEmail()\n+    {\n+    \treturn email;\n+    }\n+    public void setEmail(String email)\n+    {\n+    \tthis.email = email;\n+    }\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "02707673d328f1b6eb8d05d69b90e31a7355ec99",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902206/Loginfilter.java",
    "status" : "added",
    "additions" : 46,
    "deletions" : 0,
    "changes" : 46,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902206/Loginfilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902206/Loginfilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902206/Loginfilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,46 @@\n+package text_filter;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+\n+@WebFilter(\"/Loginfilter\")\n+public class Loginfilter implements Filter {\n+    public Loginfilter() {\n+\n+    }\n+\n+\tpublic void destroy() {\n+\n+\t}\n+\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest requ = (HttpServletRequest)request;\n+\t\tHttpServletResponse resp = (HttpServletResponse)response;\n+\t\tHttpSession session = requ.getSession(true);\n+\t\tif(session.getAttribute(\"username\") !=\"\" && session.getAttribute(\"email\") !=\"\" && session.getAttribute(\"password\") !=\"\")\n+\t\t{\n+           resp.sendRedirect(\"index.jsp\");\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tchain.doFilter(request, response);\n+\t\t}\n+\t}\n+\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "6e7ce21d8920e7c5f3d546abf51626c2df963fff",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902206/Se1414080902206Sevlet.java",
    "status" : "added",
    "additions" : 27,
    "deletions" : 0,
    "changes" : 27,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902206/Se1414080902206Sevlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902206/Se1414080902206Sevlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902206/Se1414080902206Sevlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,27 @@\n+package edu.hzu.javaweb.labs.se1414080902206;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class Se1414080902206Servlet extends HttpServlet {\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tdoPost(request, response);\n+\t\t\n+\t}\n+\t\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"You're already to submit! \");\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "54c0bf4a0b517d051fe59edeeafa4b00df9de54a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppActionAop.java",
    "status" : "added",
    "additions" : 77,
    "deletions" : 0,
    "changes" : 77,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppActionAop.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppActionAop.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppActionAop.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,77 @@\n+package indi.xiao.ext.aop;\r\n+\r\n+import indi.xiao.ext.common.AppBaseService;\r\n+import indi.xiao.ext.util.JsonUtil;\r\n+import org.aspectj.lang.ProceedingJoinPoint;\r\n+import org.aspectj.lang.annotation.Around;\r\n+import org.aspectj.lang.annotation.Aspect;\r\n+import org.aspectj.lang.annotation.Pointcut;\r\n+import org.slf4j.Logger;\r\n+import org.slf4j.LoggerFactory;\r\n+\r\n+import javax.annotation.Resource;\r\n+import javax.servlet.http.Cookie;\r\n+import javax.servlet.http.HttpServletRequest;\r\n+import javax.servlet.http.HttpServletResponse;\r\n+import java.util.List;\r\n+\r\n+/**\r\n+ * 请求拦截处理,\r\n+ * 对于任何action请求进行拦截,\r\n+ * 做验证处理.\r\n+ *\r\n+ * @Author xiaoyq\r\n+ */\r\n+@Aspect\r\n+public class AppActionAop extends AppBaseService {\r\n+    public static Logger logger = LoggerFactory.getLogger(AppActionAop.class);\r\n+\r\n+    @Pointcut(\"execution(* indi.xiao.app.*.action..*(..))\")\r\n+    private void anyMethod() {\r\n+    }\r\n+\r\n+    @Around(\"anyMethod()\")\r\n+    public Object appsActionMethod(ProceedingJoinPoint pjp) throws Throwable {\r\n+\r\n+        Object[] obs = pjp.getArgs();\r\n+        HttpServletRequest request = null;\r\n+        HttpServletResponse response = null;\r\n+        Boolean loginFlag = false;\r\n+\r\n+        if (obs != null) {\r\n+            for (int i = 0; i < obs.length; i++) {\r\n+                Object obj = obs[i];\r\n+                if (obj instanceof HttpServletRequest) {\r\n+                    request = (HttpServletRequest) obj;\r\n+                }\r\n+                if (obj instanceof HttpServletResponse) {\r\n+                    response = (HttpServletResponse) obj;\r\n+                }\r\n+            }\r\n+\r\n+            // 如果拦截到的类继承了接口LoginAopSkip，不执行登陆验证\r\n+            if (!(pjp.getThis() instanceof LoginAopSkip)) {\r\n+                //校验登陆合法性，cookie校验\r\n+                Cookie[] cookies = request.getCookies();\r\n+                if(cookies!=null && cookies.length>0){\r\n+                    for (Cookie ck : cookies) {\r\n+                        if (\"login\".equals(ck.getName()) && ck.getValue() != null) {\r\n+                            loginFlag = true;\r\n+                        }\r\n+                    }\r\n+                }\r\n+            }else{\r\n+                loginFlag = true;\r\n+            }\r\n+\r\n+            // 登陆验证通过时，进行权限验证\r\n+            if (loginFlag) {\r\n+                pjp.proceed();\r\n+            } else {\r\n+                response.sendRedirect(\"/infoManager/login.html\");\r\n+            }\r\n+        }\r\n+        return \"\";\r\n+    }\r\n+\r\n+}\r"
  }, {
    "sha" : "580036eba88581a024296c63b86597c97b8303f9",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppBase.java",
    "status" : "added",
    "additions" : 50,
    "deletions" : 0,
    "changes" : 50,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppBase.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppBase.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppBase.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,50 @@\n+package indi.xiao.ext.common;\r\n+\r\n+import org.slf4j.Logger;\r\n+import org.slf4j.LoggerFactory;\r\n+import org.springframework.context.ApplicationContext;\r\n+import org.springframework.context.support.ApplicationObjectSupport;\r\n+\r\n+import javax.servlet.http.HttpServletResponse;\r\n+import java.io.PrintWriter;\r\n+\r\n+/**\r\n+ * 对ApplicationObjectSupport的功能拓展.\r\n+ * 其他Service的类都继承本类.\r\n+ *\r\n+ * @Author xiaoyq\r\n+ */\r\n+public abstract class AppBase extends ApplicationObjectSupport {\r\n+    public static Logger logger = LoggerFactory.getLogger(AppBase.class);\r\n+\r\n+    public ApplicationContext applicationContext;\r\n+\r\n+    public AppBase(){\r\n+\r\n+    }\r\n+\r\n+    public ApplicationContext getContext(){\r\n+        return this.getApplicationContext();\r\n+    }\r\n+\r\n+    public Object getBean(String id){\r\n+        return this.getContext().getBean(id);\r\n+    }\r\n+\r\n+    public void postStrToClient(String json,HttpServletResponse response){\r\n+        try{\r\n+            response.setContentType(\"text/html;charset=utf-8\");\r\n+            PrintWriter pw = response.getWriter();\r\n+            pw.write(json);\r\n+            pw.flush();\r\n+            pw.close();\r\n+        }catch (Exception e){\r\n+            logger.error(\"AppBase  -- postStrToClient error \" + json, e);\r\n+        }\r\n+\r\n+    }\r\n+\r\n+    public static void main(String[] args)throws Exception{\r\n+\r\n+    }\r\n+}\r"
  }, {
    "sha" : "2ec7b3bb57a1466665bcdf181d5bf70cd5b9e283",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppBaseAction.java",
    "status" : "added",
    "additions" : 10,
    "deletions" : 0,
    "changes" : 10,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppBaseAction.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppBaseAction.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppBaseAction.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,10 @@\n+package indi.xiao.ext.common;\r\n+\r\n+/**\r\n+ * Created by Administrator on 2016/10/18.\r\n+ */\r\n+public class AppBaseAction extends AppBase {\r\n+    public AppBaseAction(){\r\n+\r\n+    }\r\n+}\r"
  }, {
    "sha" : "2b180c6fd013ed8c8919a83aa7887b5bed0ee1e5",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppBaseService.java",
    "status" : "added",
    "additions" : 30,
    "deletions" : 0,
    "changes" : 30,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppBaseService.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppBaseService.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902207/AppBaseService.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,30 @@\n+package indi.xiao.ext.common;\r\n+\r\n+import org.apache.ibatis.session.SqlSession;\r\n+import org.apache.ibatis.session.SqlSessionFactory;\r\n+import org.slf4j.Logger;\r\n+import org.slf4j.LoggerFactory;\r\n+\r\n+import java.util.Map;\r\n+\r\n+/**\r\n+ * 对AppBase的功能拓展.\r\n+ * 其他Service的类都实现本类.\r\n+ *\r\n+ * @Author xiaoyq\r\n+ */\r\n+public abstract class AppBaseService extends AppBase{\r\n+    public static Logger logger = LoggerFactory.getLogger(AppBaseService.class);\r\n+\r\n+    private final String APPDBSOURCE = \"appDBSource\";\r\n+\r\n+    public AppBaseService() {\r\n+    }\r\n+\r\n+\r\n+    public SqlSession getSqlSession() throws Exception {\r\n+        SqlSessionFactory sqlMap = (SqlSessionFactory)this.getContext().getBean(APPDBSOURCE);\r\n+        return sqlMap.openSession();\r\n+    }\r\n+\r\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "cf1b7268806c1ab6be6396008207143daa43a18e",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902207/B_organization-mapper.xml",
    "status" : "added",
    "additions" : 159,
    "deletions" : 0,
    "changes" : 159,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/B_organization-mapper.xml",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/B_organization-mapper.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902207/B_organization-mapper.xml?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,159 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n+<!DOCTYPE mapper PUBLIC \"-//ibatis.apache.org//DTD Mapper 3.0//EN\" \"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd\">\r\n+\r\n+<mapper namespace=\"Organization\">\r\n+\r\n+    <!-- 模板 慎用 会导致没有where 项时 查出全部数据，要用的话要在业务逻辑中增加查询验证标准-->\r\n+    <select id=\"select\" parameterType=\"OrganizationPojo\" resultType=\"OrganizationPojo\">\r\n+        select id,code,name,description,pcode,sort from organization\r\n+        <trim prefix=\"WHERE\" prefixOverrides=\"AND |OR \">\r\n+            <if test=\"id !='' and id !=null\">\r\n+                and `id` = #{id}\r\n+            </if>\r\n+\r\n+            <if test=\"code !='' and code !=null\">\r\n+                and `code` = #{code}\r\n+            </if>\r\n+\r\n+            <if test=\"name !='' and name !=null\">\r\n+                and `name` = #{name}\r\n+            </if>\r\n+\r\n+            <if test=\"description !='' and description !=null\">\r\n+                and `description` = #{description}\r\n+            </if>\r\n+\r\n+            <if test=\"pcode !='' and pcode !=null\">\r\n+                and `pcode` = #{pcode}\r\n+            </if>\r\n+\r\n+            <if test=\"sort !='' and sort !=null\">\r\n+                and `sort` = #{sort}\r\n+            </if>\r\n+\r\n+            <if test=\"disable !='' and disable !=null\">\r\n+                and `disable` = #{disable}\r\n+            </if>\r\n+        </trim>\r\n+    </select>\r\n+\r\n+    <select id=\"selectById\" parameterType=\"java.util.HashMap\" resultType=\"OrganizationPojo\">\r\n+        select id,code,name,description,pcode,sort from organization where id=#{id}\r\n+    </select>\r\n+\r\n+    <select id=\"selectMaxSort\" parameterType=\"java.util.HashMap\" resultType=\"java.lang.String\">\r\n+        select max(sort) from organization WHERE pcode = #{pcode} and disable = \"0\";\r\n+    </select>\r\n+\r\n+    <select id=\"selectByIds\" parameterType=\"java.util.List\" resultType=\"OrganizationPojo\">\r\n+        select id,code,name,description,pcode,sort from organization\r\n+        where disable = \"0\" and id in\r\n+        <foreach item=\"idItem\" collection=\"list\" open=\"(\" separator=\",\" close=\")\">\r\n+            #{idItem}\r\n+        </foreach>\r\n+    </select>\r\n+\r\n+    <select id=\"selectByCode\" parameterType=\"java.util.HashMap\" resultType=\"OrganizationPojo\">\r\n+        select id,code,name,description,pcode,sort from organization\r\n+        where code=#{code} AND disable=\"0\"\r\n+    </select>\r\n+\r\n+    <select id=\"selectByCodes\" parameterType=\"java.util.HashMap\" resultType=\"OrganizationPojo\">\r\n+        select id,code,name,description,pcode,sort from organization\r\n+        <trim prefix=\"WHERE\" prefixOverrides=\"AND |OR \">\r\n+            <if test=\"list !=null\">\r\n+                and `code` in\r\n+                <foreach item=\"idItem\" collection=\"list\" open=\"(\" separator=\",\" close=\")\">\r\n+                    #{idItem}\r\n+                </foreach>\r\n+            </if>\r\n+        </trim>\r\n+    </select>\r\n+\r\n+    <select id=\"selectChild\" parameterType=\"java.util.HashMap\" resultType=\"OrganizationPojo\">\r\n+        select id,code,name,description,pcode,sort from organization\r\n+        where pcode=#{code} AND prjCode=#{prjCode} AND disable=\"0\"\r\n+    </select>\r\n+\r\n+    <select id=\"selectAllCode\" parameterType=\"java.util.HashMap\" resultType=\"java.lang.String\">\r\n+        select code from organization where disable=\"0\"\r\n+    </select>\r\n+\r\n+    <select id=\"exist\" parameterType=\"java.util.HashMap\" resultType=\"java.lang.String\">\r\n+        select 1 from organization WHERE code=#{code} limit 1\r\n+    </select>\r\n+\r\n+\r\n+    <insert id=\"insert\" parameterType=\"OrganizationPojo\">\r\n+        INSERT INTO organization\r\n+        (id,code,name,description,pcode,sort)\r\n+        VALUES\r\n+        (#{id},#{code},#{name},#{description},#{pcode},#{sort})\r\n+    </insert>\r\n+\r\n+    <update id=\"updateById\" parameterType=\"OrganizationPojo\">\r\n+        update organization\r\n+        <trim prefix=\"SET\" suffixOverrides=\",\">\r\n+            <if test=\"id !='' and id !=null\">\r\n+                `id` = #{id},\r\n+            </if>\r\n+            <if test=\"code !='' and code !=null\">\r\n+                `code` = #{code},\r\n+            </if>\r\n+            <if test=\"name !='' and name !=null\">\r\n+                `name` = #{name},\r\n+            </if>\r\n+            <if test=\"description !='' and description !=null\">\r\n+                `description` = #{description},\r\n+            </if>\r\n+            <if test=\"pcode !='' and pcode !=null\">\r\n+                `pcode` = #{pcode},\r\n+            </if>\r\n+            <if test=\"sort !='' and sort !=null\">\r\n+                `sort` = #{sort},\r\n+            </if>\r\n+        </trim>\r\n+        where id=#{id}\r\n+    </update>\r\n+\r\n+    <delete id=\"deleteById\" parameterType=\"java.util.HashMap\">\r\n+        DELETE FROM organization where id=#{id}\r\n+    </delete>\r\n+\r\n+    <delete id=\"deleteByIds\" parameterType=\"java.util.List\">\r\n+        DELETE FROM organization where id in\r\n+        <foreach item=\"idItem\" collection=\"list\" open=\"(\" separator=\",\" close=\")\">\r\n+            #{idItem}\r\n+        </foreach>\r\n+    </delete>\r\n+\r\n+    <!--此处的关联删除为删除该组织下的子组织-->\r\n+    <update id=\"deleteRelation\" parameterType=\"java.util.HashMap\">\r\n+        update organization set disable = 1\r\n+        <trim prefix=\"WHERE\" prefixOverrides=\"AND |OR \">\r\n+            <if test=\"pcode !='' and pcode !=null\">\r\n+                and `pcode` = #{pcode}\r\n+            </if>\r\n+        </trim>\r\n+    </update>\r\n+\r\n+    <!--依据id更新排序值-->\r\n+    <update id=\"updateSortById\" parameterType=\"java.util.HashMap\">\r\n+        update organization set sort = #{sort}\r\n+        <trim prefix=\"WHERE\" prefixOverrides=\"AND |OR \">\r\n+            <if test=\"id !='' and id !=null\">\r\n+                `id` = #{id}\r\n+            </if>\r\n+        </trim>\r\n+    </update>\r\n+\r\n+    <!--依据id更新父组织码-->\r\n+    <update id=\"updatePcodeByIdList\" parameterType=\"java.util.HashMap\">\r\n+        update organization set pcode = #{pcode}\r\n+        where id in\r\n+        <foreach item=\"idItem\" collection=\"list\" open=\"(\" separator=\",\" close=\")\">\r\n+            #{idItem}\r\n+        </foreach>\r\n+    </update>\r\n+\r\n+</mapper>\n\\ No newline at end of file"
  }, {
    "sha" : "ddd4cf88d37973271d7c83762ed0f1823f3b5634",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902207/ClientResUtil.java",
    "status" : "added",
    "additions" : 27,
    "deletions" : 0,
    "changes" : 27,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/ClientResUtil.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/ClientResUtil.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902207/ClientResUtil.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,27 @@\n+package indi.xiao.ext.util;\r\n+\r\n+import org.slf4j.Logger;\r\n+import org.slf4j.LoggerFactory;\r\n+\r\n+import java.util.LinkedHashMap;\r\n+import java.util.Map;\r\n+\r\n+/**\r\n+ * Created by Administrator on 2016/10/18.\r\n+ */\r\n+public class ClientResUtil {\r\n+    public static Logger logger =  LoggerFactory.getLogger(ClientResUtil.class);\r\n+    public static String getResponseToClient(boolean success,String extInfo,Object dataArea){\r\n+        Map<String,Object> map = new LinkedHashMap<>();\r\n+        map.put(\"success\",success);\r\n+        map.put(\"msg\",extInfo);\r\n+        map.put(\"data\",dataArea);\r\n+        String reJson = \"\";\r\n+        try{\r\n+            reJson = JsonUtil.objectToJson(map);\r\n+        }catch (Exception e){\r\n+            logger.error(\"ClientResUtil getResponseToClient 对象json转换异常: \" + map);\r\n+        }\r\n+        return reJson;\r\n+    }\r\n+}\r"
  }, {
    "sha" : "33f8c0407a23bcc00b02c8d39358bc161f81ff82",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902207/JsonUtil.java",
    "status" : "added",
    "additions" : 57,
    "deletions" : 0,
    "changes" : 57,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/JsonUtil.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/JsonUtil.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902207/JsonUtil.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,57 @@\n+package indi.xiao.ext.util;\r\n+\r\n+import com.fasterxml.jackson.databind.ObjectMapper;\r\n+import org.slf4j.Logger;\r\n+import org.slf4j.LoggerFactory;\r\n+\r\n+import java.util.LinkedHashMap;\r\n+import java.util.Map;\r\n+\r\n+/**\r\n+ * Created by Administrator on 2016/10/18.\r\n+ */\r\n+public class JsonUtil {\r\n+    public static Logger logger = LoggerFactory.getLogger(JsonUtil.class);\r\n+    public static ObjectMapper mapper = new ObjectMapper();\r\n+    public static String objectToJson(Object obj) throws Exception{\r\n+        String json = mapper.writeValueAsString(obj);\r\n+        return json;\r\n+    }\r\n+\r\n+    public static String genInfoJsonStr(boolean success,String extInfo,Object dataArea){\r\n+        Map<String,Object> map = new LinkedHashMap<>();\r\n+        map.put(\"success\",success);\r\n+        map.put(\"msg\",extInfo);\r\n+        map.put(\"data\",dataArea);\r\n+        String reJson = \"\";\r\n+        try{\r\n+            reJson = JsonUtil.objectToJson(map);\r\n+        }catch (Exception e){\r\n+            logger.error(\"ClientResUtil getResponseToClient 对象json转换异常: \" + map);\r\n+        }\r\n+        return reJson;\r\n+    }\r\n+\r\n+    public static String genInfoJsonStr(boolean success, String extInfo){\r\n+        Map<String,Object> map = new LinkedHashMap<>();\r\n+        map.put(\"success\",success);\r\n+        map.put(\"msg\",extInfo);\r\n+        String reJson = \"\";\r\n+        try{\r\n+            reJson = JsonUtil.objectToJson(map);\r\n+        }catch (Exception e){\r\n+            logger.error(\"ClientResUtil getResponseToClient 对象json转换异常: \" + map);\r\n+        }\r\n+        return reJson;\r\n+    }\r\n+\r\n+    public static String genInfoJsonStr(Object info){\r\n+        String reJson = \"\";\r\n+        try{\r\n+            reJson = JsonUtil.objectToJson(info);\r\n+        }catch (Exception e){\r\n+            logger.error(\"ClientResUtil getResponseToClient 对象json转换异常: \" + info);\r\n+        }\r\n+        return reJson;\r\n+    }\r\n+}\r"
  }, {
    "sha" : "09db29868a976ec99a9c1ee5bc77445df5bc9695",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902207/LoginAopSkip.java",
    "status" : "added",
    "additions" : 11,
    "deletions" : 0,
    "changes" : 11,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/LoginAopSkip.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/LoginAopSkip.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902207/LoginAopSkip.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,11 @@\n+package indi.xiao.ext.aop;\r\n+\r\n+/**\r\n+ * 实现本接口的类不会被AOP登陆验证拦截.\r\n+ *\r\n+ * @Date 2016/04/22\r\n+ * @Author lidong\r\n+ */\r\n+public interface LoginAopSkip {\r\n+\r\n+}\r"
  }, {
    "sha" : "1a2ea3bc3cb92e4cd817f24d3b4e67149ef95274",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902207/OrganizationAction.java",
    "status" : "added",
    "additions" : 267,
    "deletions" : 0,
    "changes" : 267,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/OrganizationAction.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/OrganizationAction.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902207/OrganizationAction.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,267 @@\n+package indi.xiao.app.organization.action;\r\n+\r\n+import indi.xiao.app.databaseDef.OrganizationPojo;\r\n+import indi.xiao.ext.common.AppBaseAction;\r\n+import indi.xiao.ext.util.JsonUtil;\r\n+import org.slf4j.Logger;\r\n+import org.slf4j.LoggerFactory;\r\n+import org.springframework.stereotype.Controller;\r\n+import org.springframework.web.bind.annotation.RequestMapping;\r\n+import org.springframework.web.bind.annotation.RequestParam;\r\n+import indi.xiao.app.organization.OrganizationService;\r\n+\r\n+import javax.annotation.Resource;\r\n+import javax.servlet.http.HttpServletRequest;\r\n+import javax.servlet.http.HttpServletResponse;\r\n+import java.util.Arrays;\r\n+import java.util.HashMap;\r\n+import java.util.List;\r\n+import java.util.Map;\r\n+\r\n+/**\r\n+ * 组织处理\r\n+ *\r\n+ * @author zhongyuan.yang\r\n+ */\r\n+@Controller\r\n+@RequestMapping(\"/organization\")\r\n+public class OrganizationAction extends AppBaseAction {\r\n+    public static Logger logger = LoggerFactory.getLogger(OrganizationAction.class);\r\n+\r\n+    @Resource(name = \"OrganizationService\")\r\n+    private OrganizationService OrganizationService;\r\n+    \r\n+\r\n+    /**\r\n+     * 修改组织对象\r\n+     *\r\n+     * @param params   HashMap<String,String>\r\n+     * @param pojo     OrganizationPojo\r\n+     * @param request  HttpServletRequest\r\n+     * @param response HttpServletResponse\r\n+     */\r\n+    @RequestMapping(\"doUpdateOrg\")\r\n+    public void doUpdateOrg(@RequestParam HashMap<String, String> params, OrganizationPojo pojo, HttpServletRequest request, HttpServletResponse response) {\r\n+\r\n+        //参数检查\r\n+        String id = params.get(\"id\");\r\n+        String code = params.get(\"code\");\r\n+\r\n+        if (code == null || code.length() == 0) {\r\n+            logger.error(\"OrganizationAction --- doUpdateOrg error . \" + JsonUtil.genInfoJsonStr(pojo), \"参数异常，没有传入组织码code。\");\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"参数异常，没有传入组织码code。\"),response);\r\n+            return;\r\n+        }\r\n+        if (id==null && id.length() <= 0) {\r\n+            logger.error(\"OrganizationAction --- doUpdateOrg error . \" + JsonUtil.genInfoJsonStr(pojo), \"参数异常，没有传入唯一标志id。\");\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"参数异常，没有传入唯一标志id。\"), response);\r\n+            return;\r\n+        }\r\n+        try {\r\n+\r\n+            // 获取更新前的组织数据\r\n+            if(OrganizationService.selectById(pojo.getId())==null) {\r\n+                postStrToClient(JsonUtil.genInfoJsonStr(false, \"所要更新组织不存在\", pojo), response);\r\n+                return;\r\n+            }\r\n+            // 更新组织数据\r\n+            OrganizationService.updateById(pojo);\r\n+\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(true, \"组织修改成功。\", pojo), response);\r\n+            return;\r\n+        } catch (Exception x) {\r\n+            logger.error(\"OrganizationAction --- doSave error . \" + JsonUtil.genInfoJsonStr(pojo), x);\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"操作由于异常失败。\", pojo), response);\r\n+        }\r\n+    }\r\n+\r\n+\r\n+    /**\r\n+     * 添加组织对象\r\n+     *\r\n+     * @param params   HashMap<String,String>\r\n+     * @param pojo     OrganizationPojo\r\n+     * @param request  HttpServletRequest\r\n+     * @param response HttpServletResponse\r\n+     */\r\n+    @RequestMapping(\"doAddOrg\")\r\n+    public void doAddOrg(@RequestParam HashMap<String, String> params, OrganizationPojo pojo, HttpServletRequest request, HttpServletResponse response) {\r\n+\r\n+        // 登陆用户所属prjCode的获取\r\n+        String prjCode = params.get(\"u_prjCode\");\r\n+        // 必须传入参数\r\n+        if (prjCode == null || \"\".equals(prjCode)) {\r\n+            logger.error(\"OrganizationAction --- doSave error . 参数异常，没有传入服务标识\");\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"参数异常，没有传入服务标识\", prjCode), response);\r\n+            return;\r\n+        }\r\n+\r\n+        //参数检查\r\n+        String code = pojo.getCode();\r\n+        String pcode = pojo.getPcode();\r\n+\r\n+        if (code == null || \"\".equals(code)) {\r\n+            logger.error(\"OrganizationAction --- doAddOrg error . \" + JsonUtil.genInfoJsonStr(pojo), \"参数异常，没有传入组织码code。\");\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"参数异常，没有传入组织码code。\"), response);\r\n+            return;\r\n+        }\r\n+\r\n+        if (pcode==null && \"\".equals(pcode)) {\r\n+            logger.error(\"OrganizationAction --- doAddOrg error . \" + JsonUtil.genInfoJsonStr(pojo), \"参数异常，没有传入父组织码pcode。\");\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"参数异常，没有传入父组织码pcode\"), response);\r\n+            return;\r\n+        }\r\n+\r\n+        try {\r\n+\r\n+            // 是否已存在该组织\r\n+            if(OrganizationService.exist(pojo.getCode())){\r\n+                postStrToClient(JsonUtil.genInfoJsonStr(false, \"该组织已存在\", pojo), response);\r\n+                return;\r\n+            }\r\n+            // 新建\r\n+            OrganizationService.insert(pojo);\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(true, \"组织新建成功。\", pojo), response);\r\n+        } catch (Exception x) {\r\n+            x.printStackTrace();\r\n+            logger.error(\"OrganizationAction --- doSave error . \" + JsonUtil.genInfoJsonStr(pojo), x);\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"操作由于异常失败。\", pojo), response);\r\n+        }\r\n+    }\r\n+\r\n+\r\n+    /**\r\n+     * 更新组织关系的顺序关系\r\n+     *\r\n+     * @param params   HashMap<String,String>\r\n+     * @param pojo     OrganizationPojo\r\n+     * @param request  HttpServletRequest\r\n+     * @param response HttpServletResponse\r\n+     */\r\n+    @RequestMapping(\"doUpdateOrgTree\")\r\n+    public void doUpdateOrgTree(@RequestParam HashMap<String, String> params, OrganizationPojo pojo, HttpServletRequest request, HttpServletResponse response){\r\n+\r\n+        String ids = params.get(\"ids\");\r\n+        String midIds = params.get(\"midIds\");\r\n+        if (midIds.length() <=0 || ids.length() <= 0) {\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"未重排组织。。\", ids), response);\r\n+            return;\r\n+        }\r\n+        String minSort = params.get(\"minSort\");\r\n+        if (minSort==null||!minSort.matches(\"\\\\d+(.\\\\d+)?\")) {\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"未知的排序参数。。\", minSort), response);\r\n+            return;\r\n+        }\r\n+\r\n+        String pcode = params.get(\"pcode\");\r\n+        if (pcode == null || \"\".equals(pcode)) {\r\n+            logger.error(\"OrganizationAction --- doUpdateOrgTree error . 参数异常，没有传入父组织码\");\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"参数异常，没有传入父组织码\", pcode), response);\r\n+            return;\r\n+        }\r\n+\r\n+        try {\r\n+            OrganizationService.updateOrgTreeByIds(midIds, ids, pcode, minSort);\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(true, \"组织关系更新成功。\", ids), response);\r\n+            return;\r\n+        } catch (Exception x) {\r\n+            logger.error(\"OrganizationAction --- doUpdateOrgTree error . \" + ids, x);\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"操作由于异常失败。\", ids), response);\r\n+        }\r\n+    }\r\n+\r\n+    /**\r\n+     * 删除组织对象\r\n+     *\r\n+     * @param params   HashMap<String,String>\r\n+     * @param pojo     OrganizationPojo\r\n+     * @param request  HttpServletRequest\r\n+     * @param response HttpServletResponse\r\n+     */\r\n+    @RequestMapping(\"doDelete\")\r\n+    public void doDelete(@RequestParam HashMap<String, String> params, OrganizationPojo pojo, HttpServletRequest request, HttpServletResponse response) {\r\n+\r\n+        String ids = params.get(\"ids\");\r\n+        if (ids.length() <= 0) {\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"请选择要删除的数据。。\", ids), response);\r\n+            return;\r\n+        }\r\n+        try {\r\n+\r\n+            String[] ids_ = ids.split(\",\");\r\n+            List idlist = Arrays.asList(ids_);\r\n+            for (OrganizationPojo pojos : OrganizationService.selectByIds(idlist)) {\r\n+                // 更新组织disable为1，逻辑删除子组织\r\n+                OrganizationService.updataDisable(idlist);\r\n+                OrganizationService.deleteRelation(pojos.getCode());\r\n+            }\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(true, \"数据删除成功。\", ids), response);\r\n+            return;\r\n+        } catch (Exception x) {\r\n+            logger.error(\"OrganizationAction --- doDelete error . \" + ids, x);\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"操作由于异常失败。\", ids), response);\r\n+        }\r\n+    }\r\n+\r\n+    /**\r\n+     * 拉取组织树信息\r\n+     * 显示在页面上\r\n+     *\r\n+     * @param params\r\n+     * @param pojo\r\n+     * @param request\r\n+     * @param response\r\n+     */\r\n+    @RequestMapping(\"doSelectAllOrgTree\")\r\n+    public void doSelectAllOrgTree(@RequestParam HashMap<String, String> params, OrganizationPojo pojo, HttpServletRequest request, HttpServletResponse response) {\r\n+\r\n+        try {\r\n+\r\n+            pojo.setDisable(\"0\");\r\n+            List<OrganizationPojo> pojoList = OrganizationService.select(pojo);\r\n+\r\n+            List<OrganizationPojo> orgTree = OrganizationService.getOrgTree(pojoList,\"-1\");\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(orgTree), response);\r\n+        } catch (Exception x) {\r\n+            //执行过程中出现异常，则记录log，并返回错误消息\r\n+            logger.error(\"OrganizationAction --- doSelectAllOrgTree error . \" + JsonUtil.genInfoJsonStr(pojo), x);\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"操作由于异常失败。\", pojo), response);\r\n+        }\r\n+    }\r\n+\r\n+\r\n+    /**\r\n+     * 拉取组织树信息(查询结果）\r\n+     * 显示在页面上\r\n+     *\r\n+     * @param params\r\n+     * @param pojo\r\n+     * @param request\r\n+     * @param response\r\n+     */\r\n+    @RequestMapping(\"doSelectOneOrgTree\")\r\n+    public void doSelectOneOrgTree(@RequestParam HashMap<String, String> params, OrganizationPojo pojo, HttpServletRequest request, HttpServletResponse response) {\r\n+\r\n+\r\n+        //组织名称\r\n+        String orgName = params.get(\"orgName\");\r\n+        if (orgName == null || orgName.length() == 0) {\r\n+            logger.error(\"OrganizationAction --- doSelectOneOrgTree error . \" + JsonUtil.genInfoJsonStr(pojo), \"参数异常，没有传入组织名称。\");\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"参数异常，没有传入组织名称。\"), response);\r\n+            return;\r\n+        }\r\n+\r\n+        try {\r\n+\r\n+            pojo.setDisable(\"0\");\r\n+            List<OrganizationPojo> pojoList = OrganizationService.select(pojo);\r\n+\r\n+            List<OrganizationPojo> orgTree = OrganizationService.getOrgTreeByName(pojoList,orgName);\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(orgTree), response);\r\n+        } catch (Exception x) {\r\n+            //执行过程中出现异常，则记录log，并返回错误消息\r\n+            logger.error(\"OrganizationAction --- doSelectOneOrgTree error . \" + JsonUtil.genInfoJsonStr(pojo), x);\r\n+            postStrToClient(JsonUtil.genInfoJsonStr(false, \"操作由于异常失败。\", pojo), response);\r\n+        }\r\n+    }\r\n+}\r"
  }, {
    "sha" : "403747c1bf530d80e7882936ee7a221f7606f059",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902207/OrganizationPojo.java",
    "status" : "added",
    "additions" : 133,
    "deletions" : 0,
    "changes" : 133,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/OrganizationPojo.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/OrganizationPojo.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902207/OrganizationPojo.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,133 @@\n+package indi.xiao.app.databaseDef;\r\n+\r\n+import java.util.List;\r\n+\r\n+/**\r\n+ * Created by Administrator on 2016/8/25.\r\n+ */\r\n+public class OrganizationPojo implements Comparable<OrganizationPojo>{\r\n+\r\n+    /**\r\n+     * 业务无关主键\r\n+     */\r\n+    private String id;\r\n+\r\n+    /**\r\n+     * 组织代码\r\n+     */\r\n+    private String code;\r\n+\r\n+    /**\r\n+     * 组织名称\r\n+     */\r\n+    private String name;\r\n+\r\n+    /**\r\n+     * 说明\r\n+     */\r\n+    private String description;\r\n+\r\n+    /**\r\n+     * 父节点代码\r\n+     */\r\n+    private String pcode;\r\n+\r\n+    /**\r\n+     * 节点排序序号\r\n+     */\r\n+    private Integer sort;\r\n+\r\n+    /**\r\n+     * 逻辑删除标志\r\n+     */\r\n+    private String disable;\r\n+\r\n+    /**\r\n+     * 是否已递归标志，默认false\r\n+     */\r\n+    private boolean dfsVis = false;\r\n+\r\n+    /**\r\n+     * 子组织树（递归）\r\n+     */\r\n+    private List<OrganizationPojo> children;\r\n+\r\n+\r\n+    public String getId() {\r\n+        return id;\r\n+    }\r\n+\r\n+    public void setId(String id) {\r\n+        this.id = id;\r\n+    }\r\n+\r\n+    public String getCode() {\r\n+        return code;\r\n+    }\r\n+\r\n+    public void setCode(String code) {\r\n+        this.code = code;\r\n+    }\r\n+\r\n+    public String getName() {\r\n+        return name;\r\n+    }\r\n+\r\n+    public void setName(String name) {\r\n+        this.name = name;\r\n+    }\r\n+\r\n+    public String getDescription() {\r\n+        return description;\r\n+    }\r\n+\r\n+    public void setDescription(String description) {\r\n+        this.description = description;\r\n+    }\r\n+\r\n+    public String getPcode() {\r\n+        return pcode;\r\n+    }\r\n+\r\n+    public void setPcode(String pcode) {\r\n+        this.pcode = pcode;\r\n+    }\r\n+\r\n+    public Integer getSort() { return sort; }\r\n+\r\n+    public void setSort(Integer sort) { this.sort = sort; }\r\n+\r\n+    public boolean getDfsVis(){\r\n+        return dfsVis;\r\n+    }\r\n+\r\n+    public void setDfsVis(boolean dfsVis){\r\n+        this.dfsVis = dfsVis;\r\n+    }\r\n+\r\n+    public List<OrganizationPojo> getChildren() {\r\n+        return children;\r\n+    }\r\n+\r\n+    public void setChildren(List<OrganizationPojo> children) {\r\n+        this.children = children;\r\n+    }\r\n+\r\n+    public void setDisable(String disable){\r\n+        this.disable = disable;\r\n+    }\r\n+\r\n+    public String getDisable(){\r\n+        return this.disable;\r\n+    }\r\n+    /**\r\n+     * 重载排序规则\r\n+     */\r\n+    public int compareTo(OrganizationPojo nb){\r\n+        if(this.sort<nb.sort){\r\n+            return -1;\r\n+        }else{\r\n+            return 1;\r\n+        }\r\n+    }\r\n+}\r"
  }, {
    "sha" : "60550a61e735b07ac6d719d41b5407c7930fb59a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902207/OrganizationService.java",
    "status" : "added",
    "additions" : 515,
    "deletions" : 0,
    "changes" : 515,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/OrganizationService.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902207/OrganizationService.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902207/OrganizationService.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,515 @@\n+package indi.xiao.app.organization;\r\n+\r\n+import indi.xiao.ext.common.AppBaseService;\r\n+import indi.xiao.ext.util.ClientResUtil;\r\n+import org.apache.ibatis.session.SqlSession;\r\n+import org.slf4j.Logger;\r\n+import org.slf4j.LoggerFactory;\r\n+import org.springframework.context.ApplicationContext;\r\n+import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n+import org.springframework.stereotype.Service;\r\n+import indi.xiao.app.databaseDef.OrganizationPojo;\r\n+\r\n+import java.util.*;\r\n+\r\n+/**\r\n+ * 组织服务\r\n+ *\r\n+ * @author xiaoyq\r\n+ *\r\n+ */\r\n+@Service(\"OrganizationService\")\r\n+public class OrganizationService extends AppBaseService {\r\n+    //初始化日志输出方法\r\n+    public static Logger logger = LoggerFactory.getLogger(OrganizationService.class);\r\n+\r\n+    /**\r\n+     * 慎用 会导致没有where 项时 查出全部数据，\r\n+     * 使用时要在业务逻辑中增加查询项是否为空的验证验证标准\r\n+     * 查询OrganizationPojo对象列表\r\n+     *\r\n+     * @param p OrganizationPojo\r\n+     * @return List<OrganizationPojo> reSelectList\r\n+     * @throws Exception\r\n+     */\r\n+    public List<OrganizationPojo> select(OrganizationPojo p) throws Exception {\r\n+        SqlSession ss = null;\r\n+        List<OrganizationPojo> reSelectList = null;\r\n+        try {\r\n+            ss = getSqlSession();\r\n+            reSelectList = ss.selectList(\"Organization.select\", p);\r\n+        } catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method select,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+            }\r\n+        }\r\n+        return reSelectList;\r\n+    }\r\n+\r\n+\r\n+    /**\r\n+     * 依据组织码从数据库取得组织数据\r\n+     *\r\n+     * @param code\r\n+     * @param prjCode\r\n+     * @return String permissionStr\r\n+     * @throws Exception\r\n+     */\r\n+    public OrganizationPojo selectByCode(String code, String prjCode) throws Exception {\r\n+        SqlSession ss = null;\r\n+        OrganizationPojo reSelectList = null;\r\n+        try {\r\n+            ss = getSqlSession();\r\n+            Map p = new HashMap();\r\n+            p.put(\"code\", code);\r\n+            p.put(\"prjCode\", prjCode);\r\n+            p.put(\"disable\", \"0\");\r\n+            reSelectList = ss.selectOne(\"Organization.selectByCode\", p);\r\n+        } catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method selectByCode,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+            }\r\n+        }\r\n+        return reSelectList;\r\n+    }\r\n+\r\n+    /**\r\n+     * 根据主键 id 查询数据\r\n+     *\r\n+     * @param id String\r\n+     * @return OrganizationPojo rePojo\r\n+     * @throws Exception\r\n+     */\r\n+    public OrganizationPojo selectById(String id) throws Exception {\r\n+        SqlSession ss = null;\r\n+        OrganizationPojo rePojo = null;\r\n+        try {\r\n+            ss = getSqlSession();\r\n+            Map p = new HashMap();\r\n+            p.put(\"id\", id);\r\n+            rePojo = ss.selectOne(\"Organization.selectById\", p);\r\n+        } catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method selectById,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+            }\r\n+        }\r\n+        return rePojo;\r\n+    }\r\n+\r\n+    /**\r\n+     * id的集合查询\r\n+     *\r\n+     * @param ids\r\n+     * @return\r\n+     * @throws Exception\r\n+     */\r\n+    public List<OrganizationPojo> selectByIds(List ids) throws Exception {\r\n+        SqlSession ss = null;\r\n+        List<OrganizationPojo> rePojo = null;\r\n+        try {\r\n+            ss = getSqlSession();\r\n+            rePojo = ss.selectList(\"Organization.selectByIds\", ids);\r\n+        } catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method selectByIds,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+            }\r\n+        }\r\n+        return rePojo;\r\n+    }\r\n+\r\n+    /**\r\n+     * 根据组织码集合\r\n+     * 获取组织数据\r\n+     *\r\n+     * @param codeList\r\n+     * @param prjCode\r\n+     * @return\r\n+     * @throws Exception\r\n+     */\r\n+    public List<OrganizationPojo> selectByCodes(List<String> codeList, String prjCode) throws Exception {\r\n+        SqlSession ss = null;\r\n+        List<OrganizationPojo> rePojo = null;\r\n+        try {\r\n+            ss = getSqlSession();\r\n+            Map<String, Object> map = new HashMap<String, Object>();\r\n+            map.put(\"perCodes\", codeList);\r\n+            map.put(\"prjCode\", prjCode);\r\n+            rePojo = ss.selectList(\"Organization.selectByCodes\", map);\r\n+        } catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method selectByCodes,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+            }\r\n+        }\r\n+        return rePojo;\r\n+    }\r\n+\r\n+    /**\r\n+     * 组织信息是否存在\r\n+     *\r\n+     * @param code\r\n+     * @return true:组织已经存在\r\n+     * @throws Exception\r\n+     */\r\n+    public Boolean exist(String code) throws Exception {\r\n+        SqlSession ss = null;\r\n+        String reString = null;\r\n+        try {\r\n+            ss = getSqlSession();\r\n+            Map p = new HashMap();\r\n+            p.put(\"code\", code);\r\n+            reString = ss.selectOne(\"Organization.exist\", p);\r\n+        } catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method exist,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+            }\r\n+        }\r\n+        return \"1\".equals(reString) ? true : false;\r\n+    }\r\n+\r\n+    /**\r\n+     * 根据prjCode查询所属全部组织码\r\n+     *\r\n+     * @param prjCode\r\n+     * @return\r\n+     * @throws Exception\r\n+     */\r\n+    public List<String> selectAllCode(String prjCode) throws Exception {\r\n+        SqlSession ss = null;\r\n+        List<String> codeList = null;\r\n+        try {\r\n+            ss = getSqlSession();\r\n+            Map p = new HashMap();\r\n+            p.put(\"prjCode\", prjCode);\r\n+            p.put(\"disable\", \"0\");\r\n+            codeList = ss.selectList(\"Organization.selectAllCode\", p);\r\n+        } catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method selectAllCode,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+            }\r\n+        }\r\n+        return codeList;\r\n+    }\r\n+\r\n+    /**\r\n+     * 添加数据到数据库\r\n+     *\r\n+     * @param p OrganizationPojo\r\n+     * @return int reInt\r\n+     * @throws Exception\r\n+     */\r\n+    public boolean insert(OrganizationPojo p) throws Exception {\r\n+        SqlSession ss = null;\r\n+        int reInt = 0;\r\n+        try {\r\n+            ss = getSqlSession();\r\n+            Map<String,String> param = new HashMap<>();\r\n+            param.put(\"pcode\",p.getPcode());\r\n+            String sortStr = (String)ss.selectOne(\"Organization.selectMaxSort\",param);\r\n+            int curSort = sortStr==null?0:Integer.valueOf(sortStr)+1;\r\n+            p.setSort(curSort);\r\n+            reInt = ss.insert(\"Organization.insert\", p);\r\n+        } catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method insert,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+            }\r\n+        }\r\n+        return reInt>0?true:false;\r\n+    }\r\n+\r\n+    /**\r\n+     * 更新数据\r\n+     *\r\n+     * @param p OrganizationPojo\r\n+     * @return int reInt\r\n+     * @throws Exception\r\n+     */\r\n+    public int updateById(OrganizationPojo p) throws Exception {\r\n+        SqlSession ss = null;\r\n+        int reInt = 0;\r\n+        try {\r\n+            ss = getSqlSession();\r\n+            reInt = ss.update(\"Organization.updateById\", p);\r\n+        } catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method updateById,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+            }\r\n+        }\r\n+        return reInt;\r\n+    }\r\n+\r\n+    /**\r\n+     * 根据主键 id 删除数据\r\n+     *\r\n+     * @param id String\r\n+     * @return int reInt\r\n+     * @throws Exception\r\n+     */\r\n+    public int deleteById(String id) throws Exception {\r\n+        SqlSession ss = null;\r\n+        int reInt = 0;\r\n+        try {\r\n+            ss = getSqlSession();\r\n+            Map p = new HashMap();\r\n+            p.put(\"id\", id);\r\n+            reInt = ss.delete(\"Organization.deleteById\", p);\r\n+        } catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method deleteById,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+            }\r\n+        }\r\n+        return reInt;\r\n+    }\r\n+\r\n+    /**\r\n+     * 根据主键 批量删除数据(物理删除)\r\n+     *\r\n+     * @param idlist List\r\n+     * @return int reInt\r\n+     * @throws Exception\r\n+     */\r\n+    public int deleteByIds(List idlist) throws Exception {\r\n+        SqlSession ss = null;\r\n+        int reInt = 0;\r\n+        try {\r\n+            ss = getSqlSession();\r\n+            reInt = ss.delete(\"Organization.deleteByIds\", idlist);\r\n+        } catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method deleteByIds,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+            }\r\n+        }\r\n+        return reInt;\r\n+    }\r\n+\r\n+    /**\r\n+     * 根据主键 批量删除数据(disable设置1)\r\n+     *\r\n+     * @param idlist\r\n+     * @return reInt\r\n+     * @throws Exception\r\n+     */\r\n+    public int updataDisable(List idlist) throws Exception {\r\n+        SqlSession ss = null;\r\n+        int reInt = 0;\r\n+        try {\r\n+            ss = getSqlSession();\r\n+            reInt = ss.update(\"Organization.updataDisable\", idlist);\r\n+        } catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method updataDisable,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+            }\r\n+        }\r\n+        return reInt;\r\n+    }\r\n+\r\n+    /**\r\n+     * 关联删除\r\n+     *\r\n+     * @param pcode\r\n+     * @return reInt\r\n+     * @throws Exception\r\n+     */\r\n+    public int deleteRelation(String pcode) throws Exception {\r\n+        SqlSession ss = null;\r\n+        int reInt = 0;\r\n+        try {\r\n+            HashMap<String, String> map = new HashMap<String, String>();\r\n+            map.put(\"pcode\", pcode);\r\n+            ss = getSqlSession();\r\n+            reInt = ss.update(\"Organization.deleteRelation\", map);\r\n+        } catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method deleteRelation,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+            }\r\n+        }\r\n+        return reInt;\r\n+    }\r\n+\r\n+\r\n+    /**\r\n+     * 递归获取组织树模型\r\n+     * 默认顶级节点的父节点为-1，需注意\r\n+     * @param list\r\n+     * @param pcode\r\n+     * @return orgTreeList\r\n+     * @throws Exception\r\n+     */\r\n+    public List<OrganizationPojo> getOrgTree(List<OrganizationPojo> list,String pcode)throws Exception{\r\n+        List<OrganizationPojo> orgTreeList = new ArrayList<>();\r\n+        for(OrganizationPojo orgPojo: list){\r\n+            if(!orgPojo.getDfsVis() && orgPojo.getPcode().equals(pcode)){\r\n+                orgPojo.setDfsVis(true);\r\n+                orgPojo.setChildren(this.getOrgTree(list,orgPojo.getCode()));\r\n+                orgTreeList.add(orgPojo);\r\n+            }\r\n+        }\r\n+        Collections.sort(orgTreeList);\r\n+        return orgTreeList;\r\n+    }\r\n+\r\n+    /**\r\n+     * 根据单一节点组织码code名称构建组织树\r\n+     * 默认顶级节点的父节点为-1，需注意\r\n+     * @param list\r\n+     * @param code\r\n+     * @return orgTreeList\r\n+     * @throws Exception\r\n+     */\r\n+    public List<OrganizationPojo> getOrgTreeByCode(List<OrganizationPojo> list,String code)throws Exception{\r\n+        List<OrganizationPojo> orgTreeList = new ArrayList<>();\r\n+        for (OrganizationPojo orgPojo: list){\r\n+            if(orgPojo.getCode().equals(code)){\r\n+                orgTreeList.add(orgPojo);\r\n+            }\r\n+        }\r\n+\r\n+        for(OrganizationPojo orgPojo: orgTreeList){\r\n+            orgPojo.setChildren(this.getOrgTree(list,orgPojo.getCode()));\r\n+        }\r\n+        return orgTreeList;\r\n+    }\r\n+\r\n+    /**\r\n+     * 根据单一节点组织名称name名称构建组织树\r\n+     * 默认顶级节点的父节点为-1，需注意\r\n+     * @param list\r\n+     * @param name\r\n+     * @return orgTreeList\r\n+     * @throws Exception\r\n+     */\r\n+    public List<OrganizationPojo> getOrgTreeByName(List<OrganizationPojo> list,String name)throws Exception{\r\n+\r\n+        List<OrganizationPojo> orgTreeList = new ArrayList<>();\r\n+        for (OrganizationPojo orgPojo: list){\r\n+            if(orgPojo.getName().equals(name)){\r\n+                orgTreeList.add(orgPojo);\r\n+            }\r\n+        }\r\n+\r\n+        for(OrganizationPojo orgPojo: orgTreeList){\r\n+            orgPojo.setChildren(this.getOrgTree(list,orgPojo.getCode()));\r\n+        }\r\n+        return orgTreeList;\r\n+    }\r\n+\r\n+    /**\r\n+     * 根据id集合字符串更新组织关系的顺序关系\r\n+     *\r\n+     * @param midIds\r\n+     * @param ids\r\n+     * @param pcode\r\n+     * @param minSort\r\n+     * @return\r\n+     * @throws Exception\r\n+     */\r\n+    public boolean updateOrgTreeByIds(String midIds,String ids,String pcode,String minSort)throws Exception{\r\n+        SqlSession ss = null;\r\n+        try {\r\n+            ss = getSqlSession();\r\n+            String[] ids_ = ids.split(\",\");\r\n+            List<String> idlist = Arrays.asList(ids_);\r\n+            int sort = Integer.valueOf(minSort);\r\n+\r\n+            for (int i=0;i<idlist.size();i++){\r\n+\r\n+                HashMap<String,Object> map = new HashMap<>();\r\n+                map.put(\"id\",idlist.get(i));\r\n+                map.put(\"sort\",sort + i);\r\n+                ss.update(\"Organization.updateSortById\", map);\r\n+            }\r\n+            this.updatePcodeByIds(midIds,pcode);\r\n+            return true;\r\n+        }catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method updateSort,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+                return false;\r\n+            }\r\n+        }\r\n+    }\r\n+\r\n+    /**\r\n+     * 根据id集合字符串更新组织关系的父子关系\r\n+     *\r\n+     * @param ids\r\n+     * @param pcode\r\n+     * @return\r\n+     * @throws Exception\r\n+     */\r\n+    public boolean updatePcodeByIds(String ids,String pcode)throws Exception{\r\n+        SqlSession ss = null;\r\n+        try {\r\n+            ss = getSqlSession();\r\n+            String[] ids_ = ids.split(\",\");\r\n+            List<String> idlist = Arrays.asList(ids_);\r\n+\r\n+            HashMap<String,Object> map = new HashMap<>();\r\n+            map.put(\"list\",idlist);\r\n+            map.put(\"pcode\",pcode);\r\n+            ss.update(\"Organization.updatePcodeByIdList\", map);\r\n+            return true;\r\n+        }catch (Exception x) {\r\n+            logger.error(\"Class OrganizationService,Method updatePcodeByIds,sqlSession Execution exception\", x);\r\n+            throw x;\r\n+        } finally {\r\n+            if (ss != null) {\r\n+                ss.close();\r\n+                return false;\r\n+            }\r\n+        }\r\n+\r\n+    }\r\n+\r\n+    //Test\r\n+    public static void main(String[] args) throws Exception {\r\n+        String configs[] = new String[]{\"appConf/spring-context.xml\", \"classpath:appConf/spring-database.xml\"};\r\n+        ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(configs);\r\n+        OrganizationService service = (OrganizationService)context.getBean(\"OrganizationService\");\r\n+\r\n+        OrganizationPojo p = new OrganizationPojo();\r\n+        List<OrganizationPojo> orgList = service.select(p);\r\n+        List<OrganizationPojo> orgTree = service.getOrgTree(orgList,\"-1\");\r\n+        System.out.println(ClientResUtil.getResponseToClient(true,\"\",orgList));\r\n+    }\r\n+}\r"
  }, {
    "sha" : "a97180f9523fecca458f7c8558fe6330c199df13",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902208/EncodeFilter.java",
    "status" : "added",
    "additions" : 42,
    "deletions" : 0,
    "changes" : 42,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902208/EncodeFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902208/EncodeFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902208/EncodeFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,42 @@\n+package edu.hzu.javaweb.labs.se1414080902208;\n+\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+/**\n+ * Servlet Filter implementation class EncodeFilter\n+ */\n+@WebFilter(filterName=\"EncodeFilter\",urlPatterns=\"/*\")\n+public class EncodeFilter implements Filter {\n+\n+    public EncodeFilter() {\n+ \n+    }\n+ \n+ \n+ \tpublic void destroy() {\n+ \n+ \t}\n+ \n+ \n+ \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\n+\t\tSystem.out.println(\"�������...\");\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+ \n+         response.setContentType(\"text/html;charset=UTF-8\");\n+ \n+ \t\tchain.doFilter(request, response);\n+ \t}\n+ \n+ \tpublic void init(FilterConfig fConfig) throws ServletException {\n+ \t\tSystem.out.println(\"ͳһ����...\");\n+ \t}\n+ \n\\ No newline at end of file"
  }, {
    "sha" : "99e470001a833394de32eb4342bffe07bd47ea7b",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902208/LoginFilter.java",
    "status" : "added",
    "additions" : 46,
    "deletions" : 0,
    "changes" : 46,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902208/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902208/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902208/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,46 @@\n+package edu.hzu.javaweb.labs.se1414080902208;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet Filter implementation class LoginFilter\n+ */\n+ +@WebFilter(filterName=\"LoginFilter\",urlPatterns=\"/login.jsp\")\n+public class LoginFilter implements Filter {\n+\n+   public LoginFilter() {\n+ \n+   }\n+\tpublic void destroy() {\n+ \n+ \t}\n+ \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\n+\t\tHttpServletRequest req = (HttpServletRequest) request;\n+       HttpServletResponse resp = (HttpServletResponse) response;\n+       \n+        HttpSession session = req.getSession();\n+         String path=req.getContextPath();\n+        String basePath=req.getScheme()+\"://\"+req.getServerName()+\":\"+req.getServerPort()+path;\n+       String userName=(String)session.getAttribute(\"username\");\n+        if (userName==null) {\n+       \tresp.sendRedirect(basePath+\"/faile.jsp\");\n+       } else {   \n+        \tchain.doFilter(request, response);\n+        }  \n+\t}\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\tSystem.out.println(\"��¼����...\");\n+\t}\n+ \n+ } \n\\ No newline at end of file"
  }, {
    "sha" : "e555dbcd26a48625db347ef985cbe58a15a56604",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902208/Se1414080902208.java",
    "status" : "added",
    "additions" : 48,
    "deletions" : 0,
    "changes" : 48,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902208/Se1414080902208.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902208/Se1414080902208.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902208/Se1414080902208.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,48 @@\n+﻿package edu.hzu.javaweb.labs.se1414080902208;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet implementation class se1414080902208\n+ */\n+@WebServlet(\"/1414080902208\")\n+public class Se1414080902208 extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+    public Se1414080902208() {\n+        super();\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\n+\t\tdoPost(request, response);\t\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t\n+\t\t\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tString name=request.getParameter(\"NAME\");\n+\t\tString password=request.getParameter(\"PASSWORD\");\n+\t\tString article=request.getParameter(\"ARTICLE\");\n+\t\t\n+\t\t\n+\t\tString info= \"用户名：\"+name+\"；密码：\"+password+\"；文章：\"+article;\n+\t\t\n+\t\trequest.setAttribute(\"outputMessage\", info);\n+\t\trequest.getRequestDispatcher(\"/info.jsp\").forward(request,response);\n+\t}\n+\n+}"
  }, {
    "sha" : "7f892b85b9771817ff29f9d4d57de1993ff36d21",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902208/Se1414080902208Servlet.java",
    "status" : "added",
    "additions" : 55,
    "deletions" : 0,
    "changes" : 55,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902208/Se1414080902208Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902208/Se1414080902208Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902208/Se1414080902208Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,55 @@\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+  @WebServlet(\"/1414080902208\")\n+  public class Se1414080902208Servlet extends HttpServlet {\n+  \n+  \t\trequest.setCharacterEncoding(\"gb2312\");\n+  \t\tresponse.setCharacterEncoding(\"gb2312\");\n+  \t\tPrintWriter out = response.getWriter();\n+ \t\tString Score = new String(request.getParameter(\"score\"));\n+ \t\tString Comment = new String(request.getParameter(\"comment\"));\n+ \t\tHttpSession session=request.getSession(true);\n+ \t\tString msg = \"\";\n+  \t\tif (Score.equals(\"\")) {\n+ \t\t\tout.println(\"��ֲ���Ϊ��\");\n+ \t\t\tmsg = \"��ֲ���Ϊ��\";\n+  \t\t} else if (Comment.equals(\"\")) {\n+ \t\t\tout.println(\"���۲���Ϊ��\");\n+ \t\t\tmsg = \"���۲���Ϊ��\";\n+  \t\t} else {\n+  \t\t\tboolean flat = true;\n+  \t\t\tchar[] str=Score.toCharArray();\n+  \t\t\tfor (int i = 0;i < Score.length();i++) {\n+  \t\t\t\tint x = str[i] - '0';\n+  \t\t\t\tif (!(x >= 0 && x <= 10)) {\n+ // ������Ϊ10�֣���\t\n+\t                     out.println(\"��������ȷ�����\");\n+ \t\t\t\t\tmsg = \"��������ȷ�����\";\n+  \t\t\t\t\tflat = false;\n+  \t\t\t\t\tbreak;\n+  \t\t\t\t}\n+ \n+  \t\t\t\tfor (int i = 0;i < Amount.length();i++) {\n+  \t\t\t\t\tint x = sstr[i] - '0';\n+  \t\t\t\t\tif (!(x >= 0 && x <= 100)) {\n+\n+ //�����������Ϊ100 ����\t\t\tout.println(\"��������Χ����������\");\n+ \t\t\t\t\t\tmsg = \"��������Χ����������\";\n+  \t\t\t\t\t\tflat = false;\n+  \t\t\t\t\t\tbreak;\n+  \t\t\t\t\t}\n+  \t\t\t\t}\n+  \t\t\t}\n+ \t\t\tif (flat) out.println(\"��۳ɹ�\");\n+ \t\t\tif (flat) msg = \"��۳ɹ�\";\n+  \t\t}\n+ \t\tSystem.out.println(msg);\n+ \t\trequest.setAttribute(\"message\", msg);\n+ \t\trequest.getRequestDispatcher(\"/index.jsp\").forward(request, response);\n+\n+ \t\tsession.setAttribute(\"message\", msg);\n+\n+\n+ \n\\ No newline at end of file"
  }, {
    "sha" : "5d06549a44280a63266eec4b074b34b4442d70ae",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902209/EncodingFilter.java",
    "status" : "added",
    "additions" : 48,
    "deletions" : 0,
    "changes" : 48,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902209/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902209/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902209/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,48 @@\n+package edu.hzu.javaweb.labs.se1414080902209;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+/**\n+ * Servlet Filter implementation class EncodingFilter\n+ */\n+@WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+public class EncodingFilter implements Filter {\n+\n+\t@Override\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\t\n+\t@Override\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t// place your code here\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\");\n+\t\t// pass the request along the filter chain\n+\t\tchain.doFilter(request, response);\n+\t}\n+\t\n+\t@Override\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "f39e2ea404ff3b100b8c9540f4a1faa87bfee714",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902209/LoginFilter.java",
    "status" : "added",
    "additions" : 57,
    "deletions" : 0,
    "changes" : 57,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902209/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902209/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902209/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,57 @@\n+package edu.hzu.javaweb.labs.se1414080902209;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet Filter implementation class LoginFilter\n+ */\n+@WebFilter(filterName = \"LoginFilter\", urlPatterns = \"/*\")\n+public class LoginFilter implements Filter {\n+\n+\t@Override\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t@Override\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t// place your code here\n+\t\tHttpServletRequest req = (HttpServletRequest) request;\n+\t\tHttpServletResponse res = (HttpServletResponse) response;\n+\t\tHttpSession session = req.getSession();\n+\t\tif (session.getAttribute(\"loginUserAccount\") != null) {\n+\t\t\t \t\t\tchain.doFilter(request, response);\n+\t\t\t \t\t} else {\n+\t\t\t \t\t\tres.sendRedirect(\"../failure.jsp\");\n+\t\t\t \t\t}\n+\t\t// pass the request along the filter chain\n+\t\t//chain.doFilter(request, response);\n+\t}\n+\n+\t@Override\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "b21a823da3e02f51e7f362171b356c5dae07936c",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902209/Se1414080902209Servlet.java",
    "status" : "added",
    "additions" : 46,
    "deletions" : 0,
    "changes" : 46,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902209/Se1414080902209Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902209/Se1414080902209Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902209/Se1414080902209Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,46 @@\n+package edu.hzu.javaweb.labs.se1414080902209;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet implementation class Se1414080902209Servlet\n+ */\n+@WebServlet(\"/1414080902209\")\n+public class Se1414080902209Servlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public Se1414080902209Servlet() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+//\t\tresponse.getWriter().append(\"Served at: \").append(request.getContextPath());\n+\t\tdoPost(request,response);\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"Sign in Successfully!\");\n+\t}\n+\n+}"
  }, {
    "sha" : "ffe1f39d32eeace67eeaebaf2d9addb11150861e",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902210/Create.java",
    "status" : "added",
    "additions" : 63,
    "deletions" : 0,
    "changes" : 63,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Create.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Create.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Create.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,63 @@\n+package edu.hzu.javaweb.labs.se1414080902210;\n+\n+import java.io.IOException;\n+\n+import edu.hzu.javaweb.labs.se1414080902210.Score;\n+\n+import java.io.PrintWriter;\n+\n+import javax.inject.Scope;\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class Create extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Create() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\n+\n+\t}\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tScore.add(new Score(\"Java web\", 3));\n+\t\tScore.add(new Score(\"操作系统\", 3));\n+\t\tScore.add(new Score(\"计算机网络\", 2));\n+\t\tScore.add(new Score(\"软件工程导论\", 1));\n+\t\tScore.add(new Score(\"高等数学\", 5));\n+\t\tHttpSession subjectsSession=request.getSession(true);\n+\t\t\n+\t\tsubjectsSession.setAttribute(\"gradesList\", score);\n+\t\tresponse.sendRedirect(\"1414080902210/showscoreinfo.jsp\");\n+\t}\n+\n+\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "8949a65c35a7a4d631d060b60aac905a868138d1",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902210/DbConnect.java",
    "status" : "added",
    "additions" : 39,
    "deletions" : 0,
    "changes" : 39,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/DbConnect.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/DbConnect.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902210/DbConnect.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,39 @@\n+package edu.hzu.javaweb.labs.se1414080902210;\n+\n+import java.sql.*;\n+\n+\n+public class DbConnect {\n+\tpublic static String driverName = \"com.mysql.jdbc.Driver\";//驱动名称\n+\tpublic static String userName = \"root\";//数据库用户名称\n+\tpublic static String userPwd = \"root\";//登陆密码\n+\tpublic static String dbName= \"students\";//数据库名称\n+\n+\t\tpublic static Connection getConnection() {\n+\t\t\tString url1 = \"jdbc:mysql://localhost:3306/\"+dbName;\n+\t\t\tString url2 = \"?user=\"+userName+\"&password=\"+userPwd;\n+\t\t\tString url3 = \"&useUnicode=true&characterEncoding=utf8\";\n+\t\t\tString url = url1+url2+url3;\n+\t\t\ttry {\n+\t\t\t\tClass.forName(driverName);\n+\t\t\t\tConnection con = DriverManager.getConnection(url);\n+\t\t\t\tSystem.out.println(\"连接成功！\");\n+\t\t\t\treturn con;\n+\t\t\t} catch (SQLException e) {\n+\t\t\t\te.printStackTrace();\n+\t\t\t} catch (ClassNotFoundException e) {\n+\t\t\t\te.printStackTrace();\n+\t\t\t}\n+\t\t\treturn null;\n+\t\t}\n+\t\t\n+\t\tpublic static void closeDB(Connection con,PreparedStatement pstm,ResultSet rs) {\n+\t\t\ttry {\n+\t\t\t\tif(rs!=null) rs.close();\n+\t\t\t\tif(pstm!=null)pstm.close();\n+\t\t\t\tif(con!=null) con.close();\n+\t\t\t} catch (Exception e) {\n+\t\t\t\te.printStackTrace();\n+\t\t\t}\n+\t\t}\n+}"
  }, {
    "sha" : "001e5702928cacb0f025e2700c45ffccce53df1a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902210/Delete.java",
    "status" : "added",
    "additions" : 82,
    "deletions" : 0,
    "changes" : 82,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Delete.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Delete.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Delete.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,82 @@\n+package edu.hzu.javaweb.labs.se1414080902210;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import edu.hzu.javaweb.labs.se1414080902210.StudentDAO;\n+import edu.hzu.javaweb.labs.se1414080902210.Student;\n+\n+public class Delete extends HttpServlet {\n+\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\n+\tpublic Delete() {\n+\t\tsuper();\n+\t}\n+\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+\t\tout.println(\"<HTML>\");\n+\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+\t\tout.println(\"  <BODY>\");\n+\t\tout.print(\"    This is \");\n+\t\tout.print(this.getClass());\n+\t\tout.println(\", using the GET method\");\n+\t\tout.println(\"  </BODY>\");\n+\t\tout.println(\"</HTML>\");\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html;charset=utf-8\");\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\t//获取要删除的学号\n+\t\tint id = Integer.parseInt(request.getParameter(\"id\"));\n+\t\tStudentDAO _del = new StudentDAO();\n+\t\tStudent s = new Student();\n+\t\ts.setId(id);\n+\t\t/*String sex1 = request.getParameter(\"sex1\");\n+\t\tString sex2 = request.getParameter(\"sex2\");\n+\t\tint age1 = Integer.parseInt(request.getParameter(\"age1\"));\n+\t\tint age2 = Integer.parseInt(request.getParameter(\"age2\"));\n+\t\tfloat weight1 = Float.parseFloat(request.getParameter(\"weight1\"));\n+\t\tfloat weight2 = Float.parseFloat(request.getParameter(\"weight2\"));\n+\t\tfloat hight1 = Float.parseFloat(request.getParameter(\"hight1\"));\n+\t\tfloat hight2 = Float.parseFloat(request.getParameter(\"hight2\"));*/\n+\t\ttry {\n+\t\t\tif(_del.remove(s)>0){\n+\t\t\t\trequest.getRequestDispatcher(\"/success.jsp\").forward(request, response);\n+\t\t\t}else{\n+\t\t\t\trequest.getRequestDispatcher(\"/error.jsp\").forward(request, response);\n+\t\t\t}\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t}\n+\n+\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "e81330fde789521df3941030b5583437db4a04c2",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902210/EncodingFilter.java",
    "status" : "added",
    "additions" : 36,
    "deletions" : 0,
    "changes" : 36,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902210/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,36 @@\n+package edu.hzu.javaweb.labs.se1414080902210;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName=\"encodingFilter\",urlPatterns=\"/login.jsp\")\n+public class EncodingFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain filterchain) throws IOException, ServletException {\n+\t\t\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tfilterchain.doFilter(request, response);\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "c34491e30dcc8688958ad9f1d3dcb09ecf9908c6",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902210/Find_Edit.java",
    "status" : "added",
    "additions" : 61,
    "deletions" : 0,
    "changes" : 61,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Find_Edit.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Find_Edit.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Find_Edit.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,61 @@\n+package edu.hzu.javaweb.labs.se1414080902210;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import edu.hzu.javaweb.labs.se1414080902210.StudentDAO;\n+import edu.hzu.javaweb.labs.se1414080902210.Student;\n+\n+public class Find_Edit extends HttpServlet {\n+\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\tpublic Find_Edit() {\n+\t\tsuper();\n+\t}\n+\n+\tpublic void destroy() {\n+\t\tsuper.destroy();\n+\n+\t}\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t}\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tresponse.setContentType(\"text/html;charset=utf-8\");\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tString name = request.getParameter(\"name\");\n+\t\tString sex = request.getParameter(\"sex\");\n+\t\tStudentDAO _fe = new StudentDAO();\n+\t\tStudent s = new Student();\n+\t\ts.setName(name);\n+\t\ts.setSex(sex);\n+\t\t\n+\t\ttry {\n+\t\t\tStudent student = _fe.find(s);\n+\t\t\tif(student != null){\n+\t\t\t\trequest.setAttribute(\"result\", student);//将查询结果保存到request对象中\n+\t\t\t\trequest.getRequestDispatcher(\"/update_stu_edit.jsp\").forward(request, response);\n+\t\t\t}else {\n+\t\t\t\tout.println(\"找不到该学生！\");\n+\t\t\t}\n+\t\t} catch (Exception e) {\n+\t\t\t// TODO: handle exception\n+\t\t}\n+\t}\n+\n+\tpublic void init() throws ServletException {\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "6ab465ab2802b1d8f84d539b9eac27e90afd9300",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902210/Find_sub.java",
    "status" : "added",
    "additions" : 109,
    "deletions" : 0,
    "changes" : 109,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Find_sub.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Find_sub.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Find_sub.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,109 @@\n+package edu.hzu.javaweb.labs.se1414080902210;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import edu.hzu.javaweb.labs.se1414080902210.Student;\n+import edu.hzu.javaweb.labs.se1414080902210.StudentDAO;\n+\n+public class Find_sub extends HttpServlet {\n+\n+\t/**\n+\t * \n+\t */\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Find_sub() {\n+\t\tsuper();\n+\t}\n+\n+\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\t\n+\t}\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html;charset=utf-8\");\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\t//获取查询的学号\n+\t\tString name = request.getParameter(\"name\");\n+\t\tString sex = request.getParameter(\"sex\");\n+\t\tStudentDAO _findsub = new StudentDAO();\n+\t\tStudent s = new Student();\n+\t\ts.setName(name);\n+\t\ts.setSex(sex);\n+\t\t/*String sex1 = request.getParameter(\"sex1\");\n+\t\tString sex2 = request.getParameter(\"sex2\");\n+\t\tint age1 = Integer.parseInt(request.getParameter(\"age1\"));\n+\t\tint age2 = Integer.parseInt(request.getParameter(\"age2\"));\n+\t\tfloat weight1 = Float.parseFloat(request.getParameter(\"weight1\"));\n+\t\tfloat weight2 = Float.parseFloat(request.getParameter(\"weight2\"));\n+\t\tfloat hight1 = Float.parseFloat(request.getParameter(\"hight1\"));\n+\t\tfloat hight2 = Float.parseFloat(request.getParameter(\"hight2\"));*/\n+\t\ttry {\n+\t\t\tStudent student = _findsub.find(s);//实例化返回值\n+\t\t\tif(student!=null){\n+\t\t\t\t out.println(\"<center>\");\n+\t\t    \t out.println(\"查询结果\");\n+\t\t    \t out.println(\"<table border=1>\");\n+\t\t    \t\n+\t\t    \t out.println(\" <tr><td>学号</td> <td>姓名</td> <td>性别</td><td>年龄</td><td>体重</td><td>身高</td></tr>\");\n+\t\t    \t out.println(\"<tr>\");\n+\t\t    \t out.println(\"<td>\");\n+\t\t    \t out.println(student.getId());\n+\t\t    \t out.println(\"</td>\");\n+\t\t    \t \n+\t\t    \t out.println(\"<td>\");\n+\t\t    \t out.println(student.getName());\n+\t\t    \t out.println(\"</td>\");\n+\t\t    \t \n+\t\t    \t out.println(\"<td>\");\n+\t\t    \t out.println(student.getSex());\n+\t\t    \t out.println(\"</td>\");\n+\t\t    \t \n+\t\t    \t out.println(\"<td>\");\n+\t\t    \t out.println(student.getAge());\n+\t\t    \t out.println(\"</td>\");\n+\t\t    \t \n+\t\t    \t out.println(\"<td>\");\n+\t\t    \t out.println(student.getWeight());\n+\t\t    \t out.println(\"</td>\");\n+\t\t    \t \n+\t\t    \t out.println(\"<td>\");\n+\t\t    \t out.println(student.getHight());\n+\t\t    \t out.println(\"</td>\");\n+\t\t    \t out.println(\"</tr>\");\n+\t\t    \t out.println(\"</table>\");\n+\t\t    \t out.println(\"</center>\");\n+\t\t\t}else{\n+\t\t\t\t out.println(\"查询不到该学生\");\n+\t\t\t}\t\n+\t\t} catch (Exception e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t}\n+\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "f47a9c7a105566da23ca8d30fa7b6c84624c3179",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902210/IStudent.java",
    "status" : "added",
    "additions" : 13,
    "deletions" : 0,
    "changes" : 13,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/IStudent.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/IStudent.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902210/IStudent.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,13 @@\n+package edu.hzu.javaweb.labs.se1414080902210;\n+\n+import java.util.List;\n+import edu.hzu.javaweb.labs.se1414080902210.Student;\n+\n+public interface IStudent  {\n+\tpublic abstract Student create(Student stu)throws Exception;//增加记录\n+\tpublic abstract int remove(Student stu)throws Exception;//删除记录\n+\tpublic abstract Student find(Student stu)throws Exception;//查找记录\n+\tpublic abstract List<Student> findAll()throws Exception;//列出全部记录的方法\n+\tpublic abstract int update(Student stu)throws Exception;//修改记录\n+\t\n+}"
  }, {
    "sha" : "cade00c3b8b1e9cf9cd8effa4bd11b017d5ed20c",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902210/Insert.java",
    "status" : "added",
    "additions" : 91,
    "deletions" : 0,
    "changes" : 91,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Insert.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Insert.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Insert.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,91 @@\n+package edu.hzu.javaweb.labs.se1414080902210;\n+\n+import java.io.IOException;\n+\n+import edu.hzu.javaweb.labs.se1414080902210.Student;\n+import edu.hzu.javaweb.labs.se1414080902210.StudentDAO;\n+\n+import java.io.PrintWriter;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+@SuppressWarnings(\"serial\")\n+public class Insert extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Insert() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\n+\n+\t}\n+\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html;charset=utf-8\");\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\t@SuppressWarnings(\"unused\")\n+\t\tPrintWriter out = response.getWriter();\n+\t\tint id = Integer.parseInt(request.getParameter(\"id\"));\n+\t\tString name = request.getParameter(\"name\");\n+\t\tString sex = request.getParameter(\"sex\");\n+\t\tint age = Integer.parseInt(request.getParameter(\"age\"));\n+\t\tfloat weight = Float.parseFloat(request.getParameter(\"weight\"));\n+\t\tfloat hight = Float.parseFloat(request.getParameter(\"hight\"));\n+\t\tSystem.out.println(id);\n+\t\tSystem.out.println(name);\n+\t\tSystem.out.println(sex);\n+\t\tSystem.out.println(age);\n+\t\tSystem.out.println(weight);\n+\t\tSystem.out.println(hight);\n+\t\t\n+\t\tStudent student = new Student();\n+\t\tstudent.setId(id);\n+\t\tstudent.setName(name);\n+\t\tstudent.setSex(sex);\n+\t\tstudent.setAge(age);\n+\t\tstudent.setWeight(weight);\n+\t\tstudent.setHight(hight);\n+\t\tStudentDAO _create = new StudentDAO();\n+\t\tRequestDispatcher dispatcher = null;\n+\t\ttry {\n+\t\t\tif(_create.create(student)!= null) \n+\t\t\t{\n+\t\t\t\tdispatcher = request.getRequestDispatcher(\"/success.jsp\");\n+\t\t\t\tdispatcher.forward(request, response);\n+\t\t\t}else {\n+\t\t\t\tdispatcher = request.getRequestDispatcher(\"/error.jsp\");\n+\t\t\t\tdispatcher.forward(request, response);\n+\t\t\t}\n+\t\t} catch (Exception e) {\n+\t\t\t// TODO: handle exception\n+\t\t}\n+\t}\n+ \n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "72d43d3426660d1ceeb821fee82cc5a7f1915cc9",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902210/LoginFilter.java",
    "status" : "added",
    "additions" : 45,
    "deletions" : 0,
    "changes" : 45,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902210/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,45 @@\n+package edu.hzu.javaweb.labs.se1414080902210;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpSession;\n+import javax.servlet.http.HttpServletResponse;\n+\n+@WebFilter(filterName=\"LoginFilter\",urlPatterns={\"Succeed.jsp\",\"/login.jsp\"})\n+public class LoginFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest requ =(HttpServletRequest)request;\n+\t\tHttpServletResponse resp = (HttpServletResponse)response;\n+\t\tHttpSession session= requ.getSession(true);\n+\t\tif(session.getAttribute(\"usename\")!=\"abc\" && session.getAttribute(\"userpwd\") != \"123\" ){\n+\t\t\tresp.sendRedirect(\"loginfail.jsp\");\n+\t\t\t\n+\t\t}else{\n+\t\t\tchain.doFilter(request,response);\n+\t\t}\n+\t\t\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "5ce24b5e7f49b547e633ddf390b0926e00a436cf",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902210/Score.java",
    "status" : "added",
    "additions" : 35,
    "deletions" : 0,
    "changes" : 35,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Score.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Score.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Score.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,35 @@\n+package edu.hzu.javaweb.labs.se1414080902210;\n+\n+public class Score {\n+\tprivate String id;\n+\tprivate String courseName;\n+\tprivate float score;\n+\tprivate int credit;\n+\t\n+\tpublic String getId() {\n+\t\treturn id;\n+\t}\n+\tpublic void setId(String id) {\n+\t\tthis.id = id;\n+\t}\n+\tpublic String getCourseName() {\n+\t\treturn courseName;\n+\t}\n+\tpublic void setCourseName(String courseName) {\n+\t\tthis.courseName = courseName;\n+\t}\n+\tpublic float getScore() {\n+\t\treturn score;\n+\t}\n+\tpublic void setScore(float score) {\n+\t\tthis.score = score;\n+\t}\n+\tpublic int getCredit() {\n+\t\treturn credit;\n+\t}\n+\tpublic void setCredit(int credit) {\n+\t\tthis.credit = credit;\n+\t}\n+\t\n+\t\n+}"
  }, {
    "sha" : "757f95ab1b283a80c8a56335446df89746dcd2bf",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902210/Se1414080902210Servlet.java",
    "status" : "added",
    "additions" : 91,
    "deletions" : 0,
    "changes" : 91,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Se1414080902210Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Se1414080902210Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Se1414080902210Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,91 @@\n+package edu.hzu.javaweb.labs.se1414080902210;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.*;\n+\n+import javax.servlet.ServletConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import edu.hzu.javaweb.labs.se1414080902210.Score;\n+\n+@SuppressWarnings(\"unused\")\n+@WebServlet(\"/1st\")\n+public class Se1414080902210Servlet extends HttpServlet {\n+\n+\t/**\n+\t * \n+\t */\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Se1414080902210Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); \n+\n+\t}\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tresponse.sendRedirect(\"1414080902210/showscoreinfo.jsp\");\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tList<Score> gl=(List<Score>)hs.getAttribute(\"scoreList\");\n+\t\tint len=gl.size();\n+\t\t\n+\t\t\n+\t\tString[] subjectGrades=new String[len];\n+\t\tint i=0;\n+\t\ttry {\n+\t\t\t\n+\t\t\twhile(i<len)\n+\t\t\t{\n+\t\t\t\tString key=new StringBuffer().append(\"subject\").append(((Integer)i).toString()).toString();\n+\t\t\t\tsubjectGrades[i]=request.getParameter(key);\n+\t\t\t\ti++;\n+\t\t\t}\n+\t\t\t\n+\t\t\tint k=0;\n+\t\t\tfor (Score grade : gl) {\n+\t\t\t\tgrade.getScore(Double.parseDouble(subjectGrades[k++]));\n+\t\t\t\t\n+\t\t\t}\n+\t\t\ths.setAttribute(\"gradesList\", gl);\n+\t\t} catch (Exception e) {\n+\t\t\tSystem.out.print(e.getMessage());\n+\t\t}\n+\t\t\n+\t\tresponse.sendRedirect(\"1414080902210/showscoreinfo.jsp\");\n+\t\t\n+\t}\n+\n+\n+\n+\tpublic void init(ServletConfig config) throws ServletException {\n+\t\t\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "5921e2b4072af8461f659ffffa5d1a99660b9c4d",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902210/Student.java",
    "status" : "added",
    "additions" : 48,
    "deletions" : 0,
    "changes" : 48,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Student.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Student.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Student.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,48 @@\n+package edu.hzu.javaweb.labs.se1414080902210;\n+\n+public class Student {\n+\tprivate int id;\n+\tprivate String name;\n+\tprivate String sex;\n+\tprivate int age;\n+\tprivate float weight;\n+\tprivate float hight;\n+\t\n+\tpublic int getId() {\n+\t\treturn id;\n+\t}\n+\tpublic void setId(int id) {\n+\t\tthis.id = id;\n+\t}\n+\tpublic String getName() {\n+\t\treturn name;\n+\t}\n+\tpublic void setName(String name) {\n+\t\tthis.name = name;\n+\t}\n+\tpublic String getSex() {\n+\t\treturn sex;\n+\t}\n+\tpublic void setSex(String sex) {\n+\t\tthis.sex = sex;\n+\t}\n+\tpublic int getAge() {\n+\t\treturn age;\n+\t}\n+\tpublic void setAge(int age) {\n+\t\tthis.age = age;\n+\t}\n+\tpublic float getWeight() {\n+\t\treturn weight;\n+\t}\n+\tpublic void setWeight(float weight) {\n+\t\tthis.weight = weight;\n+\t}\n+\tpublic float getHight() {\n+\t\treturn hight;\n+\t}\n+\tpublic void setHight(float hight) {\n+\t\tthis.hight = hight;\n+\t}\n+\t\n+}"
  }, {
    "sha" : "66dd9d62f3826d6f6e3e6ed5541451796e5577c9",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902210/StudentDAO.java",
    "status" : "added",
    "additions" : 134,
    "deletions" : 0,
    "changes" : 134,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/StudentDAO.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/StudentDAO.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902210/StudentDAO.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,134 @@\n+package edu.hzu.javaweb.labs.se1414080902210;\n+\n+import java.sql.*;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import edu.hzu.javaweb.labs.se1414080902210.DbConnect;\n+import edu.hzu.javaweb.labs.se1414080902210.Student;\n+\n+public class StudentDAO implements IStudent {\n+\tprotected static final String FIELDS_INSERT = \"id,name,sex,age,weight,hight\";\n+\tprotected static String INSERT_SQL = \"insert into stu_info(\"+FIELDS_INSERT+\")\"+\"values(?,?,?,?,?,?)\";\n+\tprotected static String SELECT_SQL = \"select * from stu_info where name=? and sex=?\";\n+\tprotected static String UPDATE_SQL = \"update stu_info set id=?,name=?,sex=?,age=?,weight=?,hight=? where id=?\";\n+\tprotected static String DELETE_SQL = \"delete from stu_info where id=?\";\n+\t@Override//插入\n+\tpublic Student create(Student stu) throws Exception {\n+\t\tConnection con = null ;\n+\t\tPreparedStatement prepStmt = null;\n+\t\tResultSet rs = null;\n+\t\ttry {\n+\t\t\tcon = DbConnect.getConnection();\n+\t\t\tprepStmt = con.prepareStatement(INSERT_SQL) ;//获取插入sql语句\n+\t\t\tprepStmt.setInt(1, stu.getId());\n+\t\t\tprepStmt.setString(2, stu.getName());\n+\t\t\tprepStmt.setString(3, stu.getSex());\n+\t\t\tprepStmt.setInt(4, stu.getAge());\n+\t\t\tprepStmt.setFloat(5, stu.getWeight());\n+\t\t\tprepStmt.setFloat(6, stu.getHight());\n+\t\t\tprepStmt.executeUpdate();\n+\t\t} catch (Exception e) {\n+\t\t\t// TODO: handle exception\n+\t\t} finally{\n+\t\t\tDbConnect.closeDB(con, prepStmt, rs);\n+\t\t}\n+\t\treturn stu;\n+\t\t\n+\t}\n+\n+\t@Override//删除某条信息\n+\tpublic int remove(Student stu) throws Exception {\n+\t\tConnection con = null ;\n+\t\tPreparedStatement prepStmt = null;\n+\t\tResultSet rs = null;\n+\t\ttry {\n+\t\t\tcon = DbConnect.getConnection();\n+\t\t\tprepStmt = con.prepareStatement(DELETE_SQL);\n+\t\t\t\tprepStmt.setInt(1, stu.getId());\n+\t\t\t\tint n = prepStmt.executeUpdate();\n+\t\t\t\treturn n;\n+\t\t}finally{\n+\t\t\tDbConnect.closeDB(con, prepStmt, rs);\n+\t\t}\n+\t}\n+\n+\t@Override//查询所有学生\n+\tpublic Student find(Student stu) throws Exception {\n+\t\tConnection con = null ;\n+\t\tPreparedStatement prepStmt = null;\n+\t\tResultSet rs = null;\n+\t\tStudent stu2 = null;\n+\t\ttry {\n+\t\t\tcon = DbConnect.getConnection();\n+\t\t\tSystem.out.println(\"明天好\");\n+\t\t\tprepStmt = con.prepareStatement(SELECT_SQL) ;\n+\t\t\tprepStmt.setString(1, stu.getName());\n+\t\t\tprepStmt.setString(2, stu.getSex());\n+\t\t\trs = prepStmt.executeQuery();//执行查询操作\n+\t\t\tif(rs.next())\n+\t\t\t{\n+\t\t\t\tstu2 = new Student();//实例化一个stu2\n+\t\t\t\tstu2.setId(rs.getInt(1));\n+\t\t\t\tstu2.setName(rs.getString(2));\n+\t\t\t\tstu2.setSex(rs.getString(3));\n+\t\t\t\tstu2.setAge(rs.getInt(4));\n+\t\t\t\tstu2.setWeight(rs.getFloat(5));\n+\t\t\t\tstu2.setHight(rs.getFloat(6));\n+\t\t\t}\t\t\t\n+\t\t} catch (Exception e) {\n+\t\t\t// TODO: handle exception\n+\t\t} finally{\n+\t\t\tDbConnect.closeDB(con, prepStmt, rs);\n+\t\t}\n+\t\treturn stu2;\n+\t}\n+\n+\t@Override//查询所有\n+\tpublic List<Student> findAll() throws Exception {\n+\t\tConnection con = null ;\n+\t\tPreparedStatement prepStmt = null;\n+\t\tResultSet rs = null;\n+\t\tList<Student>student = new ArrayList<Student>();//创建存放Student对象的集合\n+\t\tcon = DbConnect.getConnection();\n+\t\tprepStmt = con.prepareStatement(\"select * from stu_info\");\n+\t\trs = prepStmt.executeQuery();\n+\t\twhile (rs.next()) {\n+\t\t\tStudent stu2 = new Student();\n+\t\t\tstu2 = new Student();//将查询到的**实例化\n+\t\t\tstu2.setId(rs.getInt(1));\n+\t\t\tstu2.setName(rs.getString(2));\n+\t\t\tstu2.setSex(rs.getString(3));\n+\t\t\tstu2.setAge(rs.getInt(4));\n+\t\t\tstu2.setWeight(rs.getFloat(5));\n+\t\t\tstu2.setHight(rs.getFloat(6));\n+\t\t\tstudent.add(stu2);//添加到链表\n+\t\t}\n+\t\tDbConnect.closeDB(con, prepStmt, rs);\n+\t\treturn student;//返回链表\n+\t}\n+\n+\t@Override//用指定对象实现修改数据\n+\tpublic int update(Student stu) throws Exception {\n+\t\tConnection con = null ;\n+\t\tPreparedStatement prepStmt = null;\n+\t\tResultSet rs = null;\n+\t\ttry {\n+\t\t\tcon = DbConnect.getConnection();\n+\t\t\tprepStmt = con.prepareStatement(UPDATE_SQL) ;//获取插入sql语句\n+\t\t\tprepStmt.setInt(1, stu.getId());\n+\t\t\tprepStmt.setString(2, stu.getName());\n+\t\t\tprepStmt.setString(3, stu.getSex());\n+\t\t\tprepStmt.setInt(4, stu.getAge());\n+\t\t\tprepStmt.setFloat(5, stu.getWeight());\n+\t\t\tprepStmt.setFloat(6, stu.getHight());\n+\t\t\tprepStmt.setInt(7, stu.getId());\n+\t\t\tint n = prepStmt.executeUpdate();\n+\t\t\treturn n;\n+\t\t}finally{\n+\t\t\tDbConnect.closeDB(con, prepStmt, rs);\n+\t\t}\n+\t\t\n+\t}\n+\t\n+}"
  }, {
    "sha" : "82f924e0602e9d4daf344fdfc70c962336df6102",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902210/Update.java",
    "status" : "added",
    "additions" : 69,
    "deletions" : 0,
    "changes" : 69,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Update.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Update.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902210/Update.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,69 @@\n+package edu.hzu.javaweb.labs.se1414080902210;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import edu.hzu.javaweb.labs.se1414080902210.StudentDAO;\n+import edu.hzu.javaweb.labs.se1414080902210.Student;\n+\n+public class Update extends HttpServlet {\n+\n+\t/**\n+\t * \n+\t */\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\tpublic Update() {\n+\t\tsuper();\n+\t}\n+\n+\tpublic void destroy() {\n+\t\tsuper.destroy();\n+\n+\t}\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t}\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tresponse.setContentType(\"text/html;charset=utf-8\");\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tint id = Integer.parseInt(request.getParameter(\"id\"));\n+\t\tString name = request.getParameter(\"name\");\n+\t\tString sex = request.getParameter(\"sex\");\n+\t\tint age = Integer.parseInt(request.getParameter(\"age\"));\n+\t\tfloat weight = Float.parseFloat(request.getParameter(\"weight\"));\n+\t\tfloat hight = Float.parseFloat(request.getParameter(\"hight\"));\n+\t\t\n+\t\tStudent student = new Student();\n+\t\tstudent.setId(id);\n+\t\tstudent.setName(name);\n+\t\tstudent.setSex(sex);\n+\t\tstudent.setAge(age);\n+\t\tstudent.setWeight(weight);\n+\t\tstudent.setHight(hight);\n+\t\t\n+\t\tStudentDAO up = new StudentDAO();\n+\t\ttry {\n+\t\t\tif(up.update(student)>=1){\n+\t\t\t\trequest.getRequestDispatcher(\"/success.jsp\").forward(request, response);\n+\t\t\t}else{\n+\t\t\t\trequest.getRequestDispatcher(\"/error.jsp\").forward(request, response);\n+\t\t\t}\n+\t\t} catch (Exception e) {\n+\t\t\t// TODO: handle exception\n+\t\t}\n+\t}\n+\n+\tpublic void init() throws ServletException {\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "1346813c685d475b67d8be2cf55fe3c3cb5874b9",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902211/Filter_Login.java",
    "status" : "added",
    "additions" : 44,
    "deletions" : 0,
    "changes" : 44,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902211/Filter_Login.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902211/Filter_Login.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902211/Filter_Login.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,44 @@\n+package filter;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpSession;\n+\n+public class Filter_Login implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\tHttpServletRequest requ = (HttpServletRequest)request;\n+\t\tHttpServletRespon resp = (HttpServletRespon)respon;\n+\t\tHttpSession session = requ.getSession(true);\n+\t\tif(session.getAttribute(\"username\") == null){\n+\t\t\tresp.sendRedirect(\"login.jsp\");\n+\t\t} else {\n+\t\t\tchain.doFilter(request, response);\n+\t\t}\n+\t\t\n+\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "0cf83b556d249062c859d918c4e9898839e232d3",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902211/Filter_SetEncoding.java",
    "status" : "added",
    "additions" : 34,
    "deletions" : 0,
    "changes" : 34,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902211/Filter_SetEncoding.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902211/Filter_SetEncoding.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902211/Filter_SetEncoding.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,34 @@\n+package filter;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+\n+public class Filter_SetEncoding implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain filterchain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tfilterchain.doFilter(request, response);\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "f8fc500aa15d78a4fa76e5c145d4f48e6ec3476b",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902211/Se1414080902211Servlet.java",
    "status" : "added",
    "additions" : 91,
    "deletions" : 0,
    "changes" : 91,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902211/Se1414080902211Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902211/Se1414080902211Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902211/Se1414080902211Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,91 @@\n+package Servlet;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class Set_cussess extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Set_cussess() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html;charset=utf-8\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\t\n+\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+\t\tout.println(\"<HTML>\");\n+\t\tout.println(\"  <HEAD><TITLE>seting success</TITLE></HEAD>\");\n+\t\tout.println(\"  <BODY>\");\n+\t\tout.print(\"���óɹ���\");//���ı�������룬ע�����ñ����ʽ\n+\t\tout.println(\"  </BODY>\");\n+\t\tout.println(\"</HTML>\");\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html;charset=utf-8\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\t\n+\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+\t\tout.println(\"<HTML>\");\n+\t\tout.println(\"  <HEAD><TITLE>seting success</TITLE></HEAD>\");\n+\t\tout.println(\"  <BODY>\");\n+\t\tout.print(\"���óɹ���\");//���ı�������룬ע�����ñ����ʽ\n+\t\tout.println(\"  </BODY>\");\n+\t\tout.println(\"</HTML>\");\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "bdc3cf8a08c2c80a030427ac0ad98d84105e9295",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902212/EncodingFilter.java",
    "status" : "added",
    "additions" : 44,
    "deletions" : 0,
    "changes" : 44,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902212/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902212/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902212/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,44 @@\n+package Linco;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+/**\n+ * Servlet Filter implementation class LincoFilter\n+ */\n+@WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+public class EncodingFilter implements Filter {\n+\n+    public EncodingFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+    @Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\tString coding = \"UTF-8\";\n+\t\trequest.setCharacterEncoding(coding);\n+\t\tresponse.setCharacterEncoding(coding);\n+\t\tchain.doFilter(request, response);\n+\t\tSystem.out.println(\"change CharacterEncoding To utf-8\");\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+}"
  }, {
    "sha" : "594e32c636c67de63a5b7975d43d9075687a3fe8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902212/LoginFilter.java",
    "status" : "added",
    "additions" : 58,
    "deletions" : 0,
    "changes" : 58,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902212/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902212/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902212/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,58 @@\n+package Linco;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet Filter implementation class LoginFilter\n+ */\n+@WebFilter(filterName = \"LoginFilter\", urlPatterns = \"/My_Main.jsp\")\n+public class LoginFilter implements Filter {\n+\n+    /**\n+     * Default constructor. \n+     */\n+    public LoginFilter() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see Filter#destroy()\n+\t */\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t/**\n+\t * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)\n+\t */\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest requ = (HttpServletRequest)request;\n+\t\tHttpServletResponse resp = (HttpServletResponse)response;\n+\t\tif(requ!=null&&requ.getParameter(\"userName\")!=null&&requ.getParameter(\"password\")!=null&&requ.getParameter(\"userName\").equals(\"Linco\")&&requ.getParameter(\"password\").equals(\"Lincokey\")){\n+\t\t\tchain.doFilter(request, response);\n+\t\t} else {\n+\t\t\tresp.sendRedirect(\"LincoLogin.html\");\n+\t\t}\n+\t\tSystem.out.println(\"登录验证!\");\n+\t}\n+\n+\t/**\n+\t * @see Filter#init(FilterConfig)\n+\t */\n+\t@Override\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "392988f750278cfb1e6ad0d5900391002c958c12",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902212/Se1414080902212Sevlet.java",
    "status" : "added",
    "additions" : 120,
    "deletions" : 0,
    "changes" : 120,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902212/Se1414080902212Sevlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902212/Se1414080902212Sevlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902212/Se1414080902212Sevlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,120 @@\n+package Linco;\n+\n+import java.io.File;\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.List;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import org.apache.commons.fileupload.FileItem;\n+import org.apache.commons.fileupload.disk.DiskFileItemFactory;\n+import org.apache.commons.fileupload.servlet.ServletFileUpload;\n+\n+/**\n+ * Servlet implementation class LincoServlet\n+ */\n+@WebServlet(description = \"Linco's first Servlet\", urlPatterns = { \"Se1414080902212Sevlet\" })\n+public class Se1414080902212Sevlet extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+       \n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public Se1414080902212Sevlet() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t/**\n+\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\t@Override\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\tresponse.getWriter().append(\"Served at: \").append(request.getContextPath());\n+\t}\n+\n+\t/**\n+\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n+\t */\n+\t@Override\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\t// TODO Auto-generated method stub\n+\t\t// 上传文件存储目录\n+\t    final String UPLOAD_DIRECTORY = \"upload/\";\n+\t    // 上传配置\n+\t    final int MEMORY_THRESHOLD   = 1024 * 1024 * 3;  // 3MB\n+\t    final int MAX_FILE_SIZE      = 1024 * 1024 * 40; // 40MB\n+\t    final int MAX_REQUEST_SIZE   = 1024 * 1024 * 50; // 50MB\n+\t\t\t// 检测是否为Multipart上传\n+\t\t\tif (!ServletFileUpload.isMultipartContent(request)) {\n+\t\t\t    // 如果不是则停止\n+\t\t\t    PrintWriter writer = response.getWriter();\n+\t\t\t    writer.println(\"Error: 表单必须包含 enctype=multipart/form-data\");\n+\t\t\t    writer.flush();\n+\t\t\t    return;\n+\t\t\t}\n+\t \n+\t        // 配置上传参数\n+\t        DiskFileItemFactory factory = new DiskFileItemFactory();\n+\t        // 设置内存临界值 - 超过后将产生临时文件并存储于临时目录中\n+\t        factory.setSizeThreshold(MEMORY_THRESHOLD);\n+\t        // 设置临时存储目录\n+\t        factory.setRepository(new File(System.getProperty(\"java.io.tmpdir\")));\n+\t \n+\t        ServletFileUpload upload = new ServletFileUpload(factory);\n+\t         \n+\t        // 设置最大文件上传值\n+\t        upload.setFileSizeMax(MAX_FILE_SIZE);\n+\t         \n+\t        // 设置最大请求值 (包含文件和表单数据)\n+\t        upload.setSizeMax(MAX_REQUEST_SIZE);\n+\t \n+\t        // 构造临时路径来存储上传的文件\n+\t        // 这个路径相对当前应用的目录\n+\t        String uploadPath = getServletContext().getRealPath(\"./\") + File.separator + UPLOAD_DIRECTORY;\n+\t       \n+\t         \n+\t        // 如果目录不存在则创建\n+\t        File uploadDir = new File(uploadPath);\n+\t        if (!uploadDir.exists()) {\n+\t            uploadDir.mkdir();\n+\t        }\n+\t \n+\t        try {\n+\t            // 解析请求的内容提取文件数据\n+\t            List<FileItem> formItems = upload.parseRequest(request);\n+\t \n+\t            if (formItems != null && formItems.size() > 0) {\n+\t                // 迭代表单数据\n+\t                for (FileItem item : formItems) {\n+\t                    // 处理不在表单中的字段\n+\t                    if (!item.isFormField()) {\n+\t                        String fileName = new File(new String(item.getName().getBytes(), \"iso8859-1\")).getName();\n+\t                        String filePath = uploadPath + File.separator + fileName;\n+\t                        File storeFile = new File(filePath);\n+\t                        // 在控制台输出文件的上传路径\n+\t                        System.out.println(filePath);\n+\t                        // 保存文件到硬盘\n+\t                        item.write(storeFile);\n+\t                        request.setAttribute(\"message\",\n+\t                            \"文件上传成功!\");\n+\t                    }\n+\t                }\n+\t            }\n+\t        } catch (Exception ex) {\n+\t            request.setAttribute(\"message\",\n+\t                    \"错误信息: \" + ex.getMessage());\n+\t        }\n+\t        // 跳转到 message.jsp\n+\t        getServletContext().getRequestDispatcher(\"/message.jsp\").forward(\n+\t                request, response);\n+\t}\n+\n+}\n+//����λ��Ϊhttp://localhost:8080/Web_Design/LincoServlet  ����Ŀ����/��ע��·����\n\\ No newline at end of file"
  }, {
    "sha" : "0ad4528ea5d409ae1c1ec570c897fca066d7d0c7",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902213/DBConnection.java",
    "status" : "added",
    "additions" : 44,
    "deletions" : 0,
    "changes" : 44,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902213/DBConnection.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902213/DBConnection.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902213/DBConnection.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,44 @@\n+package edu.hzu.javaweb.labs.se1414080902213;\n+\n+import java.sql.*;\n+\n+public class DBConnection {\n+\n+\tprivate static String driverName = \"com.mysql.jdbc.Driver\";\n+\tprivate static String userName = \"root\";\n+\tprivate static String userPwd = \"root\";\n+\tprivate static String dbName = \"students\";\n+\t\n+\tpublic static Connection getDBconnection(){\n+\t\tString url1 = \"jdbc:mysql://localhost:3306/\" + dbName;\n+\t\tString url2 = \"?user=\" + userName + \"&password=\" + userPwd;\n+\t\tString url3 = \"&useUnicode=true&characterEncoding=utf-8\";\n+\t\tString url = url1 + url2 + url3;\n+\t\t\n+\t\ttry{\n+\t\t\tClass.forName(driverName);\n+\t\t\tConnection con = DriverManager.getConnection(url);\n+\t\t\treturn con;\n+\t\t}catch(Exception e){\n+\t\t\te.printStackTrace();\n+\t\t}\t\t\n+\t\treturn null;\n+\t}\n+\t\n+\tpublic static void closeDB(Connection con, PreparedStatement pstm, ResultSet rs){\n+\t\ttry{\n+\t\t\tif(rs != null){\n+\t\t\t\trs.close();\n+\t\t\t}\n+\t\t\tif(pstm != null){\n+\t\t\t\tpstm.close();\n+\t\t\t}\n+\t\t\tif(con != null){\n+\t\t\t\tcon.close();\n+\t\t\t}\n+\t\t}catch(SQLException e){\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t}\n+\t\n+}"
  }, {
    "sha" : "f2b35b2e1de0a4714cfc2069d0a263a730941fc3",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902213/EncodingFilter.java",
    "status" : "added",
    "additions" : 42,
    "deletions" : 0,
    "changes" : 42,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902213/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902213/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902213/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,42 @@\n+package edu.hzu.javaweb.labs.se1414080902213;\n+\n+import java.io.IOException;\n+import java.util.Enumeration;\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+@WebFilter(filterName=\"EncodingFilter\", urlPatterns=\"/*\")\n+public class EncodingFilter implements Filter {\n+    private String encoding;  \n+    private Map<String, String> params = new HashMap<String, String>();  \n+    \n+    public void destroy() {  \n+        System.out.println(\"end do the encoding filter!\");  \n+        params=null;  \n+        encoding=null;  \n+    }  \n+    public void doFilter(ServletRequest req, ServletResponse resp,  \n+            FilterChain chain) throws IOException, ServletException {  \n+    \tSystem.out.println(chain==null);\n+        req.setCharacterEncoding(encoding);  \n+        chain.doFilter(req, resp);        \n+    }  \n+   \n+    public void init(FilterConfig config) throws ServletException {  \n+        System.out.println(\"begin do the encoding filter!\");  \n+        encoding = config.getInitParameter(\"encoding\");  \n+        for (Enumeration e = config.getInitParameterNames(); e  \n+                .hasMoreElements();) {  \n+            String name = (String) e.nextElement();  \n+            String value = config.getInitParameter(name);  \n+            params.put(name, value);  \n+        }  \n+    }  \n+ }  \n\\ No newline at end of file"
  }, {
    "sha" : "160ef489c1222728adf1b809230f03940d3620cb",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902213/IStudentDAO.java",
    "status" : "added",
    "additions" : 14,
    "deletions" : 0,
    "changes" : 14,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902213/IStudentDAO.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902213/IStudentDAO.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902213/IStudentDAO.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,14 @@\n+package edu.hzu.javaweb.labs.se1414080902213;\n+\n+import java.util.List;\n+\n+\n+public interface IStudentDAO {\n+\t\n+\tpublic abstract Student create(Student stu) throws Exception;//��Ӽ�¼\n+\tpublic abstract void remove(Student stu) throws Exception;//ɾ���¼\n+\tpublic abstract Student find(Student stu) throws Exception;//��ѯ��¼\n+\tpublic abstract List<Student> findAll() throws Exception; //�г��¼\n+\tpublic abstract void update(Student stu) throws Exception; //�޸ļ�¼\n+\t\n+}"
  }, {
    "sha" : "7d80ad36a168c8f03236721196601ef5828e3000",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902213/LogFilter.java",
    "status" : "added",
    "additions" : 45,
    "deletions" : 0,
    "changes" : 45,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902213/LogFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902213/LogFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902213/LogFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,45 @@\n+package edu.hzu.javaweb.labs.se1414080902213;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletContext;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpSession;\n+@WebFilter(filterName=\"LoggerFilter\", urlPatterns=\"/servlet/index.do\")\n+public class LoggerFilter implements Filter{\n+\t FilterConfig config;  \n+\t   \n+\t    public void destroy() {  \n+\t        this.config = null;  \n+\t    }  \n+\t   \n+\t    @SuppressWarnings(\"deprecation\")\n+\t\tpublic void doFilter(ServletRequest req, ServletResponse res,  \n+\t            FilterChain chain) throws IOException, ServletException {  \n+\t        ServletContext context = this.config.getServletContext();  \n+\t        HttpServletRequest hreq = (HttpServletRequest) req;  \n+\t        HttpSession session = hreq.getSession();\n+\t        System.out.println(req.getParameter(\"count\").toString());\n+\t        if(session.getAttribute(req.getParameter(\"count\").toString())!=null){\n+\t        \tchain.doFilter(req, res);\n+\t        }else{\n+\t        \treq.getRequestDispatcher(\"/index.jsp\");\n+\t        }\n+\t        try {  \n+\t            chain.doFilter(req, res);  \n+\t        } catch (Exception e) {  \n+\t            e.printStackTrace();  \n+\t        }  \n+\t    }  \n+\t   \n+\t    public void init(FilterConfig config) throws ServletException {  \n+\t        this.config = config;  \n+\t    }\n+\t }  \n\\ No newline at end of file"
  }, {
    "sha" : "6b435d16d5a8f6448ebf4100eb8f5aa5eab3e9f8",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902213/Se1414080902213Servlet.java",
    "status" : "added",
    "additions" : 84,
    "deletions" : 0,
    "changes" : 84,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902213/Se1414080902213Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902213/Se1414080902213Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902213/Se1414080902213Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,84 @@\n+package edu.hzu.javaweb.labs.se1414080902213;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+ @WebServlet(\"/1414080902213\")\n+public class Se1414080902232Servlet extends HttpServlet {\n+\n+\t/**\n+\t * Constructor of the object.\n+\t */\n+\tpublic Se1414080902213Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\t/**\n+\t * Destruction of the servlet. <br>\n+\t */\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+\t\tout.println(\"<HTML>\");\n+\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+\t\tout.println(\"  <BODY>\");\n+\t\tout.print(\"    This is \");\n+\t\tout.print(this.getClass());\n+\t\tout.println(\", using the GET method\");\n+\t\tout.println(\"  </BODY>\");\n+\t\tout.println(\"</HTML>\");\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\tresponse.setCharacterEncoding(\"utf-8\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"����??3��1|��?\");\n+\t}\n+\n+\t/**\n+\t * Initialization of the servlet. <br>\n+\t *\n+\t * @throws ServletException if an error occurs\n+\t */\n+\tpublic void init() throws ServletException {\n+\t}\n+\n+}\n\\ No newline at end of file"
  }, {
    "sha" : "3e951c8573b5cc7362ddb3d47ee1874814518d99",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902213/Student.java",
    "status" : "added",
    "additions" : 49,
    "deletions" : 0,
    "changes" : 49,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902213/Student.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902213/Student.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902213/Student.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,49 @@\n+package edu.hzu.javaweb.labs.se1414080902213;\n+\n+public class Student {\n+\t\n+\tprivate int id;\n+\tprivate String name;\n+\tprivate String sex;\n+\tprivate int age;\n+\tprivate float weight;\n+\tprivate float height;\n+\tpublic int getId() {\n+\t\treturn id;\n+\t}\n+\tpublic void setId(int id) {\n+\t\tthis.id = id;\n+\t}\n+\tpublic String getName() {\n+\t\treturn name;\n+\t}\n+\tpublic void setName(String name) {\n+\t\tthis.name = name;\n+\t}\n+\tpublic String getSex() {\n+\t\treturn sex;\n+\t}\n+\tpublic void setSex(String sex) {\n+\t\tthis.sex = sex;\n+\t}\n+\tpublic int getAge() {\n+\t\treturn age;\n+\t}\n+\tpublic void setAge(int age) {\n+\t\tthis.age = age;\n+\t}\n+\tpublic float getWeight() {\n+\t\treturn weight;\n+\t}\n+\tpublic void setWeight(float weight) {\n+\t\tthis.weight = weight;\n+\t}\n+\tpublic float getHeight() {\n+\t\treturn height;\n+\t}\n+\tpublic void setHeight(float height) {\n+\t\tthis.height = height;\n+\t}\n+\t\n+\t\n+}"
  }, {
    "sha" : "edcd046dd3979d5e6e931d950b71908bc04aefcf",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902213/StudentDAO.java",
    "status" : "added",
    "additions" : 135,
    "deletions" : 0,
    "changes" : 135,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902213/StudentDAO.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902213/StudentDAO.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902213/StudentDAO.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,135 @@\n+package edu.hzu.javaweb.labs.se1414080902213;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.sql.*;\n+\n+\n+public class StudentDAO implements IStudentDAO{\n+\t\n+\tprotected static final String FIELDS_INSERT = \"id,name,sex,age,weight,height\";\n+\tprotected static String INSERT_SQL = \"insert into stu_info (\" + FIELDS_INSERT + \")\" + \" values(?,?,?,?,?,?)\";\n+\tprotected static String SELECT_SQL = \"select \" + FIELDS_INSERT + \" from stu_info where id=?\";\n+\tprotected static String UPDATE_SQL = \"update stu_info set \" + \"id=?,name=?,sex=?,age=?,weight=?,height=? where id=?\";\n+\tprotected static String DELETE_SQL = \"delete from stu_info where id=?\";\n+\t\n+\tpublic Student create(Student stu) throws Exception {\n+\t\tConnection con = null;\n+\t\tPreparedStatement prepStmt = null;\n+\t\tResultSet rs = null;\n+\t\ttry{\n+\t\t\t\n+\t\t\tcon = DBConnection.getDBconnection();\n+\t\t\tprepStmt = con.prepareStatement(INSERT_SQL);\n+\t\t\tprepStmt.setInt(1, stu.getId());\n+\t\t\tprepStmt.setString(2, stu.getName());\n+\t\t\tprepStmt.setString(3, stu.getSex());\n+\t\t\tprepStmt.setInt(4, stu.getAge());\n+\t\t\tprepStmt.setFloat(5, stu.getWeight());\n+\t\t\tprepStmt.setFloat(6, stu.getHeight());\n+\t\t\tprepStmt.executeUpdate();\n+\t\t\t\n+\t\t}catch(Exception e){\n+\t\t\t\n+\t\t}finally{\n+\t\t\tDBConnection.closeDB(con, prepStmt, rs);\n+\t\t}\n+\t\treturn stu;\n+\t}\n+\t\n+\tpublic void remove(Student stu) throws Exception {\n+\t\tConnection con = null;\n+\t\tPreparedStatement prepStmt = null;\n+\t\tResultSet rs = null;\n+\t\ttry{\n+\t\t\t\n+\t\t\tcon = DBConnection.getDBconnection();\n+\t\t\tprepStmt = con.prepareStatement(DELETE_SQL);\n+\t\t\tprepStmt.setInt(1, stu.getId());\n+\t\t\tprepStmt.executeUpdate();\n+\t\t\t\n+\t\t}catch(Exception e){\n+\t\t\t\n+\t\t}finally{\n+\t\t\tDBConnection.closeDB(con, prepStmt, rs);\n+\t\t}\n+\t\t\n+\t}\n+\t\n+\tpublic Student find(Student stu) throws Exception {\n+\t\tConnection con = null;\n+\t\tPreparedStatement prepStmt = null;\n+\t\tResultSet rs = null;\n+\t\tStudent stu2 = null;\n+\t\t\n+\t\ttry{\n+\t\t\tcon = DBConnection.getDBconnection();\n+\t\t\tprepStmt = con.prepareStatement(SELECT_SQL);\n+\t\t\tprepStmt.setInt(1, stu.getId());\n+\t\t\trs = prepStmt.executeQuery();\n+\t\t\tif(rs.next()){\n+\t\t\t\tstu2 = new Student();\n+\t\t\t\tstu2.setId(rs.getInt(1));\n+\t\t\t\tstu2.setName(rs.getString(2));\n+\t\t\t\tstu2.setSex(rs.getString(3));\n+\t\t\t\tstu2.setAge(rs.getInt(4));\n+\t\t\t\tstu2.setWeight(rs.getFloat(5));\n+\t\t\t\tstu2.setHeight(rs.getFloat(6));\n+\t\t\t}\n+\t\t}catch(Exception e){\n+\t\t\t\n+\t\t}finally{\n+\t\t\tDBConnection.closeDB(con, prepStmt, rs);\n+\t\t}\n+\t\treturn stu2;\n+\t}\n+\n+\tpublic List<Student> findAll() throws Exception {\n+\t\t\n+\t\tConnection con = null;\n+\t\tPreparedStatement prepStmt = null;\n+\t\tResultSet rs = null;\n+\t\tList<Student> student = new ArrayList<Student>();\n+\t\tcon = DBConnection.getDBconnection();\n+\t\tprepStmt = con.prepareStatement(\"select * from stu_info\");\n+\t\trs = prepStmt.executeQuery();\n+\t\twhile(rs.next()){\n+\t\t\tStudent  stu = new Student();\n+\t\t\tstu.setId(rs.getInt(1));\n+\t\t\tstu.setName(rs.getString(2));\n+\t\t\tstu.setSex(rs.getString(3));\n+\t\t\tstu.setAge(rs.getInt(4));\n+\t\t\tstu.setWeight(rs.getFloat(5));\n+\t\t\tstu.setHeight(rs.getFloat(6));\n+\t\t\tstudent.add(stu);\n+\t\t}\n+\t\tDBConnection.closeDB(con, prepStmt, rs);\n+\t\treturn student;\n+\t}\n+\n+\tpublic void update(Student stu) throws Exception {\n+\t\tConnection con = null;\n+\t\tPreparedStatement prepStmt = null;\n+\t\tResultSet rs = null;\n+\t\ttry{\n+\t\t\tcon = DBConnection.getDBconnection();\n+\t\t\tprepStmt = con.prepareStatement(UPDATE_SQL);\n+\t\t\tprepStmt.setInt(1, stu.getId());\n+\t\t\tprepStmt.setString(2, stu.getName());\n+\t\t\tprepStmt.setString(3, stu.getSex());\n+\t\t\tprepStmt.setInt(4, stu.getAge());\n+\t\t\tprepStmt.setFloat(5, stu.getWeight());\n+\t\t\tprepStmt.setFloat(6, stu.getHeight());\n+\t\t\tprepStmt.setInt(7, stu.getId());\n+\t\t\tint rowCount = prepStmt.executeUpdate();\n+\t\t\tif(rowCount == 0){\n+\t\t\t\tthrow new Exception(\"Update Error:Student Id:\" + stu.getId());\n+\t\t\t}\n+\t\t}catch(Exception e){\n+\t\t\t\n+\t\t}finally{\n+\t\t\tDBConnection.closeDB(con, prepStmt, rs);\n+\t\t}\n+\t\t\n+\t}\n+\n+}"
  }, {
    "sha" : "8a07e2f6bf0466fa795736cee3157d9e475a211a",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902214/Se1414080902214Servlet.java",
    "status" : "added",
    "additions" : 48,
    "deletions" : 0,
    "changes" : 48,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902214/Se1414080902214Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902214/Se1414080902214Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902214/Se1414080902214Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,48 @@\n+package edu.hzu.javaweb.labs.se1414080902214;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.Collection;\n+\n+import javax.servlet.ServletContext;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+@WebServlet(\"1414080902214\")\n+public class Se1414080902214Servlet extends HttpServlet {\n+\t\n+\tpublic Se1414080902214Servlet() {\n+\t\tsuper();\n+\t}\n+\n+\tpublic void destroy() {\n+\t\tsuper.destroy(); // Just puts \"destroy\" string in log\n+\t\t// Put your code here\n+\t}\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t}\n+\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\t//设置译码方式\n+\t\trequest.setCharacterEncoding(\"utf-8\");\n+\t\t\n+\t\t//获取参数—�?标题、内�?\n+\t\tString title = request.getParameter(\"count\");\n+\t\tString content = request.getParameter(\"password\");\n+\t\trequest.setAttribute(\"msg\", \"操作成功\");\n+\t\trequest.getRequestDispatcher(\"/index.jsp\").forward(request, response);;\n+\t}\n+\n+\tpublic void init() throws ServletException {\n+\t\t// Put your code here\n+\t}\n+\n+}"
  }, {
    "sha" : "ad1cddad514fee73a97e49ce75588c9885462113",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902215/EncodingFilter.java",
    "status" : "added",
    "additions" : 35,
    "deletions" : 0,
    "changes" : 35,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902215/EncodingFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902215/EncodingFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902215/EncodingFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,35 @@\n+package edu.hzu.javaweb.labs.se1414080902215;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+@WebFilter(filterName = \"EncodingFilter\", urlPatterns = \"/*\")\n+\n+public class EncodingFilter implements Filter {\n+\t \t@Override\n+\t \tpublic void destroy() {\n+\t \n+\t \t}\n+\t \n+\t \t@Override\n+\t \tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t \t\t\tFilterChain chain) throws IOException, ServletException {\n+\t \t\t\n+\t \t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t \t\tresponse.setCharacterEncoding(\"UTF-8\"); \n+\t \t\tchain.doFilter(request, response);\n+\t \t}\n+\t \n+\t \t@Override\n+\t \tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t \n+\t \t}\n+\t \n+\t } \n+ \n\\ No newline at end of file"
  }, {
    "sha" : "89dc18c549c0d6e993a754600119cc8c29f697cb",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902215/LoginFilter.java",
    "status" : "added",
    "additions" : 52,
    "deletions" : 0,
    "changes" : 52,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902215/LoginFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902215/LoginFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902215/LoginFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,52 @@\n+package edu.hzu.javaweb.labs.se1414080902215;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+@WebFilter(filterName = \"LoginFilter\", urlPatterns = \"/*\")\n+\n+public class LoginFilter implements Filter  {\n+\t\n+\tpublic void doFilter(ServletRequest request,   \n+        ServletResponse response,   \n+        FilterChain chain)   \n+       throws IOException, ServletException {   \n+ \n+    HttpServletRequest req = (HttpServletRequest) request;   \n+    HttpServletResponse res = (HttpServletResponse) response;   \n+ \n+    HttpSession session = req.getSession();   \n+    \tif (session.getAttribute(\"username\") != null) {//��¼����ܷ���   \n+        chain.doFilter(request, response);   \n+    \t} \n+    \telse {   \n+    \t\t\tres.sendRedirect(\"../failure.jsp\");   \n+    \t\t}   \n+\t}\n+\n+\t\n+\n+\t@Override\n+\tpublic void init(FilterConfig arg0) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t}\n+\n+\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t\t\n+\t} \n+}\n\\ No newline at end of file"
  }, {
    "sha" : "9a938b1ea98be8076bb795c17b7bfca118d35273",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902215/Se1414080902215.java",
    "status" : "added",
    "additions" : 46,
    "deletions" : 0,
    "changes" : 46,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902215/Se1414080902215.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902215/Se1414080902215.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902215/Se1414080902215.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,46 @@\n+package edu.hzu.javaweb.labs.se1414080902215;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+@WebServlet(\"/Se1414080902215Servlet\")\n+public class Se1414080902215Servlet extends HttpServlet {\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tdoPost(request, response);\n+\t\t\n+\t}\n+\t\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tString username = request.getParameter(\"username\");  \n+\t    String password = request.getParameter(\"password\");  \n+\t    String User1=\"abcd\";\n+\t    String Pwd1=\"1234\";\n+\t    String msg=\"��¼�ɹ���\";\n+\t    HttpSession session=request.getSession(true);\n+\t    if(username.equals(User1)&&password.equals(Pwd1))\n+\t    {\n+\t    \trequest.setAttribute(\"message\", msg);\n+\t    \tsession.setAttribute(\"message\", msg);\n+\t    \trequest.getRequestDispatcher(\"/index.jsp\").forward(request, response);\n+\t    \t\n+\t    }\n+\t    else\n+\t    { \n+\t    \trequest.getRequestDispatcher(\"/failure.jsp\").forward(request, response); \n+\t    }\n+\t}\n+\n+}"
  }, {
    "sha" : "5b64b3bfdd020caa4dff30ae66c9ce137627aa18",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902215/Se1414080902215Servlet.java",
    "status" : "added",
    "additions" : 27,
    "deletions" : 0,
    "changes" : 27,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902215/Se1414080902215Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902215/Se1414080902215Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902215/Se1414080902215Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,27 @@\n+package edu.hzu.javaweb.labs.se1414080902215;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.RequestDispatcher;\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class Se1414080902215Servlet extends HttpServlet {\n+\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tdoPost(request, response);\n+\t\t\n+\t}\n+\t\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"You're already to submit! \");\n+\t}\n+\n+}"
  }, {
    "sha" : "46405239b214b6cacb494322e68b005ed3d8146e",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902216/Se1414080902216Servlet.java",
    "status" : "added",
    "additions" : 59,
    "deletions" : 0,
    "changes" : 59,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902216/Se1414080902216Servlet.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902216/Se1414080902216Servlet.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902216/Se1414080902216Servlet.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,59 @@\n+package edu.hzu.javaweb.labs.se1414080902216;\n+\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+public class Se1414080902216Servlet extends HttpServlet {\n+\n+\t/**\n+\t * The doGet method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to get.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html;charset=utf-8\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"�����������Ӿۻ��¼\");\n+\t}\n+\n+\t/**\n+\t * The doPost method of the servlet. <br>\n+\t *\n+\t * This method is called when a form has its tag value method equals to post.\n+\t * \n+\t * @param request the request send by the client to the server\n+\t * @param response the response send by the server to the client\n+\t * @throws ServletException if an error occurred\n+\t * @throws IOException if an error occurred\n+\t */\n+\tpublic void doPost(HttpServletRequest request, HttpServletResponse response)\n+\t\t\tthrows ServletException, IOException {\n+\n+\t\tresponse.setContentType(\"text/html\");\n+\t\tPrintWriter out = response.getWriter();\n+\t\tout.println(\"<!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.01 Transitional//EN\\\">\");\n+\t\tout.println(\"<HTML>\");\n+\t\tout.println(\"  <HEAD><TITLE>A Servlet</TITLE></HEAD>\");\n+\t\tout.println(\"  <BODY>\");\n+\t\tout.print(\"    This is \");\n+\t\tout.print(this.getClass());\n+\t\tout.println(\", using the POST method\");\n+\t\tout.println(\"  </BODY>\");\n+\t\tout.println(\"</HTML>\");\n+\t\tout.flush();\n+\t\tout.close();\n+\t}\n+\n+}"
  }, {
    "sha" : "1d6989ddcc5d419ff9fcaaa430711d4813a4d562",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902216/firstFilter.java",
    "status" : "added",
    "additions" : 48,
    "deletions" : 0,
    "changes" : 48,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902216/firstFilter.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902216/firstFilter.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902216/firstFilter.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,48 @@\n+package edu.hzu.javaweb.labs.se1414080902216;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.Cookie;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+\n+@WebFilter(filterName=\"firstFilter\",urlPatterns=\"/1414080902216\")\n+public class firstFilter implements Filter {\n+\n+\t@Override\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\n+\t}\n+\n+\t@Override\n+\tpublic void doFilter(ServletRequest request, ServletResponse response,\n+\t\t\tFilterChain chain) throws IOException, ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t\tHttpServletRequest requ=(HttpServletRequest)request;\n+\t\tHttpServletResponse resp=(HttpServletResponse)response;\n+\t\tCookie cookie = null;\n+    \tCookie[] cookies = null;\n+    \tcookies = ((HttpServletRequest) request).getCookies();\n+    \t\n+\t\tif(cookies == null){\n+\t\t\tresp.sendRedirect(\"login.jsp\");\n+\t\t}\n+\t}\n+\n+\t@Override\n+\tpublic void init(FilterConfig filterConfig) throws ServletException {\n+\t\tSystem.out.println(\"����\");\n+\n+\t}\n+\n+}\n+"
  }, {
    "sha" : "6de6a59390d1bb9ff68dff986a2fa9aae3321f7d",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902217/Clear.java",
    "status" : "added",
    "additions" : 28,
    "deletions" : 0,
    "changes" : 28,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902217/Clear.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902217/Clear.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902217/Clear.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,28 @@\n+package se1414080902217;\n+\n+import java.io.IOException;\n+import javax.servlet.ServletException;\n+import javax.servlet.annotation.WebServlet;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ * Servlet implementation class clear\n+ */\n+@WebServlet(\"/clear\")\n+public class Clear extends HttpServlet {\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\trequest.getSession().removeAttribute(\"customerName\");\n+\t\trequest.getRequestDispatcher(\"index.jsp\").forward(request, response);\n+\t}\n+\n+\n+\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n+\t\trequest.getSession().removeAttribute(\"customerName\");\n+\t\trequest.getRequestDispatcher(\"index.jsp\").forward(request, response);\n+\t}\n+\n+}"
  }, {
    "sha" : "1b6bdd6bc901d34a30b8c463554eb50fd8483fcc",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902217/Filter_login.java",
    "status" : "added",
    "additions" : 48,
    "deletions" : 0,
    "changes" : 48,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902217/Filter_login.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902217/Filter_login.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902217/Filter_login.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,48 @@\n+package se1414080902217;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.servlet.http.HttpSession;\n+\n+/**\n+ * Servlet Filter implementation class filter_login\n+ */\n+@WebFilter(filterName = \"filter_login\", urlPatterns = {\"/Orders/makeOrder.jsp\"})\n+public class Filter_login implements Filter {\n+\n+    public Filter_login() {\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+\t\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\tHttpServletRequest req = (HttpServletRequest) request;\n+\t\tHttpServletResponse res = (HttpServletResponse) response;\n+\n+\t\tHttpSession session = req.getSession();\n+\t\tif (session.getAttribute(\"customerName\")==null) {\n+\t\t\tres.sendRedirect(\"/zhhao/error/error1.jsp\");\n+\t\t} else {\n+\t\t\tchain.doFilter(request, response);\n+\t\t}\n+\t}\n+\n+\t\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  }, {
    "sha" : "ecf93f8d746d1d5d3459b7af275474ac52b26436",
    "filename" : "jweb/src/edu/hzu/javaweb/labs/se1414080902217/Filter_setEncoding.java",
    "status" : "added",
    "additions" : 32,
    "deletions" : 0,
    "changes" : 32,
    "blob_url" : "https://github.com/hzuapps/java-web/blob/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902217/Filter_setEncoding.java",
    "raw_url" : "https://github.com/hzuapps/java-web/raw/ff6b6cefecd0688765915617855d46424c07c15e/jweb/src/edu/hzu/javaweb/labs/se1414080902217/Filter_setEncoding.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/java-web/contents/jweb/src/edu/hzu/javaweb/labs/se1414080902217/Filter_setEncoding.java?ref=ff6b6cefecd0688765915617855d46424c07c15e",
    "patch" : "@@ -0,0 +1,32 @@\n+package se1414080902217;\n+\n+import java.io.IOException;\n+import javax.servlet.Filter;\n+import javax.servlet.FilterChain;\n+import javax.servlet.FilterConfig;\n+import javax.servlet.ServletException;\n+import javax.servlet.ServletRequest;\n+import javax.servlet.ServletResponse;\n+import javax.servlet.annotation.WebFilter;\n+\n+\n+@WebFilter(filterName = \"filter_setEncoding\", urlPatterns = \"/*\")\n+public class Filter_setEncoding implements Filter {\n+\n+\tpublic void destroy() {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+\t\n+\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+\t\trequest.setCharacterEncoding(\"UTF-8\");\n+\t\tresponse.setCharacterEncoding(\"UTF-8\");\n+\t\tchain.doFilter(request, response);\n+\t}\n+\n+\t\n+\tpublic void init(FilterConfig fConfig) throws ServletException {\n+\t\t// TODO Auto-generated method stub\n+\t}\n+\n+}"
  } ],
  "sha" : "ff6b6cefecd0688765915617855d46424c07c15e",
  "url" : "https://api.github.com/repos/hzuapps/java-web/commits/ff6b6cefecd0688765915617855d46424c07c15e",
  "parents" : [ {
    "sha" : "d9f84ad973de3c3e57efdb7329bcb78a9a76f6be",
    "url" : "https://api.github.com/repos/hzuapps/java-web/commits/d9f84ad973de3c3e57efdb7329bcb78a9a76f6be",
    "html_url" : "https://github.com/hzuapps/java-web/commit/d9f84ad973de3c3e57efdb7329bcb78a9a76f6be"
  }, {
    "sha" : "f1317fbca8572becc0aa20cf2a6e5aaa1aa14454",
    "url" : "https://api.github.com/repos/hzuapps/java-web/commits/f1317fbca8572becc0aa20cf2a6e5aaa1aa14454",
    "html_url" : "https://github.com/hzuapps/java-web/commit/f1317fbca8572becc0aa20cf2a6e5aaa1aa14454"
  } ]
}