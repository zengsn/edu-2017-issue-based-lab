{
  "committer" : {
    "login" : "yuanxiaofengzuishuai",
    "id" : 26320812,
    "avatar_url" : "https://avatars0.githubusercontent.com/u/26320812?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/yuanxiaofengzuishuai",
    "html_url" : "https://github.com/yuanxiaofengzuishuai",
    "followers_url" : "https://api.github.com/users/yuanxiaofengzuishuai/followers",
    "following_url" : "https://api.github.com/users/yuanxiaofengzuishuai/following{/other_user}",
    "gists_url" : "https://api.github.com/users/yuanxiaofengzuishuai/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/yuanxiaofengzuishuai/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/yuanxiaofengzuishuai/subscriptions",
    "organizations_url" : "https://api.github.com/users/yuanxiaofengzuishuai/orgs",
    "repos_url" : "https://api.github.com/users/yuanxiaofengzuishuai/repos",
    "events_url" : "https://api.github.com/users/yuanxiaofengzuishuai/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/yuanxiaofengzuishuai/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "stats" : {
    "total" : 397,
    "additions" : 396,
    "deletions" : 1
  },
  "author" : {
    "login" : "yuanxiaofengzuishuai",
    "id" : 26320812,
    "avatar_url" : "https://avatars0.githubusercontent.com/u/26320812?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/yuanxiaofengzuishuai",
    "html_url" : "https://github.com/yuanxiaofengzuishuai",
    "followers_url" : "https://api.github.com/users/yuanxiaofengzuishuai/followers",
    "following_url" : "https://api.github.com/users/yuanxiaofengzuishuai/following{/other_user}",
    "gists_url" : "https://api.github.com/users/yuanxiaofengzuishuai/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/yuanxiaofengzuishuai/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/yuanxiaofengzuishuai/subscriptions",
    "organizations_url" : "https://api.github.com/users/yuanxiaofengzuishuai/orgs",
    "repos_url" : "https://api.github.com/users/yuanxiaofengzuishuai/repos",
    "events_url" : "https://api.github.com/users/yuanxiaofengzuishuai/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/yuanxiaofengzuishuai/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "html_url" : "https://github.com/hzuapps/android-labs-2017/commit/6b9b3e3f34b5f9e1d61ee5bdefd9ec4d465bcd66",
  "commit" : {
    "author" : {
      "name" : "yuanxiaofengzuishuai",
      "email" : "1293365398@qq.com",
      "date" : "2017-06-01T14:37:37Z"
    },
    "committer" : {
      "name" : "yuanxiaofengzuishuai",
      "email" : "1293365398@qq.com",
      "date" : "2017-06-01T14:37:37Z"
    },
    "message" : "#5 #172 第五次作业",
    "tree" : {
      "sha" : "3f20a4712527035d0bb2445de9142e39ee5dad28",
      "url" : "https://api.github.com/repos/hzuapps/android-labs-2017/git/trees/3f20a4712527035d0bb2445de9142e39ee5dad28"
    },
    "url" : "https://api.github.com/repos/hzuapps/android-labs-2017/git/commits/6b9b3e3f34b5f9e1d61ee5bdefd9ec4d465bcd66",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/android-labs-2017/commits/6b9b3e3f34b5f9e1d61ee5bdefd9ec4d465bcd66/comments",
  "files" : [ {
    "sha" : "30428b2097603422cbe39675fc99a2614bdf6fc0",
    "filename" : "AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903132/Net1414080903132Activity.java",
    "status" : "modified",
    "additions" : 21,
    "deletions" : 1,
    "changes" : 22,
    "blob_url" : "https://github.com/hzuapps/android-labs-2017/blob/6b9b3e3f34b5f9e1d61ee5bdefd9ec4d465bcd66/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903132/Net1414080903132Activity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs-2017/raw/6b9b3e3f34b5f9e1d61ee5bdefd9ec4d465bcd66/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903132/Net1414080903132Activity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs-2017/contents/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903132/Net1414080903132Activity.java?ref=6b9b3e3f34b5f9e1d61ee5bdefd9ec4d465bcd66",
    "patch" : "@@ -2,15 +2,35 @@\n \n import android.support.v7.app.AppCompatActivity;\n import android.os.Bundle;\n+import android.widget.Button;\n+import android.widget.TextView;\n \n import edu.hzuapps.androidlabs.R;\n \n public class Net1414080903132Activity extends AppCompatActivity {\n \n-    @Override\n+    private Net1414080903132SnakeView mSnakeView;\n+\n+    private Button mStart;\n+    private Button mStart1;\n+    private Button mStart2;\n+\n+    private static String ICICLE_KEY = \"snake-view\";\n+\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         setContentView(R.layout.activity_net1414080903132);\n+\n+        mSnakeView = (Net1414080903132SnakeView) findViewById(R.id.snake);\n+\n+        mSnakeView.setTextView((TextView) findViewById(R.id.text));\n+        mSnakeView.setStartButton((Button) findViewById(R.id.start));\n+        mSnakeView.setStartButton1((Button) findViewById(R.id.start1));\n+        mSnakeView.setStartButton2((Button) findViewById(R.id.start2));\n+\n+        mSnakeView.setControlButton((Button) findViewById(R.id.left), (Button) findViewById(R.id.right),\n+                (Button) findViewById(R.id.top), (Button) findViewById(R.id.bottom));\n+\n     }\n \n }"
  }, {
    "sha" : "ee681373738335afcb2b644cfdf1e1bcd967e2a4",
    "filename" : "AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903132/Net1414080903132SnakeView.java",
    "status" : "added",
    "additions" : 286,
    "deletions" : 0,
    "changes" : 286,
    "blob_url" : "https://github.com/hzuapps/android-labs-2017/blob/6b9b3e3f34b5f9e1d61ee5bdefd9ec4d465bcd66/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903132/Net1414080903132SnakeView.java",
    "raw_url" : "https://github.com/hzuapps/android-labs-2017/raw/6b9b3e3f34b5f9e1d61ee5bdefd9ec4d465bcd66/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903132/Net1414080903132SnakeView.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs-2017/contents/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903132/Net1414080903132SnakeView.java?ref=6b9b3e3f34b5f9e1d61ee5bdefd9ec4d465bcd66",
    "patch" : "@@ -0,0 +1,286 @@\n+package edu.hzuapps.androidlabs.homework.net1414080903132;\n+\n+import android.content.Context;\n+import android.content.res.Resources;\n+import android.util.AttributeSet;\n+import android.view.View;\n+import android.view.View.OnClickListener;\n+import android.widget.Button;\n+import android.widget.TextView;\n+\n+import java.io.BufferedReader;\n+import java.io.BufferedWriter;\n+import java.io.FileInputStream;\n+import java.io.FileNotFoundException;\n+import java.io.FileOutputStream;\n+import java.io.IOException;\n+import java.io.InputStreamReader;\n+import java.io.OutputStreamWriter;\n+\n+import edu.hzuapps.androidlabs.R;\n+\n+\n+public class Net1414080903132SnakeView extends Net1414080903132mapView implements OnClickListener {\n+\n+    private int mMode = READY;// 这个是游戏的5中状态。\n+    public static final int PAUSE = 0;//暂停\n+    public static final int READY = 1;//准备\n+    public static final int RUNNING = 2;//运行\n+    public static final int LOSE = 3;//失败\n+\n+    private TextView mStatusText;// 这个是开始的时候的提示语\n+\n+    private Button mStart;//简单\n+    private Button mStart1;//普通\n+    private Button mStart2;//困难\n+\n+    private static final int RED_STAR = 1;// 这7个标签分别来表示不同的点的drawable。比如RED_STAR代表的是蛇的身子的点\n+    private static final int YELLOW = 2;\n+    private static final int YELLOW_STAR = 3;\n+    private static final int HEAD_UP=4;\n+    private static final int HEAD_DOWN=5;\n+    private static final int HEAD_LEFT=6;\n+    private static final int HEAD_RIGHT=7;\n+\n+    private Button mLeft;//这四个按钮控制蛇运行的方向\n+    private Button mRight;\n+    private Button mTop;\n+    private Button mBottom;\n+\n+    private int mDirection = NORTH; // 蛇的四种方向和下一步前进的方向\n+    private int mNextDirection = NORTH;\n+    private static final int NORTH = 1;\n+    private static final int SOUTH = 2;\n+    private static final int EAST = 3;\n+    private static final int WEST = 4;\n+\n+    private long mScore; // 成绩，吃了多少的苹果\n+    private String lishi;//历史成绩\n+    private double mModeAdd;//蛇前进速度增量\n+    private long mMoveDelay;// 间隔多少毫秒进行移动一次\n+\n+    public Net1414080903132SnakeView(Context context, AttributeSet att) {\n+        super(context, att);\n+    }\n+    public Net1414080903132SnakeView(Context context, AttributeSet att, int def) {\n+        super(context, att, def);\n+    }\n+\n+    public void setTextView(TextView newView) {\n+        mStatusText = newView;\n+    }\n+\n+\n+    public void setStartButton(Button button) {\n+        mStart = button;\n+        mStart.setOnClickListener(this);\n+    }\n+    public void setStartButton1(Button button) {\n+        mStart1 = button;\n+        mStart1.setOnClickListener(this);\n+    }\n+    public void setStartButton2(Button button) {\n+        mStart2 = button;\n+        mStart2.setOnClickListener(this);\n+    }\n+    //获得当前游戏的状态\n+    public void setMode(int newMode) {\n+        int oldMode = mMode;\n+        mMode = newMode;\n+\n+        if (newMode == RUNNING & oldMode != RUNNING) {\n+            mStatusText.setVisibility(View.INVISIBLE);\n+            return;\n+        }\n+\n+        Resources res = getContext().getResources();\n+        CharSequence str = \"\";\n+\n+        if (newMode == PAUSE) {\n+            str = res.getText(R.string.mode_pause);\n+        }\n+        //如果状态为READY，将成绩储存的游戏成绩读出\n+        if (newMode == READY) {\n+            try{\n+                FileInputStream inputdata1=null;\n+                BufferedReader reader=null;\n+                String data1=\"\";\n+                inputdata1=this.getContext().openFileInput(\"chji\");\n+                reader=new BufferedReader(new InputStreamReader(inputdata1));\n+                lishi=reader.readLine();\n+            } catch (FileNotFoundException e) {\n+                e.printStackTrace();\n+            } catch (IOException e) {\n+                e.printStackTrace();\n+            }\n+            str = res.getText(R.string.mode_ready)+\"\\n成绩：\"+lishi;\n+        }\n+        //如果状态为LOSE，将历史成绩读出与当前成绩比较，如果比历史成绩大就将成绩储存起来\n+        if (newMode == LOSE) {\n+            try{\n+                FileInputStream inputdata1=null;\n+                BufferedReader reader=null;\n+                inputdata1=this.getContext().openFileInput(\"chji\");\n+                reader=new BufferedReader(new InputStreamReader(inputdata1));\n+                lishi=reader.readLine();\n+            } catch (FileNotFoundException e) {\n+                e.printStackTrace();\n+            } catch (IOException e) {\n+                e.printStackTrace();\n+            }\n+\n+            if(lishi==null||Long.parseLong(lishi)<mScore){\n+                FileOutputStream outputdata1;\n+                BufferedWriter write1=null;\n+                String data=String.valueOf(mScore);\n+                try {\n+                    outputdata1=this.getContext().openFileOutput(\"chji\", Context.MODE_PRIVATE);\n+                    write1=new BufferedWriter(new OutputStreamWriter(outputdata1));\n+                    write1.write(data);\n+                }catch (IOException e){\n+                    e.printStackTrace();\n+                }  finally {\n+                    try{\n+                        if(write1!=null){\n+                            write1.close();\n+                        }\n+                    }catch (IOException e){\n+                        e.printStackTrace();\n+                    }\n+                }\n+            }\n+            str = res.getString(R.string.mode_lose_prefix) + mScore + res.getString(R.string.mode_lose_suffix);\n+        }\n+\n+        mStatusText.setText(str);\n+        mStatusText.setVisibility(View.VISIBLE);\n+        mStart.setVisibility(View.VISIBLE);\n+\n+        mStart1.setVisibility(View.VISIBLE);\n+        mStart2.setVisibility(View.VISIBLE);\n+\n+        mLeft.setVisibility(View.INVISIBLE);\n+        mRight.setVisibility(View.INVISIBLE);\n+        mTop.setVisibility(View.INVISIBLE);\n+        mBottom.setVisibility(View.INVISIBLE);\n+    }\n+\n+    public void onClick(View v) {\n+        switch (v.getId()) {\n+            case R.id.start:\n+\n+                mModeAdd=1;\n+                mMoveDelay=200;\n+                if (mMode == READY | mMode == LOSE) {\n+\n+                    setMode(RUNNING);\n+\n+                    mStart.setVisibility(View.GONE);\n+                    mStart1.setVisibility(View.GONE);\n+                    mStart2.setVisibility(View.GONE);\n+                    mLeft.setVisibility(View.VISIBLE);\n+                    mRight.setVisibility(View.VISIBLE);\n+                    mTop.setVisibility(View.VISIBLE);\n+                    mBottom.setVisibility(View.VISIBLE);\n+                }\n+                if (mMode == PAUSE) {\n+                    setMode(RUNNING);\n+                    mStart.setVisibility(View.GONE);\n+                    mStart1.setVisibility(View.GONE);\n+                    mStart2.setVisibility(View.GONE);\n+                    mLeft.setVisibility(View.VISIBLE);\n+                    mRight.setVisibility(View.VISIBLE);\n+                    mTop.setVisibility(View.VISIBLE);\n+                    mBottom.setVisibility(View.VISIBLE);\n+                }\n+                break;\n+            case R.id.start1:\n+                mModeAdd=0.97;\n+                mMoveDelay=200;\n+                if (mMode == READY | mMode == LOSE) {\n+\n+                    setMode(RUNNING);\n+\n+                    mStart.setVisibility(View.GONE);\n+                    mStart1.setVisibility(View.GONE);\n+                    mStart2.setVisibility(View.GONE);\n+                    mLeft.setVisibility(View.VISIBLE);\n+                    mRight.setVisibility(View.VISIBLE);\n+                    mTop.setVisibility(View.VISIBLE);\n+                    mBottom.setVisibility(View.VISIBLE);\n+                }\n+                if (mMode == PAUSE) {\n+                    setMode(RUNNING);\n+\n+                    mStart.setVisibility(View.GONE);\n+                    mStart1.setVisibility(View.GONE);\n+                    mStart2.setVisibility(View.GONE);\n+                    mLeft.setVisibility(View.VISIBLE);\n+                    mRight.setVisibility(View.VISIBLE);\n+                    mTop.setVisibility(View.VISIBLE);\n+                    mBottom.setVisibility(View.VISIBLE);\n+                }\n+                break;\n+            case R.id.start2:\n+                mModeAdd=0.93;\n+                mMoveDelay=150;\n+                if (mMode == READY | mMode == LOSE) {\n+\n+                    setMode(RUNNING);\n+\n+                    mStart.setVisibility(View.GONE);\n+                    mStart1.setVisibility(View.GONE);\n+                    mStart2.setVisibility(View.GONE);\n+                    mLeft.setVisibility(View.VISIBLE);\n+                    mRight.setVisibility(View.VISIBLE);\n+                    mTop.setVisibility(View.VISIBLE);\n+                    mBottom.setVisibility(View.VISIBLE);\n+                }\n+                if (mMode == PAUSE) {\n+                    setMode(RUNNING);\n+\n+                    mStart.setVisibility(View.GONE);\n+                    mStart1.setVisibility(View.GONE);\n+                    mStart2.setVisibility(View.GONE);\n+                    mLeft.setVisibility(View.VISIBLE);\n+                    mRight.setVisibility(View.VISIBLE);\n+                    mTop.setVisibility(View.VISIBLE);\n+                    mBottom.setVisibility(View.VISIBLE);\n+                }\n+                break;\n+            case R.id.left:\n+                if (mDirection != EAST) {\n+                    mNextDirection = WEST;\n+                }\n+                break;\n+            case R.id.right:\n+                if (mDirection != WEST) {\n+                    mNextDirection = EAST;\n+                }\n+                break;\n+            case R.id.top:\n+                if (mDirection != SOUTH) {\n+                    mNextDirection = NORTH;\n+                }\n+                break;\n+            case R.id.bottom:\n+                if (mDirection != NORTH) {\n+                    mNextDirection = SOUTH;\n+                }\n+                break;\n+            default:\n+                break;\n+\n+        }\n+    }\n+    public void setControlButton(Button left, Button right, Button top, Button bottom) {\n+        mLeft = left;\n+        mRight = right;\n+        mTop = top;\n+        mBottom = bottom;\n+        mLeft.setOnClickListener(this);\n+        mRight.setOnClickListener(this);\n+        mTop.setOnClickListener(this);\n+        mBottom.setOnClickListener(this);\n+    }\n+}"
  }, {
    "sha" : "54bb90ac586fea9f5ce62a3e8d70cd0b2374fa46",
    "filename" : "AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903132/Net1414080903132mapView.java",
    "status" : "added",
    "additions" : 89,
    "deletions" : 0,
    "changes" : 89,
    "blob_url" : "https://github.com/hzuapps/android-labs-2017/blob/6b9b3e3f34b5f9e1d61ee5bdefd9ec4d465bcd66/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903132/Net1414080903132mapView.java",
    "raw_url" : "https://github.com/hzuapps/android-labs-2017/raw/6b9b3e3f34b5f9e1d61ee5bdefd9ec4d465bcd66/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903132/Net1414080903132mapView.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs-2017/contents/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903132/Net1414080903132mapView.java?ref=6b9b3e3f34b5f9e1d61ee5bdefd9ec4d465bcd66",
    "patch" : "@@ -0,0 +1,89 @@\n+package edu.hzuapps.androidlabs.homework.net1414080903132;\n+\n+import android.content.Context;\n+import android.content.res.TypedArray;\n+import android.graphics.Bitmap;\n+import android.graphics.Canvas;\n+import android.graphics.Paint;\n+import android.graphics.drawable.Drawable;\n+import android.util.AttributeSet;\n+import android.view.View;\n+\n+import edu.hzuapps.androidlabs.R;\n+\n+\n+public class Net1414080903132mapView extends View {\n+    protected static int pointSize;// 地图点的大小。其实就是点的宽和高，大小一样\n+    private final Paint mPaint = new Paint();//画笔，用来画蛇还有点\n+\n+    protected static int mXpointCount;// 地图上x轴能够容纳的tile的数量。下面类似\n+    protected static int mYpointCount;\n+\n+    private static int mXOffset;// 地图的起始X坐标\n+    private static int mYOffset;//地图的起始Y坐标\n+\n+    private Bitmap[] mpointArray;//地图上每个点对应的图片数组，每个点对应一个bitmap，比如mTileArray[1]对应蛇身上的点\n+    private int[][] mpointGrid;//地图上每个点的数组，比如mpointGrid[0][0]=1的话就是该点事蛇身s\n+\n+    public Net1414080903132mapView(Context context, AttributeSet att, int def){\n+        super(context,att,def);\n+        TypedArray a = context.obtainStyledAttributes(att, R.styleable.Net1414080903132mapView);\n+\n+        pointSize = a.getInt(R.styleable.Net1414080903132mapView_pointSize, 48);\n+\n+        a.recycle();\n+    }\n+    public Net1414080903132mapView(Context context, AttributeSet att) {\n+        super(context, att);\n+\n+        TypedArray a = context.obtainStyledAttributes(att, R.styleable.Net1414080903132mapView);\n+\n+        pointSize = a.getInt(R.styleable.Net1414080903132mapView_pointSize, 48);\n+\n+        a.recycle();\n+    }\n+    public void resetTiles(int pointcount) {\n+\n+        mpointArray = new Bitmap[pointcount];\n+    }\n+    @Override\n+    //用来获得屏幕的大小然后获得地图的起始X坐标等参数\n+    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n+        mXpointCount = (int) Math.floor(w / pointSize);\n+        mYpointCount = (int) Math.floor(h / pointSize);\n+\n+        mXOffset = ((w - (pointSize * mXpointCount)) / 2);\n+        mYOffset = ((h - (pointSize * mYpointCount)) / 2);\n+\n+        mpointGrid = new int[mXpointCount][mYpointCount];\n+        clearpoint();\n+    }\n+    public void setPoint(int pointindex, int x, int y) {\n+        mpointGrid[x][y] = pointindex;\n+    }\n+    public void clearpoint() {\n+        for (int x = 0; x < mXpointCount; x++) {\n+            for (int y = 0; y < mYpointCount; y++) {\n+                setPoint(0, x, y);\n+            }\n+        }\n+    }\n+    public void loadTile(int key, Drawable tile) {\n+        Bitmap bitmap = Bitmap.createBitmap(pointSize, pointSize, Bitmap.Config.ARGB_8888);\n+        Canvas canvas = new Canvas(bitmap);\n+        tile.setBounds(0, 0, pointSize, pointSize);\n+        tile.draw(canvas);\n+\n+        mpointArray[key] = bitmap;\n+    }\n+    public void onDraw(Canvas canvas) {\n+        super.onDraw(canvas);\n+        for (int x = 0; x < mXpointCount; x += 1) {\n+            for (int y = 0; y < mYpointCount; y += 1) {\n+                if (mpointGrid[x][y] > 0) {\n+                    canvas.drawBitmap(mpointArray[mpointGrid[x][y]], mXOffset + x * pointSize, mYOffset + y * pointSize, mPaint);\n+                }\n+            }\n+        }\n+    }\n+}"
  } ],
  "sha" : "6b9b3e3f34b5f9e1d61ee5bdefd9ec4d465bcd66",
  "url" : "https://api.github.com/repos/hzuapps/android-labs-2017/commits/6b9b3e3f34b5f9e1d61ee5bdefd9ec4d465bcd66",
  "parents" : [ {
    "sha" : "09bb1eadb244e32c0f09636ce55dbf735148e2e9",
    "url" : "https://api.github.com/repos/hzuapps/android-labs-2017/commits/09bb1eadb244e32c0f09636ce55dbf735148e2e9",
    "html_url" : "https://github.com/hzuapps/android-labs-2017/commit/09bb1eadb244e32c0f09636ce55dbf735148e2e9"
  } ]
}