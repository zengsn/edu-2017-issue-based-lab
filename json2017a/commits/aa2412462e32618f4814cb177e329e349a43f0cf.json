{
  "committer" : {
    "login" : "zida106",
    "id" : 26035370,
    "avatar_url" : "https://avatars3.githubusercontent.com/u/26035370?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/zida106",
    "html_url" : "https://github.com/zida106",
    "followers_url" : "https://api.github.com/users/zida106/followers",
    "following_url" : "https://api.github.com/users/zida106/following{/other_user}",
    "gists_url" : "https://api.github.com/users/zida106/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/zida106/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/zida106/subscriptions",
    "organizations_url" : "https://api.github.com/users/zida106/orgs",
    "repos_url" : "https://api.github.com/users/zida106/repos",
    "events_url" : "https://api.github.com/users/zida106/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/zida106/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "stats" : {
    "total" : 472,
    "additions" : 432,
    "deletions" : 40
  },
  "author" : {
    "login" : "zida106",
    "id" : 26035370,
    "avatar_url" : "https://avatars3.githubusercontent.com/u/26035370?v=3",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/zida106",
    "html_url" : "https://github.com/zida106",
    "followers_url" : "https://api.github.com/users/zida106/followers",
    "following_url" : "https://api.github.com/users/zida106/following{/other_user}",
    "gists_url" : "https://api.github.com/users/zida106/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/zida106/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/zida106/subscriptions",
    "organizations_url" : "https://api.github.com/users/zida106/orgs",
    "repos_url" : "https://api.github.com/users/zida106/repos",
    "events_url" : "https://api.github.com/users/zida106/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/zida106/received_events",
    "type" : "User",
    "site_admin" : false
  },
  "html_url" : "https://github.com/hzuapps/android-labs-2017/commit/aa2412462e32618f4814cb177e329e349a43f0cf",
  "commit" : {
    "author" : {
      "name" : "zida106",
      "email" : "3242078165@qq.com",
      "date" : "2017-06-19T11:16:55Z"
    },
    "committer" : {
      "name" : "zida106",
      "email" : "3242078165@qq.com",
      "date" : "2017-06-19T11:16:55Z"
    },
    "message" : "#5 #33 第六次作业",
    "tree" : {
      "sha" : "8796dc93cdf00e7befc45437583fdd49d19810ad",
      "url" : "https://api.github.com/repos/hzuapps/android-labs-2017/git/trees/8796dc93cdf00e7befc45437583fdd49d19810ad"
    },
    "url" : "https://api.github.com/repos/hzuapps/android-labs-2017/git/commits/aa2412462e32618f4814cb177e329e349a43f0cf",
    "comment_count" : 0
  },
  "comments_url" : "https://api.github.com/repos/hzuapps/android-labs-2017/commits/aa2412462e32618f4814cb177e329e349a43f0cf/comments",
  "files" : [ {
    "sha" : "897abde02793158d5e69557442f4ce9ade399553",
    "filename" : "AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903106/Net1414080903106MainActivity.java",
    "status" : "modified",
    "additions" : 169,
    "deletions" : 5,
    "changes" : 174,
    "blob_url" : "https://github.com/hzuapps/android-labs-2017/blob/aa2412462e32618f4814cb177e329e349a43f0cf/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903106/Net1414080903106MainActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs-2017/raw/aa2412462e32618f4814cb177e329e349a43f0cf/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903106/Net1414080903106MainActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs-2017/contents/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903106/Net1414080903106MainActivity.java?ref=aa2412462e32618f4814cb177e329e349a43f0cf",
    "patch" : "@@ -1,10 +1,25 @@\n-package edu.hzuapps.androidlabs.homworks.net1414080903106;\n+package edu.hzuapps.androidlabs.homeworks.net1414080903106;\n \n import android.app.Activity;\n import android.content.Intent;\n import android.os.Bundle;\n+import android.os.Handler;\n+import android.os.Message;\n+import android.util.Log;\n import android.view.View;\n+import android.widget.Button;\n import android.widget.TextView;\n+import android.widget.Toast;\n+\n+import org.xmlpull.v1.XmlPullParser;\n+import org.xmlpull.v1.XmlPullParserFactory;\n+\n+import java.io.BufferedReader;\n+import java.io.InputStream;\n+import java.io.InputStreamReader;\n+import java.io.StringReader;\n+import java.net.HttpURLConnection;\n+import java.net.URL;\n \n import edu.hzuapps.androidlabs.R;\n \n@@ -14,22 +29,171 @@\n \n public class Net1414080903106MainActivity extends Activity implements View.OnClickListener {\n     private TextView SelectCityBtn;\n+    private TextView CityName,Temperature,Climate;\n+    private Button UpdateBtn;\n+    private Button ParseXml;\n+    private String updateCityCode;\n+    Net1414080903106Weather weather=null;\n+\n+    private Handler mHandler=new Handler(){\n+        public void handleMessage(android.os.Message message){\n+            switch(message.what){\n+                case 1:\n+                    updateWeather((Net1414080903106Weather) message.obj);\n+                    break;\n+                default:\n+                    break;\n+            }\n+        }\n+    };\n+\n     @Override\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         setContentView(R.layout.activity_net1414080903106_main);\n \n-        //绑定“切换城市”文本\n+        //绑定组件\n         SelectCityBtn=(TextView) findViewById(R.id.title_city_locate);\n         SelectCityBtn.setOnClickListener(this);\n+        CityName=(TextView) findViewById(R.id.wether_cityName);\n+        Temperature=(TextView) findViewById(R.id.weather_temperature);\n+        Climate=(TextView) findViewById(R.id.weather_climate);\n+        CityName.setText(\"N/A\");\n+        Temperature.setText(\"N/A\");\n+        Climate.setText(\"N/A\");\n+        UpdateBtn=(Button) findViewById(R.id.weather_btn_update);\n+        UpdateBtn.setOnClickListener(this);\n+        ParseXml=(Button) findViewById(R.id.parse_xml);\n+        ParseXml.setOnClickListener(this);\n+\n+        //检查网络连接状态\n+        if(Net1414080903106CheckNet.getNetState(this)==Net1414080903106CheckNet.NET_NONE){\n+            Log.d(\"MainActivity\",\"网络不通\");\n+            Toast.makeText(Net1414080903106MainActivity.this,\"网络不通\",Toast.LENGTH_LONG).show();\n+        }else{\n+            Log.d(\"MainActivity\",\"网络OK\");\n+            Toast.makeText(Net1414080903106MainActivity.this,\"网络OK\",Toast.LENGTH_LONG).show();\n+        }\n+\n+        updateCityCode=getIntent().getStringExtra(\"citycode\");\n+        if(updateCityCode!=\"-1\"){\n+            getWeatherDatafromNet(updateCityCode);\n+        }\n     }\n \n     @Override\n     public void onClick(View v) {\n-        if(v.getId()==R.id.title_city_locate)\n-        {\n-            Intent intent=new Intent(this,Net1414080803016SelectCity.class);\n+        if(v.getId()==R.id.title_city_locate) {\n+            Intent intent=new Intent(this, Net1414080903106SelectCity.class);\n+            startActivity(intent);\n+        }else if(v.getId()==R.id.weather_btn_update){\n+            getWeatherDatafromNet(\"101010100\");\n+        }else if(v.getId()==R.id.parse_xml) {\n+            Intent intent=new Intent(this, Net1414080903106ParseXmlActivity.class);\n             startActivity(intent);\n         }\n     }\n+\n+    //获取网络上的数据\n+    private void getWeatherDatafromNet(String citycode){\n+        final String address=\"http://wthrcdn.etouch.cn/WeatherApi?citykey=\"+citycode;\n+        Log.d(\"Address\",address);\n+        new Thread(new Runnable() {\n+            @Override\n+            public void run() {\n+                HttpURLConnection urlConnection=null;\n+                try{\n+                    URL url=new URL(address);\n+                    urlConnection=(HttpURLConnection) url.openConnection();\n+                    urlConnection.setRequestMethod(\"GET\");\n+                    urlConnection.setConnectTimeout(8000);\n+                    urlConnection.setReadTimeout(8000);\n+                    InputStream in=urlConnection.getInputStream();\n+                    BufferedReader reader=new BufferedReader(new InputStreamReader(in));\n+                    StringBuffer sb=new StringBuffer();\n+                    String str;\n+                    while((str=reader.readLine())!=null){\n+                        sb.append(str);\n+                        Log.d(\"data from url\",str);\n+                    }\n+                    String response=sb.toString();\n+                    Log.d(\"response\",response);\n+\n+                    //调用parseXML函数\n+                    weather=parseXML(response);\n+                    if(weather!=null){\n+                        Log.d(\"weatherData\",weather.toString());\n+                        Message message=new Message();\n+                        message.what=1;\n+                        message.obj=weather;\n+                        mHandler.sendMessage(message);\n+                    }\n+\n+                }catch (Exception e){\n+                    e.printStackTrace();\n+                }\n+            }\n+        }).start();\n+    }\n+\n+    //通过xmlPullParser解析xml数据\n+    private Net1414080903106Weather parseXML(String xmlData){\n+        Net1414080903106Weather weather=null;\n+        int typeCount=0;\n+        try{\n+            XmlPullParserFactory factory=XmlPullParserFactory.newInstance();\n+            XmlPullParser xmlPullParser=factory.newPullParser();\n+            xmlPullParser.setInput(new StringReader(xmlData));\n+\n+            int eventType=xmlPullParser.getEventType();\n+            Log.d(\"MainActivity\",\"start parse xml\");\n+\n+            while(eventType!=xmlPullParser.END_DOCUMENT){\n+                switch(eventType){\n+                    //文档开始位置\n+                    case XmlPullParser.START_DOCUMENT:\n+                        Log.d(\"MainActivity\",\"start doc\");\n+                        break;\n+                    //标签元素开始位置\n+                    case XmlPullParser.START_TAG:\n+                        if(xmlPullParser.getName().equals(\"resp\")){\n+                            weather=new Net1414080903106Weather();\n+                        }\n+                        if(weather!=null){\n+                            if(xmlPullParser.getName().equals(\"city\")){\n+                                eventType=xmlPullParser.next();\n+                                Log.d(\"city\",xmlPullParser.getText());\n+                                weather.setCity(xmlPullParser.getText());\n+                            }else if(xmlPullParser.getName().equals(\"wendu\")){\n+                                eventType=xmlPullParser.next();\n+                                Log.d(\"wendu\",xmlPullParser.getText());\n+                                weather.setWendu(xmlPullParser.getText());\n+                            }else if(xmlPullParser.getName().equals(\"type\")&&typeCount==0){\n+                                eventType=xmlPullParser.next();\n+                                Log.d(\"type\",xmlPullParser.getText());\n+                                weather.setType(xmlPullParser.getText());\n+                                typeCount++;\n+                            }\n+                        }\n+                        break;\n+                    case XmlPullParser.END_TAG:\n+                        break;\n+                }\n+                eventType=xmlPullParser.next();\n+            }\n+        }catch (Exception e){\n+            e.printStackTrace();\n+        }\n+        Log.d(\"parseXML\",weather.toString());\n+        return weather;\n+    }\n+\n+    //更新组件\n+    void updateWeather(Net1414080903106Weather weather){\n+        CityName.setText(weather.getCity());\n+        Temperature.setText(weather.getWendu()+\"℃\");\n+        Climate.setText(weather.getType());\n+        Log.d(\"MainActivity\",\"更新成功\");\n+        Toast.makeText(Net1414080903106MainActivity.this,\"更新成功\",Toast.LENGTH_SHORT).show();\n+    }\n }"
  }, {
    "sha" : "2d0d37f6078266342634a61ed435c569a2422f45",
    "filename" : "AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903106/Net1414080903106ParseXmlActivity.java",
    "status" : "added",
    "additions" : 157,
    "deletions" : 0,
    "changes" : 157,
    "blob_url" : "https://github.com/hzuapps/android-labs-2017/blob/aa2412462e32618f4814cb177e329e349a43f0cf/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903106/Net1414080903106ParseXmlActivity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs-2017/raw/aa2412462e32618f4814cb177e329e349a43f0cf/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903106/Net1414080903106ParseXmlActivity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs-2017/contents/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903106/Net1414080903106ParseXmlActivity.java?ref=aa2412462e32618f4814cb177e329e349a43f0cf",
    "patch" : "@@ -0,0 +1,157 @@\n+package edu.hzuapps.androidlabs.homeworks.net1414080903106;\n+\n+\n+import android.os.Handler;\n+import android.os.Message;\n+import android.support.v7.app.AppCompatActivity;\n+import android.os.Bundle;\n+import android.util.Log;\n+import android.widget.TextView;\n+import android.widget.Toast;\n+\n+import org.xmlpull.v1.XmlPullParser;\n+import org.xmlpull.v1.XmlPullParserFactory;\n+\n+import java.io.BufferedReader;\n+import java.io.InputStream;\n+import java.io.InputStreamReader;\n+import java.io.StringReader;\n+import java.net.HttpURLConnection;\n+import java.net.URL;\n+\n+import edu.hzuapps.androidlabs.R;\n+\n+public class Net1414080903106ParseXmlActivity extends AppCompatActivity {\n+    private TextView CityName,Temperature,Climate;\n+    Net1414080903106Weather weather=null;\n+\n+\n+    private Handler mHandler=new Handler(){\n+        public void handleMessage(android.os.Message message){\n+            switch(message.what){\n+                case 1:\n+                    updateWeather((Net1414080903106Weather) message.obj);\n+                    break;\n+                default:\n+                    break;\n+            }\n+        }\n+    };\n+\n+    @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        setContentView(R.layout.activity_net1414080903106_parse_xml);\n+\n+        CityName=(TextView) findViewById(R.id.wether_cityName);\n+        Temperature=(TextView) findViewById(R.id.weather_temperature);\n+        Climate=(TextView) findViewById(R.id.weather_climate);\n+        CityName.setText(\"N/A\");\n+        Temperature.setText(\"N/A\");\n+        Climate.setText(\"N/A\");\n+\n+        getWeatherDatafromNet();\n+    }\n+\n+    //获取网络上的数据\n+    private void getWeatherDatafromNet(){\n+        final String address=\"https://raw.githubusercontent.com/zida106/android-labs-2017/master/AndroidLabs/app/src/main/res/values/weather.xml\";\n+        Log.d(\"Address\",address);\n+        new Thread(new Runnable() {\n+            @Override\n+            public void run() {\n+                HttpURLConnection urlConnection=null;\n+                try{\n+                    URL url=new URL(address);\n+                    urlConnection=(HttpURLConnection) url.openConnection();\n+                    urlConnection.setRequestMethod(\"GET\");\n+                    urlConnection.setConnectTimeout(8000);\n+                    urlConnection.setReadTimeout(8000);\n+                    InputStream in=urlConnection.getInputStream();\n+                    BufferedReader reader=new BufferedReader(new InputStreamReader(in));\n+                    StringBuffer sb=new StringBuffer();\n+                    String str;\n+                    while((str=reader.readLine())!=null){\n+                        sb.append(str);\n+                        Log.d(\"data from url\",str);\n+                    }\n+                    String response=sb.toString();\n+                    Log.d(\"response\",response);\n+\n+                    //调用parseXML函数\n+                    weather=parseXML(response);\n+                    if(weather!=null){\n+                        Log.d(\"weatherData\",weather.toString());\n+                        Message message=new Message();\n+                        message.what=1;\n+                        message.obj=weather;\n+                        mHandler.sendMessage(message);\n+                    }\n+\n+                }catch (Exception e){\n+                    e.printStackTrace();\n+                }\n+            }\n+        }).start();\n+    }\n+\n+    //通过xmlPullParser解析xml数据\n+    private Net1414080903106Weather parseXML(String xmlData){\n+        Net1414080903106Weather weather=null;\n+        try{\n+            XmlPullParserFactory factory=XmlPullParserFactory.newInstance();\n+            XmlPullParser xmlPullParser=factory.newPullParser();\n+            xmlPullParser.setInput(new StringReader(xmlData));\n+\n+            int eventType=xmlPullParser.getEventType();\n+            Log.d(\"ParseXmlActivity\",\"start parse xml\");\n+\n+            while(eventType!=xmlPullParser.END_DOCUMENT){\n+                switch(eventType){\n+                    //文档开始位置\n+                    case XmlPullParser.START_DOCUMENT:\n+                        Log.d(\"ParseXmlActivity\",\"start doc\");\n+                        break;\n+                    //标签元素开始位置\n+                    case XmlPullParser.START_TAG:\n+                        if(xmlPullParser.getName().equals(\"resources\")){\n+                            weather=new Net1414080903106Weather();\n+                        }\n+                        if(weather!=null){\n+                            if(xmlPullParser.getName().equals(\"city\")){\n+                                eventType=xmlPullParser.next();\n+                                Log.d(\"city\",xmlPullParser.getText());\n+                                weather.setCity(xmlPullParser.getText());\n+                            }else if(xmlPullParser.getName().equals(\"wendu\")){\n+                                eventType=xmlPullParser.next();\n+                                Log.d(\"wendu\",xmlPullParser.getText());\n+                                weather.setWendu(xmlPullParser.getText());\n+                            }else if(xmlPullParser.getName().equals(\"type\")){\n+                                eventType=xmlPullParser.next();\n+                                Log.d(\"type\",xmlPullParser.getText());\n+                                weather.setType(xmlPullParser.getText());\n+                            }\n+                        }\n+                        break;\n+                    case XmlPullParser.END_TAG:\n+                        break;\n+                }\n+                eventType=xmlPullParser.next();\n+            }\n+        }catch (Exception e){\n+            e.printStackTrace();\n+        }\n+        Log.d(\"parseXML\",weather.toString());\n+        return weather;\n+    }\n+\n+    //更新组件\n+    void updateWeather(Net1414080903106Weather weather){\n+        CityName.setText(weather.getCity());\n+        Temperature.setText(weather.getWendu()+\"℃\");\n+        Climate.setText(weather.getType());\n+        Log.d(\"XmlActivity\",\"更新成功\");\n+        Toast.makeText(Net1414080903106ParseXmlActivity.this,\"更新成功\",Toast.LENGTH_SHORT).show();\n+    }\n+}\n+"
  }, {
    "sha" : "ed12201134624fb1af4958bb894ed49b1c2a19b6",
    "filename" : "AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903106/Net1414080903106SelectCity.java",
    "status" : "modified",
    "additions" : 44,
    "deletions" : 24,
    "changes" : 68,
    "blob_url" : "https://github.com/hzuapps/android-labs-2017/blob/aa2412462e32618f4814cb177e329e349a43f0cf/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903106/Net1414080903106SelectCity.java",
    "raw_url" : "https://github.com/hzuapps/android-labs-2017/raw/aa2412462e32618f4814cb177e329e349a43f0cf/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903106/Net1414080903106SelectCity.java",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs-2017/contents/AndroidLabs/app/src/main/java/edu/hzuapps/androidlabs/homeworks/net1414080903106/Net1414080903106SelectCity.java?ref=aa2412462e32618f4814cb177e329e349a43f0cf",
    "patch" : "@@ -7,11 +7,13 @@\n import android.text.TextWatcher;\n import android.util.Log;\n import android.view.View;\n+import android.widget.Adapter;\n import android.widget.AdapterView;\n import android.widget.ArrayAdapter;\n import android.widget.EditText;\n import android.widget.ImageButton;\n import android.widget.ListView;\n+import android.widget.TextView;\n \n import java.util.ArrayList;\n import java.util.List;\n@@ -26,19 +28,27 @@\n     private ImageButton backBtn;\n     private ListView cityListLv;\n     private EditText searchEt;\n+    private TextView searchBtn;\n \n     private List<Net1414080903106City> mCityList;\n     private MyApplication mApplication;\n     private ArrayList<String> mArrayList;\n+    ArrayAdapter<String> adapter;\n+\n+    private String updateCityCode=\"-1\";\n+    private String selectNo;\n+    boolean searched = false;\n \n     @Override\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         setContentView(R.layout.activity_net1414080903106_select_city);\n \n-        //绑定“返回”按钮\n+        //绑定组件\n         backBtn=(ImageButton) findViewById(R.id.btn_selectCity_back);\n         backBtn.setOnClickListener(this);\n+        searchBtn=(TextView) findViewById(R.id.btn_search);\n+        searchBtn.setOnClickListener(this);\n \n         searchEt=(EditText) findViewById(R.id.et_cityName);\n \n@@ -51,47 +61,57 @@ protected void onCreate(Bundle savedInstanceState) {\n             mArrayList.add(cityName+\" \"+provinceName);\n         }\n         cityListLv=(ListView) findViewById(R.id.selectcity_lv);\n-        final ArrayAdapter<String> adapter=new ArrayAdapter<String>(Net1414080903106SelectCity.this,android.R.layout.simple_list_item_1,mArrayList);\n+        adapter=new ArrayAdapter<String>(Net1414080903106SelectCity.this,android.R.layout.simple_list_item_1,mArrayList);\n+        adapter.notifyDataSetChanged();\n         cityListLv.setAdapter(adapter);\n \n+        final Intent intent = new Intent(this,Net1414080903106MainActivity.class).setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\n         //添加LiatView项的点击事件的动作\n         AdapterView.OnItemClickListener itemClickListener=new AdapterView.OnItemClickListener() {\n             @Override\n             public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {\n-                int updateCityCode=Integer.parseInt(mCityList.get(i).getNumber());\n-                Intent intent=new Intent(Net1414080903106SelectCity.this,Net1414080903106MainActivity.class);\n-                intent.putExtra(\"citycode\",updateCityCode);\n-                startActivity(intent);\n+                if(searched){\n+                    updateCityCode = mCityList.get(Integer.parseInt(selectNo)).getNumber();\n+                }else {\n+                    updateCityCode = mCityList.get(i).getNumber();\n+                }\n+                Log.d(\"update city code\",updateCityCode);\n+\n+                Log.d(\"updateCityCode\",updateCityCode);\n             }\n         };\n         //为组件绑定监听\n         cityListLv.setOnItemClickListener(itemClickListener);\n-\n-        //EditText实现搜索功能效果\n-        searchEt.addTextChangedListener(new TextWatcher() {\n-            @Override\n-            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n-\n-            }\n-\n-            @Override\n-            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n-                adapter.getFilter().filter(charSequence);\n-            }\n-\n-            @Override\n-            public void afterTextChanged(Editable editable) {\n-\n-            }\n-        });\n     }\n \n     @Override\n     public void onClick(View v) {\n         switch (v.getId())\n         {\n+            case R.id.btn_search:\n+                String city=searchEt.getText().toString();\n+                for(int i=0;i<mCityList.size();i++){\n+                    String provinceName=mCityList.get(i).getProvince();\n+                    String cityName=mCityList.get(i).getCity();\n+                    if(cityName.equals(city)){\n+                        searched = true;\n+                        selectNo = Integer.toString(i);\n+                        mArrayList.clear();\n+                        mArrayList.add(cityName+\" \"+provinceName);\n+                        Log.d(\"changed adapter data\",cityName+\" \"+provinceName);\n+                    }\n+                    adapter=new ArrayAdapter<String>(Net1414080903106SelectCity.this,android.R.layout.simple_list_item_1,mArrayList);\n+                    cityListLv.setAdapter(adapter);\n+                    adapter.notifyDataSetChanged();\n+                }\n+                Intent intent=new Intent(this,Net1414080903106MainActivity.class);\n+                intent.putExtra(\"citycode\",updateCityCode);\n+                startActivity(intent);\n             case R.id.btn_selectCity_back:\n                 finish();\n+                //Intent intent=new Intent(this,Net1414080903106MainActivity.class);\n+                //intent.putExtra(\"citycode\",updateCityCode);\n+                //startActivity(intent);\n                 break;\n             default:\n                 break;"
  }, {
    "sha" : "ebccd9d4eef088c6918180c60fa2a1bcdd7e2f94",
    "filename" : "AndroidLabs/app/src/main/res/layout/activity_net1414080903106_main.xml",
    "status" : "modified",
    "additions" : 19,
    "deletions" : 11,
    "changes" : 30,
    "blob_url" : "https://github.com/hzuapps/android-labs-2017/blob/aa2412462e32618f4814cb177e329e349a43f0cf/AndroidLabs/app/src/main/res/layout/activity_net1414080903106_main.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs-2017/raw/aa2412462e32618f4814cb177e329e349a43f0cf/AndroidLabs/app/src/main/res/layout/activity_net1414080903106_main.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs-2017/contents/AndroidLabs/app/src/main/res/layout/activity_net1414080903106_main.xml?ref=aa2412462e32618f4814cb177e329e349a43f0cf",
    "patch" : "@@ -2,12 +2,9 @@\n <RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n-    android:orientation=\"vertical\">\n-    <ImageView\n-        android:layout_width=\"match_parent\"\n-        android:layout_height=\"match_parent\"\n-        android:scaleType=\"fitXY\"\n-        android:src=\"@drawable/background\"/>\n+    android:orientation=\"vertical\"\n+    android:background=\"@drawable/background\">\n+\n     <RelativeLayout\n         android:id=\"@+id/title_relative\"\n         android:layout_width=\"match_parent\"\n@@ -44,7 +41,6 @@\n             android:layout_height=\"wrap_content\"\n             android:layout_centerHorizontal=\"true\"\n             android:layout_marginTop=\"30.0dp\"\n-            android:text=\"惠州\"\n             android:textColor=\"#FFFFFF\"\n             android:textSize=\"50.0sp\"/>\n         <TextView\n@@ -53,17 +49,29 @@\n             android:layout_height=\"wrap_content\"\n             android:layout_centerHorizontal=\"true\"\n             android:layout_below=\"@id/wether_cityName\"\n-            android:text=\"25℃\"\n             android:textColor=\"#FFFFFF\"\n             android:textSize=\"25.0sp\"/>\n         <TextView\n-            android:id=\"@+id/weather_state\"\n+            android:id=\"@+id/weather_climate\"\n             android:layout_width=\"wrap_content\"\n             android:layout_height=\"wrap_content\"\n             android:layout_centerHorizontal=\"true\"\n             android:layout_below=\"@id/weather_temperature\"\n-            android:text=\"阵雨\"\n             android:textColor=\"#FFFFFF\"\n-            android:textSize=\"25.0sp\"/>\n+            android:textSize=\"25.0sp\" />\n+        <Button\n+            android:id=\"@+id/weather_btn_update\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\"\n+            android:layout_centerHorizontal=\"true\"\n+            android:layout_below=\"@id/weather_climate\"\n+            android:text=\"刷新\"/>\n+        <Button\n+            android:id=\"@+id/parse_xml\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\"\n+            android:layout_below=\"@id/weather_btn_update\"\n+            android:layout_centerHorizontal=\"true\"\n+            android:text=\"解析xml\"/>\n     </RelativeLayout>\n </RelativeLayout>"
  }, {
    "sha" : "736dec909198aeee3d34df20f98d6246bf472d50",
    "filename" : "AndroidLabs/app/src/main/res/layout/activity_net1414080903106_parse_xml.xml",
    "status" : "added",
    "additions" : 43,
    "deletions" : 0,
    "changes" : 43,
    "blob_url" : "https://github.com/hzuapps/android-labs-2017/blob/aa2412462e32618f4814cb177e329e349a43f0cf/AndroidLabs/app/src/main/res/layout/activity_net1414080903106_parse_xml.xml",
    "raw_url" : "https://github.com/hzuapps/android-labs-2017/raw/aa2412462e32618f4814cb177e329e349a43f0cf/AndroidLabs/app/src/main/res/layout/activity_net1414080903106_parse_xml.xml",
    "contents_url" : "https://api.github.com/repos/hzuapps/android-labs-2017/contents/AndroidLabs/app/src/main/res/layout/activity_net1414080903106_parse_xml.xml?ref=aa2412462e32618f4814cb177e329e349a43f0cf",
    "patch" : "@@ -0,0 +1,43 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:tools=\"http://schemas.android.com/tools\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"match_parent\"\n+    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n+    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n+    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n+    android:paddingTop=\"@dimen/activity_vertical_margin\"\n+    android:background=\"@drawable/background\"\n+    tools:context=\"edu.hzuapps.androidlabs.homeworks.net1414080903106.Net1414080903106ParseXmlActivity\">\n+    <RelativeLayout\n+        android:id=\"@+id/weather_relative\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_below=\"@id/title_relative\"\n+        android:orientation=\"vertical\">\n+        <TextView\n+            android:id=\"@+id/wether_cityName\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\"\n+            android:layout_centerHorizontal=\"true\"\n+            android:layout_marginTop=\"30.0dp\"\n+            android:textColor=\"#FFFFFF\"\n+            android:textSize=\"50.0sp\"/>\n+        <TextView\n+            android:id=\"@+id/weather_temperature\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\"\n+            android:layout_centerHorizontal=\"true\"\n+            android:layout_below=\"@id/wether_cityName\"\n+            android:textColor=\"#FFFFFF\"\n+            android:textSize=\"25.0sp\"/>\n+        <TextView\n+            android:id=\"@+id/weather_climate\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\"\n+            android:layout_centerHorizontal=\"true\"\n+            android:layout_below=\"@id/weather_temperature\"\n+            android:textColor=\"#FFFFFF\"\n+            android:textSize=\"25.0sp\" />\n+    </RelativeLayout>\n+</RelativeLayout>"
  } ],
  "sha" : "aa2412462e32618f4814cb177e329e349a43f0cf",
  "url" : "https://api.github.com/repos/hzuapps/android-labs-2017/commits/aa2412462e32618f4814cb177e329e349a43f0cf",
  "parents" : [ {
    "sha" : "02ec46dca304e36cb0d1691170c2ba6f166df7b5",
    "url" : "https://api.github.com/repos/hzuapps/android-labs-2017/commits/02ec46dca304e36cb0d1691170c2ba6f166df7b5",
    "html_url" : "https://github.com/hzuapps/android-labs-2017/commit/02ec46dca304e36cb0d1691170c2ba6f166df7b5"
  } ]
}